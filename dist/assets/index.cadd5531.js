var Nu=Object.defineProperty;var Zu=(t,n,o)=>n in t?Nu(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var wi=(t,n,o)=>(Zu(t,typeof n!="symbol"?n+"":n,o),o);import{U as Vu,V as Dr,q as x,n as Ke,W as Hu,x as oe,X as Mn,H as Ti,C as st,Y as di,i as Ee,F as Ca,j as _t,l as et,Z as Hi,$ as Lt,a0 as $s,a1 as oa,a2 as Uu,a3 as ju,a4 as Wu,a5 as Gu,h as g,M as mt,T as ua,K as kt,B as ut,a6 as ca,a7 as Ku,a8 as Rs,a9 as qs,u as ko,p as Mo,aa as Ds,I as fi,v as Yu,ab as Qu,ac as Xu,ad as Ju,ae as Fs,af as Ln,ag as Ns,y as ec,ah as Ao,D as Zs,E as Vs,A as tc,ai as ic,aj as _n,N as ii,L as nc,ak as An,_ as ai,c as We,a as ae,al as ct,t as St,e as ni,am as Eo,an as Hs,b as ge,ao as kn,ap as Oo,o as qe,aq as Us,ar as xn,as as ha,at as pn,au as Fr,av as ac,w as He,aw as Vt,ax as ra,ay as oc,Q as xt,az as Ni,aA as da,aB as Nr,aC as sa,aD as rc,z as gn,aE as sc,aF as ao,aG as lc,aH as uc,f as Ui}from"./index.90bad9b0.js";import{r as Zr,b as cc,u as Bt,a as zt,c as js,d as Io,e as Ws,f as Gs,g as Ks,h as Bo,i as hc,n as Vr,j as Hr,k as dc,Q as Ci,l as Ys,m as Zt}from"./QInput.18a79e05.js";import{Q as Qs,a as Si}from"./QCard.7aae46f1.js";const fc=[null,document,document.body,document.scrollingElement,document.documentElement];function zo(t,n){let o=Vu(n);if(o===void 0){if(t==null)return window;o=t.closest(".scroll,.scroll-y,.overflow-auto")}return fc.includes(o)?window:o}function vc(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function mc(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let Jn;function _c(){if(Jn!==void 0)return Jn;const t=document.createElement("p"),n=document.createElement("div");Dr(t,{width:"100%",height:"200px"}),Dr(n,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(t),document.body.appendChild(n);const o=t.offsetWidth;n.style.overflow="scroll";let l=t.offsetWidth;return o===l&&(l=n.clientWidth),n.remove(),Jn=o-l,Jn}function pc(t,n=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:n?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}const gc=x("div",{class:"q-space"});var yc=Ke({name:"QSpace",setup(){return()=>gc}});function fa(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),Hu.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Xs={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Js({showing:t,avoidEmit:n,configureAnchorEl:o}){const{props:l,proxy:s,emit:c}=et(),h=oe(null);let f;function v(S){return h.value===null?!1:S===void 0||S.touches===void 0||S.touches.length<=1}const y={};o===void 0&&(Object.assign(y,{hide(S){s.hide(S)},toggle(S){s.toggle(S),S.qAnchorHandled=!0},toggleKey(S){Mn(S,13)===!0&&y.toggle(S)},contextClick(S){s.hide(S),Ti(S),st(()=>{s.show(S),S.qAnchorHandled=!0})},prevent:Ti,mobileTouch(S){if(y.mobileCleanup(S),v(S)!==!0)return;s.hide(S),h.value.classList.add("non-selectable");const M=S.target;di(y,"anchor",[[M,"touchmove","mobileCleanup","passive"],[M,"touchend","mobileCleanup","passive"],[M,"touchcancel","mobileCleanup","passive"],[h.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{s.show(S),S.qAnchorHandled=!0},300)},mobileCleanup(S){h.value.classList.remove("non-selectable"),clearTimeout(f),t.value===!0&&S!==void 0&&fa()}}),o=function(S=l.contextMenu){if(l.noParentEvent===!0||h.value===null)return;let M;S===!0?s.$q.platform.is.mobile===!0?M=[[h.value,"touchstart","mobileTouch","passive"]]:M=[[h.value,"mousedown","hide","passive"],[h.value,"contextmenu","contextClick","notPassive"]]:M=[[h.value,"click","toggle","passive"],[h.value,"keyup","toggleKey","passive"]],di(y,"anchor",M)});function m(){Hi(y,"anchor")}function w(S){for(h.value=S;h.value.classList.contains("q-anchor--skip");)h.value=h.value.parentNode;o()}function T(){if(l.target===!1||l.target===""||s.$el.parentNode===null)h.value=null;else if(l.target===!0)w(s.$el.parentNode);else{let S=l.target;if(typeof l.target=="string")try{S=document.querySelector(l.target)}catch{S=void 0}S!=null?(h.value=S.$el||S,o()):(h.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return Ee(()=>l.contextMenu,S=>{h.value!==null&&(m(),o(S))}),Ee(()=>l.target,()=>{h.value!==null&&m(),T()}),Ee(()=>l.noParentEvent,S=>{h.value!==null&&(S===!0?m():o())}),Ca(()=>{T(),n!==!0&&l.modelValue===!0&&h.value===null&&c("update:modelValue",!1)}),_t(()=>{clearTimeout(f),m()}),{anchorEl:h,canShow:v,anchorEvents:y}}function el(t,n){const o=oe(null);let l;function s(f,v){const y=`${v!==void 0?"add":"remove"}EventListener`,m=v!==void 0?v:l;f!==window&&f[y]("scroll",m,Lt.passive),window[y]("scroll",m,Lt.passive),l=v}function c(){o.value!==null&&(s(o.value),o.value=null)}const h=Ee(()=>t.noParentEvent,()=>{o.value!==null&&(c(),n())});return _t(h),{localScrollTarget:o,unconfigureScrollTarget:c,changeScrollEvent:s}}const $o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Ro=["before-show","show","before-hide","hide"];function qo({showing:t,canShow:n,hideOnRouteChange:o,handleShow:l,handleHide:s,processOnMount:c}){const h=et(),{props:f,emit:v,proxy:y}=h;let m;function w(z){t.value===!0?M(z):T(z)}function T(z){if(f.disable===!0||z!==void 0&&z.qAnchorHandled===!0||n!==void 0&&n(z)!==!0)return;const Y=f["onUpdate:modelValue"]!==void 0;Y===!0&&(v("update:modelValue",!0),m=z,st(()=>{m===z&&(m=void 0)})),(f.modelValue===null||Y===!1)&&S(z)}function S(z){t.value!==!0&&(t.value=!0,v("before-show",z),l!==void 0?l(z):v("show",z))}function M(z){if(f.disable===!0)return;const Y=f["onUpdate:modelValue"]!==void 0;Y===!0&&(v("update:modelValue",!1),m=z,st(()=>{m===z&&(m=void 0)})),(f.modelValue===null||Y===!1)&&E(z)}function E(z){t.value!==!1&&(t.value=!1,v("before-hide",z),s!==void 0?s(z):v("hide",z))}function O(z){f.disable===!0&&z===!0?f["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!1):z===!0!==t.value&&(z===!0?S:E)(m)}Ee(()=>f.modelValue,O),o!==void 0&&$s(h)===!0&&Ee(()=>y.$route.fullPath,()=>{o.value===!0&&t.value===!0&&M()}),c===!0&&Ca(()=>{O(f.modelValue)});const J={show:T,hide:M,toggle:w};return Object.assign(y,J),J}const ji=[];function bc(t){return ji.find(n=>n.__qPortalInnerRef.value!==null&&n.__qPortalInnerRef.value.contains(t))}function tl(t,n){do{if(t.$options.name==="QMenu"){if(t.hide(n),t.$props.separateClosePopup===!0)return oa(t)}else if(t.__qPortalInnerRef!==void 0){const o=oa(t);return o!==void 0&&o.$options.name==="QPopupProxy"?(t.hide(n),o):t}t=oa(t)}while(t!=null)}function wc(t,n,o){for(;o!==0&&t!==void 0&&t!==null;){if(t.__qPortalInnerRef!==void 0){if(o--,t.$options.name==="QMenu"){t=tl(t,n);continue}t.hide(n)}t=oa(t)}}function Sc(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function Do(t,n,o,l){const s=oe(!1),c=oe(!1);let h=null;const f={},v=l===!0&&Sc(t);function y(w){if(w===!0){Zr(f),c.value=!0;return}c.value=!1,s.value===!1&&(v===!1&&h===null&&(h=Wu()),s.value=!0,ji.push(t.proxy),cc(f))}function m(w){if(c.value=!1,w!==!0)return;Zr(f),s.value=!1;const T=ji.indexOf(t.proxy);T>-1&&ji.splice(T,1),h!==null&&(Gu(h),h=null)}return Uu(()=>{m(!0)}),Object.assign(t.proxy,{__qPortalInnerRef:n}),{showPortal:y,hidePortal:m,portalIsActive:s,portalIsAccessible:c,renderPortal:()=>v===!0?o():s.value===!0?[x(ju,{to:h},o())]:void 0}}const Fo={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function il(t,n){const o=oe(n.value);return Ee(n,l=>{st(()=>{o.value=l})}),{transition:g(()=>"q-transition--"+(o.value===!0?t.transitionHide:t.transitionShow)),transitionStyle:g(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}function No(){let t;return _t(()=>{t=void 0}),{registerTick(n){t=n,st(()=>{t===n&&(t(),t=void 0)})},removeTick(){t=void 0}}}function Zo(){let t;return _t(()=>{clearTimeout(t)}),{registerTimeout(n,o){clearTimeout(t),t=setTimeout(n,o)},removeTimeout(){clearTimeout(t)}}}let nl;const{notPassiveCapture:va}=Lt,Pi=[];function ma(t){clearTimeout(nl);const n=t.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let o=ji.length-1;for(;o>=0;){const l=ji[o].$;if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;o--}for(let l=Pi.length-1;l>=0;l--){const s=Pi[l];if((s.anchorEl.value===null||s.anchorEl.value.contains(n)===!1)&&(n===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(n)===!1))t.qClickOutside=!0,s.onClickOutside(t);else return}}function al(t){Pi.push(t),Pi.length===1&&(document.addEventListener("mousedown",ma,va),document.addEventListener("touchstart",ma,va))}function _a(t){const n=Pi.findIndex(o=>o===t);n>-1&&(Pi.splice(n,1),Pi.length===0&&(clearTimeout(nl),document.removeEventListener("mousedown",ma,va),document.removeEventListener("touchstart",ma,va)))}let Ur,jr;function pa(t){const n=t.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ol(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const yo={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{yo[`${t}#ltr`]=t,yo[`${t}#rtl`]=t});function ga(t,n){const o=t.split(" ");return{vertical:o[0],horizontal:yo[`${o[1]}#${n===!0?"rtl":"ltr"}`]}}function xc(t,n){let{top:o,left:l,right:s,bottom:c,width:h,height:f}=t.getBoundingClientRect();return n!==void 0&&(o-=n[1],l-=n[0],c+=n[1],s+=n[0],h+=n[0],f+=n[1]),{top:o,left:l,right:s,bottom:c,width:h,height:f,middle:l+(s-l)/2,center:o+(c-o)/2}}function Tc(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function rl(t){if(mt.is.ios===!0&&window.visualViewport!==void 0){const f=document.body.style,{offsetLeft:v,offsetTop:y}=window.visualViewport;v!==Ur&&(f.setProperty("--q-pe-left",v+"px"),Ur=v),y!==jr&&(f.setProperty("--q-pe-top",y+"px"),jr=y)}let n;const{scrollLeft:o,scrollTop:l}=t.el;if(t.absoluteOffset===void 0)n=xc(t.anchorEl,t.cover===!0?[0,0]:t.offset);else{const{top:f,left:v}=t.anchorEl.getBoundingClientRect(),y=f+t.absoluteOffset.top,m=v+t.absoluteOffset.left;n={top:y,left:m,width:1,height:1,right:m+1,center:y,middle:m,bottom:y+1}}let s={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};(t.fit===!0||t.cover===!0)&&(s.minWidth=n.width+"px",t.cover===!0&&(s.minHeight=n.height+"px")),Object.assign(t.el.style,s);const c=Tc(t.el),h={top:n[t.anchorOrigin.vertical]-c[t.selfOrigin.vertical],left:n[t.anchorOrigin.horizontal]-c[t.selfOrigin.horizontal]};Cc(h,n,c,t.anchorOrigin,t.selfOrigin),s={top:h.top+"px",left:h.left+"px"},h.maxHeight!==void 0&&(s.maxHeight=h.maxHeight+"px",n.height>h.maxHeight&&(s.minHeight=s.maxHeight)),h.maxWidth!==void 0&&(s.maxWidth=h.maxWidth+"px",n.width>h.maxWidth&&(s.minWidth=s.maxWidth)),Object.assign(t.el.style,s),t.el.scrollTop!==l&&(t.el.scrollTop=l),t.el.scrollLeft!==o&&(t.el.scrollLeft=o)}function Cc(t,n,o,l,s){const c=o.bottom,h=o.right,f=_c(),v=window.innerHeight-f,y=document.body.clientWidth;if(t.top<0||t.top+c>v)if(s.vertical==="center")t.top=n[l.vertical]>v/2?Math.max(0,v-c):0,t.maxHeight=Math.min(c,v);else if(n[l.vertical]>v/2){const m=Math.min(v,l.vertical==="center"?n.center:l.vertical===s.vertical?n.bottom:n.top);t.maxHeight=Math.min(c,m),t.top=Math.max(0,m-c)}else t.top=Math.max(0,l.vertical==="center"?n.center:l.vertical===s.vertical?n.top:n.bottom),t.maxHeight=Math.min(c,v-t.top);if(t.left<0||t.left+h>y)if(t.maxWidth=Math.min(h,y),s.horizontal==="middle")t.left=n[l.horizontal]>y/2?Math.max(0,y-h):0;else if(n[l.horizontal]>y/2){const m=Math.min(y,l.horizontal==="middle"?n.middle:l.horizontal===s.horizontal?n.right:n.left);t.maxWidth=Math.min(h,m),t.left=Math.max(0,m-t.maxWidth)}else t.left=Math.max(0,l.horizontal==="middle"?n.middle:l.horizontal===s.horizontal?n.left:n.right),t.maxWidth=Math.min(h,y-t.left)}var oo=Ke({name:"QTooltip",inheritAttrs:!1,props:{...Xs,...$o,...Fo,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:pa},self:{type:String,default:"top middle",validator:pa},offset:{type:Array,default:()=>[14,14],validator:ol},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Ro],setup(t,{slots:n,emit:o,attrs:l}){let s,c;const h=et(),{proxy:{$q:f}}=h,v=oe(null),y=oe(!1),m=g(()=>ga(t.anchor,f.lang.rtl)),w=g(()=>ga(t.self,f.lang.rtl)),T=g(()=>t.persistent!==!0),{registerTick:S,removeTick:M}=No(),{registerTimeout:E,removeTimeout:O}=Zo(),{transition:J,transitionStyle:z}=il(t,y),{localScrollTarget:Y,changeScrollEvent:$,unconfigureScrollTarget:Q}=el(t,A),{anchorEl:_e,canShow:Me,anchorEvents:ye}=Js({showing:y,configureAnchorEl:k}),{show:Re,hide:be}=qo({showing:y,canShow:Me,handleShow:re,handleHide:he,hideOnRouteChange:T,processOnMount:!0});Object.assign(ye,{delayShow:D,delayHide:Pe});const{showPortal:ne,hidePortal:R,renderPortal:ie}=Do(h,v,W);if(f.platform.is.mobile===!0){const H={anchorEl:_e,innerRef:v,onClickOutside(F){return be(F),F.target.classList.contains("q-dialog__backdrop")&&ut(F),!0}},ee=g(()=>t.modelValue===null&&t.persistent!==!0&&y.value===!0);Ee(ee,F=>{(F===!0?al:_a)(H)}),_t(()=>{_a(H)})}function re(H){M(),O(),ne(),S(()=>{c=new MutationObserver(()=>we()),c.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),we(),A()}),s===void 0&&(s=Ee(()=>f.screen.width+"|"+f.screen.height+"|"+t.self+"|"+t.anchor+"|"+f.lang.rtl,we)),E(()=>{ne(!0),o("show",H)},t.transitionDuration)}function he(H){M(),O(),R(),se(),E(()=>{R(!0),o("hide",H)},t.transitionDuration)}function se(){c!==void 0&&(c.disconnect(),c=void 0),s!==void 0&&(s(),s=void 0),Q(),Hi(ye,"tooltipTemp")}function we(){const H=v.value;_e.value===null||!H||rl({el:H,offset:t.offset,anchorEl:_e.value,anchorOrigin:m.value,selfOrigin:w.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function D(H){if(f.platform.is.mobile===!0){fa(),document.body.classList.add("non-selectable");const ee=_e.value,F=["touchmove","touchcancel","touchend","click"].map(G=>[ee,G,"delayHide","passiveCapture"]);di(ye,"tooltipTemp",F)}E(()=>{Re(H)},t.delay)}function Pe(H){O(),f.platform.is.mobile===!0&&(Hi(ye,"tooltipTemp"),fa(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),E(()=>{be(H)},t.hideDelay)}function k(){if(t.noParentEvent===!0||_e.value===null)return;const H=f.platform.is.mobile===!0?[[_e.value,"touchstart","delayShow","passive"]]:[[_e.value,"mouseenter","delayShow","passive"],[_e.value,"mouseleave","delayHide","passive"]];di(ye,"anchor",H)}function A(){if(_e.value!==null||t.scrollTarget!==void 0){Y.value=zo(_e.value,t.scrollTarget);const H=t.noParentEvent===!0?we:be;$(Y.value,H)}}function V(){return y.value===!0?x("div",{...l,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,z.value],role:"complementary"},kt(n.default)):null}function W(){return x(ua,{name:J.value,appear:!0},V)}return _t(se),Object.assign(h.proxy,{updatePosition:we}),ie}}),Pc=Ke({name:"QBar",props:{...Bt,dense:Boolean},setup(t,{slots:n}){const o=et(),l=zt(t,o.proxy.$q),s=g(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${l.value===!0?"dark":"light"}`);return()=>x("div",{class:s.value,role:"toolbar"},kt(n.default))}});function Lc(t,n,o){let l;function s(){l!==void 0&&(ca.remove(l),l=void 0)}return _t(()=>{t.value===!0&&s()}),{removeFromHistory:s,addToHistory(){l={condition:()=>o.value===!0,handler:n},ca.add(l)}}}let yn=0,ro,so,Tn,lo=!1,Wr,Gr,Zi;function kc(t){Mc(t)&&ut(t)}function Mc(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const n=Ku(t),o=t.shiftKey&&!t.deltaX,l=!o&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),s=o||l?t.deltaY:t.deltaX;for(let c=0;c<n.length;c++){const h=n[c];if(pc(h,l))return l?s<0&&h.scrollTop===0?!0:s>0&&h.scrollTop+h.clientHeight===h.scrollHeight:s<0&&h.scrollLeft===0?!0:s>0&&h.scrollLeft+h.clientWidth===h.scrollWidth}return!0}function Kr(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ea(t){lo!==!0&&(lo=!0,requestAnimationFrame(()=>{lo=!1;const{height:n}=t.target,{clientHeight:o,scrollTop:l}=document.scrollingElement;(Tn===void 0||n!==window.innerHeight)&&(Tn=o-n,document.scrollingElement.scrollTop=l),l>Tn&&(document.scrollingElement.scrollTop-=Math.ceil((l-Tn)/8))}))}function Yr(t){const n=document.body,o=window.visualViewport!==void 0;if(t==="add"){const{overflowY:l,overflowX:s}=window.getComputedStyle(n);ro=mc(window),so=vc(window),Wr=n.style.left,Gr=n.style.top,n.style.left=`-${ro}px`,n.style.top=`-${so}px`,s!=="hidden"&&(s==="scroll"||n.scrollWidth>window.innerWidth)&&n.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||n.scrollHeight>window.innerHeight)&&n.classList.add("q-body--force-scrollbar-y"),n.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,mt.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",ea,Lt.passiveCapture),window.visualViewport.addEventListener("scroll",ea,Lt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Kr,Lt.passiveCapture))}mt.is.desktop===!0&&mt.is.mac===!0&&window[`${t}EventListener`]("wheel",kc,Lt.notPassive),t==="remove"&&(mt.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",ea,Lt.passiveCapture),window.visualViewport.removeEventListener("scroll",ea,Lt.passiveCapture)):window.removeEventListener("scroll",Kr,Lt.passiveCapture)),n.classList.remove("q-body--prevent-scroll"),n.classList.remove("q-body--force-scrollbar-x"),n.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,n.style.left=Wr,n.style.top=Gr,window.scrollTo(ro,so),Tn=void 0)}function Ac(t){let n="add";if(t===!0){if(yn++,Zi!==void 0){clearTimeout(Zi),Zi=void 0;return}if(yn>1)return}else{if(yn===0||(yn--,yn>0))return;if(n="remove",mt.is.ios===!0&&mt.is.nativeMobile===!0){clearTimeout(Zi),Zi=setTimeout(()=>{Yr(n),Zi=void 0},100);return}}Yr(n)}function Ec(){let t;return{preventBodyScroll(n){n!==t&&(t!==void 0||n===!0)&&(t=n,Ac(n))}}}const Li=[];let Ki;function Oc(t){Ki=t.keyCode===27}function Ic(){Ki===!0&&(Ki=!1)}function Bc(t){Ki===!0&&(Ki=!1,Mn(t,27)===!0&&Li[Li.length-1](t))}function sl(t){window[t]("keydown",Oc),window[t]("blur",Ic),window[t]("keyup",Bc),Ki=!1}function ll(t){mt.is.desktop===!0&&(Li.push(t),Li.length===1&&sl("addEventListener"))}function ya(t){const n=Li.indexOf(t);n>-1&&(Li.splice(n,1),Li.length===0&&sl("removeEventListener"))}const ki=[];function ul(t){ki[ki.length-1](t)}function cl(t){mt.is.desktop===!0&&(ki.push(t),ki.length===1&&document.body.addEventListener("focusin",ul))}function bo(t){const n=ki.indexOf(t);n>-1&&(ki.splice(n,1),ki.length===0&&document.body.removeEventListener("focusin",ul))}let ta=0;const zc={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Qr={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Vo=Ke({name:"QDialog",inheritAttrs:!1,props:{...$o,...Fo,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>t==="standard"||["top","bottom","left","right"].includes(t)}},emits:[...Ro,"shake","click","escape-key"],setup(t,{slots:n,emit:o,attrs:l}){const s=et(),c=oe(null),h=oe(!1),f=oe(!1),v=oe(!1);let y,m=null,w,T;const S=g(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:M}=Ec(),{registerTimeout:E,removeTimeout:O}=Zo(),{registerTick:J,removeTick:z}=No(),{showPortal:Y,hidePortal:$,portalIsAccessible:Q,renderPortal:_e}=Do(s,c,ve,!0),{hide:Me}=qo({showing:h,hideOnRouteChange:S,handleShow:D,handleHide:Pe,processOnMount:!0}),{addToHistory:ye,removeFromHistory:Re}=Lc(h,Me,S),be=g(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${zc[t.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),ne=g(()=>"q-transition--"+(t.transitionShow===void 0?Qr[t.position][0]:t.transitionShow)),R=g(()=>"q-transition--"+(t.transitionHide===void 0?Qr[t.position][1]:t.transitionHide)),ie=g(()=>f.value===!0?R.value:ne.value),re=g(()=>`--q-transition-duration: ${t.transitionDuration}ms`),he=g(()=>h.value===!0&&t.seamless!==!0),se=g(()=>t.autoClose===!0?{onClick:ee}:{}),we=g(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${he.value===!0?"modal":"seamless"}`,l.class]);Ee(h,q=>{st(()=>{f.value=q})}),Ee(()=>t.maximized,q=>{h.value===!0&&H(q)}),Ee(he,q=>{M(q),q===!0?(cl(G),ll(V)):(bo(G),ya(V))});function D(q){O(),z(),ye(),m=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,H(t.maximized),Y(),v.value=!0,t.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),J(k)),E(()=>{if(s.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:K,bottom:Be}=document.activeElement.getBoundingClientRect(),{innerHeight:Qe}=window,ze=window.visualViewport!==void 0?window.visualViewport.height:Qe;K>0&&Be>ze/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ze,Be>=Qe?1/0:Math.ceil(document.scrollingElement.scrollTop+Be-ze/2))),document.activeElement.scrollIntoView()}T=!0,c.value.click(),T=!1}Y(!0),v.value=!1,o("show",q)},t.transitionDuration)}function Pe(q){O(),z(),Re(),W(!0),v.value=!0,$(),m!==null&&(m.focus(),m=null),E(()=>{$(!0),v.value=!1,o("hide",q)},t.transitionDuration)}function k(q){js(()=>{let K=c.value;K===null||K.contains(document.activeElement)===!0||(K=K.querySelector(q||"[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function A(){k(),o("shake");const q=c.value;q!==null&&(q.classList.remove("q-animate--scale"),q.classList.add("q-animate--scale"),clearTimeout(y),y=setTimeout(()=>{c.value!==null&&(q.classList.remove("q-animate--scale"),k())},170))}function V(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&A():(o("escape-key"),Me()))}function W(q){clearTimeout(y),(q===!0||h.value===!0)&&(H(!1),t.seamless!==!0&&(M(!1),bo(G),ya(V))),q!==!0&&(m=null)}function H(q){q===!0?w!==!0&&(ta<1&&document.body.classList.add("q-body--dialog"),ta++,w=!0):w===!0&&(ta<2&&document.body.classList.remove("q-body--dialog"),ta--,w=!1)}function ee(q){T!==!0&&(Me(q),o("click",q))}function F(q){t.persistent!==!0&&t.noBackdropDismiss!==!0?Me(q):t.noShake!==!0&&A()}function G(q){t.allowFocusOutside!==!0&&Q.value===!0&&Rs(c.value,q.target)!==!0&&k('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:k,shake:A,__updateRefocusTarget(q){m=q||null}}),_t(W);function ve(){return x("div",{...l,class:we.value},[x(ua,{name:"q-transition--fade",appear:!0},()=>he.value===!0?x("div",{class:"q-dialog__backdrop fixed-full",style:re.value,"aria-hidden":"true",onMousedown:F}):null),x(ua,{name:ie.value,appear:!0},()=>h.value===!0?x("div",{ref:c,class:be.value,style:re.value,tabindex:-1,...se.value},kt(n.default)):null)])}return _e}});function Xr(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const n=parseInt(t,10);return isNaN(n)?0:n}var $c=qs({name:"close-popup",beforeMount(t,{value:n}){const o={depth:Xr(n),handler(l){o.depth!==0&&setTimeout(()=>{const s=bc(t);s!==void 0&&wc(s,l,o.depth)})},handlerKey(l){Mn(l,13)===!0&&o.handler(l)}};t.__qclosepopup=o,t.addEventListener("click",o.handler),t.addEventListener("keyup",o.handlerKey)},updated(t,{value:n,oldValue:o}){n!==o&&(t.__qclosepopup.depth=Xr(n))},beforeUnmount(t){const n=t.__qclosepopup;t.removeEventListener("click",n.handler),t.removeEventListener("keyup",n.handlerKey),delete t.__qclosepopup}}),Rc=Ke({name:"QField",inheritAttrs:!1,props:Io,emits:Ws,setup(){return Gs(Ks())}});const qc={xs:8,sm:10,md:14,lg:20,xl:24};var Dc=Ke({name:"QChip",props:{...Bt,...ko,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:n,emit:o}){const{proxy:{$q:l}}=et(),s=zt(t,l),c=Mo(t,qc),h=g(()=>t.selected===!0||t.icon!==void 0),f=g(()=>t.selected===!0?t.iconSelected||l.iconSet.chip.selected:t.icon),v=g(()=>t.iconRemove||l.iconSet.chip.remove),y=g(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),m=g(()=>{const O=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(O?` text-${O} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(y.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),w=g(()=>t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0});function T(O){O.keyCode===13&&S(O)}function S(O){t.disable||(o("update:selected",!t.selected),o("click",O))}function M(O){(O.keyCode===void 0||O.keyCode===13)&&(ut(O),t.disable===!1&&(o("update:modelValue",!1),o("remove")))}function E(){const O=[];y.value===!0&&O.push(x("div",{class:"q-focus-helper"})),h.value===!0&&O.push(x(fi,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const J=t.label!==void 0?[x("div",{class:"ellipsis"},[t.label])]:void 0;return O.push(x("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Yu(n.default,J))),t.iconRight&&O.push(x(fi,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&O.push(x(fi,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...w.value,onClick:M,onKeyup:M})),O}return()=>{if(t.modelValue===!1)return;const O={class:m.value,style:c.value};return y.value===!0&&Object.assign(O,w.value,{onClick:S,onKeyup:T}),Ds("div",O,E(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[Qu,t.ripple]])}}}),Fc=Ke({name:"QItem",props:{...Bt,...Xu,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:n,emit:o}){const{proxy:{$q:l}}=et(),s=zt(t,l),{hasRouterLink:c,hasLink:h,linkProps:f,linkClass:v,linkTag:y,navigateToRouterLink:m}=Ju(),w=oe(null),T=oe(null),S=g(()=>t.clickable===!0||h.value===!0||t.tag==="label"),M=g(()=>t.disable!==!0&&S.value===!0),E=g(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(s.value===!0?" q-item--dark":"")+(h.value===!0&&t.active===null?v.value:t.active===!0?`${t.activeClass!==void 0?` ${t.activeClass}`:""} q-item--active`:"")+(t.disable===!0?" disabled":"")+(M.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),O=g(()=>{if(t.insetLevel===void 0)return null;const $=l.lang.rtl===!0?"Right":"Left";return{["padding"+$]:16+t.insetLevel*56+"px"}});function J($){M.value===!0&&(T.value!==null&&($.qKeyEvent!==!0&&document.activeElement===w.value?T.value.focus():document.activeElement===T.value&&w.value.focus()),c.value===!0&&m($),o("click",$))}function z($){if(M.value===!0&&Mn($,13)===!0){ut($),$.qKeyEvent=!0;const Q=new MouseEvent("click",$);Q.qKeyEvent=!0,w.value.dispatchEvent(Q)}o("keyup",$)}function Y(){const $=Fs(n.default,[]);return M.value===!0&&$.unshift(x("div",{class:"q-focus-helper",tabindex:-1,ref:T})),$}return()=>{const $={ref:w,class:E.value,style:O.value,onClick:J,onKeyup:z};return M.value===!0?($.tabindex=t.tabindex||"0",Object.assign($,f.value)):S.value===!0&&($["aria-disabled"]="true"),x(y.value,$,Y())}}}),Nc=Ke({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:n}){const o=g(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>x("div",{class:o.value},kt(n.default))}}),Zc=Ke({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:n}){const o=g(()=>parseInt(t.lines,10)),l=g(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),s=g(()=>t.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>x("div",{style:s.value,class:l.value},kt(n.default))}}),Vc=Ke({name:"QMenu",inheritAttrs:!1,props:{...Xs,...$o,...Bt,...Fo,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:pa},self:{type:String,validator:pa},offset:{type:Array,validator:ol},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ro,"click","escape-key"],setup(t,{slots:n,emit:o,attrs:l}){let s=null,c,h,f;const v=et(),{proxy:y}=v,{$q:m}=y,w=oe(null),T=oe(!1),S=g(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),M=zt(t,m),{registerTick:E,removeTick:O}=No(),{registerTimeout:J,removeTimeout:z}=Zo(),{transition:Y,transitionStyle:$}=il(t,T),{localScrollTarget:Q,changeScrollEvent:_e,unconfigureScrollTarget:Me}=el(t,H),{anchorEl:ye,canShow:Re}=Js({showing:T}),{hide:be}=qo({showing:T,canShow:Re,handleShow:A,handleHide:V,hideOnRouteChange:S,processOnMount:!0}),{showPortal:ne,hidePortal:R,renderPortal:ie}=Do(v,w,q),re={anchorEl:ye,innerRef:w,onClickOutside(K){if(t.persistent!==!0&&T.value===!0)return be(K),(K.type==="touchstart"||K.target.classList.contains("q-dialog__backdrop"))&&ut(K),!0}},he=g(()=>ga(t.anchor||(t.cover===!0?"center middle":"bottom start"),m.lang.rtl)),se=g(()=>t.cover===!0?he.value:ga(t.self||"top start",m.lang.rtl)),we=g(()=>(t.square===!0?" q-menu--square":"")+(M.value===!0?" q-menu--dark q-dark":"")),D=g(()=>t.autoClose===!0?{onClick:ee}:{}),Pe=g(()=>T.value===!0&&t.persistent!==!0);Ee(Pe,K=>{K===!0?(ll(G),al(re)):(ya(G),_a(re))});function k(){js(()=>{let K=w.value;K&&K.contains(document.activeElement)!==!0&&(K=K.querySelector("[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function A(K){if(O(),z(),s=t.noRefocus===!1?document.activeElement:null,cl(F),ne(),H(),c=void 0,K!==void 0&&(t.touchPosition||t.contextMenu)){const Be=Ln(K);if(Be.left!==void 0){const{top:Qe,left:ze}=ye.value.getBoundingClientRect();c={left:Be.left-ze,top:Be.top-Qe}}}h===void 0&&(h=Ee(()=>m.screen.width+"|"+m.screen.height+"|"+t.self+"|"+t.anchor+"|"+m.lang.rtl,ve)),t.noFocus!==!0&&document.activeElement.blur(),E(()=>{ve(),t.noFocus!==!0&&k()}),J(()=>{m.platform.is.ios===!0&&(f=t.autoClose,w.value.click()),ve(),ne(!0),o("show",K)},t.transitionDuration)}function V(K){O(),z(),R(),W(!0),s!==null&&(K===void 0||K.qClickOutside!==!0)&&(s.focus(),s=null),J(()=>{R(!0),o("hide",K)},t.transitionDuration)}function W(K){c=void 0,h!==void 0&&(h(),h=void 0),(K===!0||T.value===!0)&&(bo(F),Me(),_a(re),ya(G)),K!==!0&&(s=null)}function H(){(ye.value!==null||t.scrollTarget!==void 0)&&(Q.value=zo(ye.value,t.scrollTarget),_e(Q.value,ve))}function ee(K){f!==!0?(tl(y,K),o("click",K)):f=!1}function F(K){Pe.value===!0&&t.noFocus!==!0&&Rs(w.value,K.target)!==!0&&k()}function G(K){o("escape-key"),be(K)}function ve(){const K=w.value;K===null||ye.value===null||rl({el:K,offset:t.offset,anchorEl:ye.value,anchorOrigin:he.value,selfOrigin:se.value,absoluteOffset:c,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function q(){return x(ua,{name:Y.value,appear:!0},()=>T.value===!0?x("div",{...l,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+we.value,l.class],style:[l.style,$.value],...D.value},kt(n.default)):null)}return _t(W),Object.assign(y,{focus:k,updatePosition:ve}),ie}});let ba=!1;{const t=document.createElement("div"),n=document.createElement("div");t.setAttribute("dir","rtl"),t.style.width="1px",t.style.height="1px",t.style.overflow="auto",n.style.width="1000px",n.style.height="1px",document.body.appendChild(t),t.appendChild(n),t.scrollLeft=-1e3,ba=t.scrollLeft>=0,t.remove()}const It=1e3,Hc=["start","center","end","start-force","center-force","end-force"],hl=Array.prototype.filter,Uc=window.getComputedStyle(document.body).overflowAnchor===void 0?Ns:function(t,n){t!==null&&(cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(t===null)return;const o=t.children||[];hl.call(o,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const l=o[n];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Wi(t,n){return t+n}function uo(t,n,o,l,s,c,h,f){const v=t===window?document.scrollingElement||document.documentElement:t,y=s===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-h-f,scrollMaxSize:0,offsetStart:-h,offsetEnd:-f};if(s===!0?(t===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=v.scrollLeft,m.scrollViewSize+=v.clientWidth),m.scrollMaxSize=v.scrollWidth,c===!0&&(m.scrollStart=(ba===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(t===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=v.scrollTop,m.scrollViewSize+=v.clientHeight),m.scrollMaxSize=v.scrollHeight),o!==null)for(let w=o.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=w[y]);if(l!==null)for(let w=l.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=w[y]);if(n!==t){const w=v.getBoundingClientRect(),T=n.getBoundingClientRect();s===!0?(m.offsetStart+=T.left-w.left,m.offsetEnd-=T.width):(m.offsetStart+=T.top-w.top,m.offsetEnd-=T.height),t!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function Jr(t,n,o,l){n==="end"&&(n=(t===window?document.body:t)[o===!0?"scrollWidth":"scrollHeight"]),t===window?o===!0?(l===!0&&(n=(ba===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):o===!0?(l===!0&&(n=(ba===!0?t.scrollWidth-t.offsetWidth:0)-n),t.scrollLeft=n):t.scrollTop=n}function bn(t,n,o,l){if(o>=l)return 0;const s=n.length,c=Math.floor(o/It),h=Math.floor((l-1)/It)+1;let f=t.slice(c,h).reduce(Wi,0);return o%It!==0&&(f-=n.slice(c*It,o).reduce(Wi,0)),l%It!==0&&l!==s&&(f-=n.slice(l,h*It).reduce(Wi,0)),f}const dl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},fl=Object.keys(dl),vl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...dl};function ml({virtualScrollLength:t,getVirtualScrollTarget:n,getVirtualScrollEl:o,virtualScrollItemSizeComputed:l}){const s=et(),{props:c,emit:h,proxy:f}=s,{$q:v}=f;let y,m,w,T=[],S;const M=oe(0),E=oe(0),O=oe({}),J=oe(null),z=oe(null),Y=oe(null),$=oe({from:0,to:0}),Q=g(()=>c.tableColspan!==void 0?c.tableColspan:100);l===void 0&&(l=g(()=>c.virtualScrollItemSize));const _e=g(()=>l.value+";"+c.virtualScrollHorizontal),Me=g(()=>_e.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);Ee(Me,()=>{se()}),Ee(_e,ye);function ye(){he(m,!0)}function Re(A){he(A===void 0?m:A)}function be(A,V){const W=n();if(W==null||W.nodeType===8)return;const H=uo(W,o(),J.value,z.value,c.virtualScrollHorizontal,v.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);w!==H.scrollViewSize&&se(H.scrollViewSize),R(W,H,Math.min(t.value-1,Math.max(0,parseInt(A,10)||0)),0,Hc.indexOf(V)>-1?V:m>-1&&A>m?"end":"start")}function ne(){const A=n();if(A==null||A.nodeType===8)return;const V=uo(A,o(),J.value,z.value,c.virtualScrollHorizontal,v.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),W=t.value-1,H=V.scrollMaxSize-V.offsetStart-V.offsetEnd-E.value;if(y===V.scrollStart)return;if(V.scrollMaxSize<=0){R(A,V,0,0);return}w!==V.scrollViewSize&&se(V.scrollViewSize),ie($.value.from);const ee=Math.floor(V.scrollMaxSize-Math.max(V.scrollViewSize,V.offsetEnd)-Math.min(S[W],V.scrollViewSize/2));if(ee>0&&Math.ceil(V.scrollStart)>=ee){R(A,V,W,V.scrollMaxSize-V.offsetEnd-T.reduce(Wi,0));return}let F=0,G=V.scrollStart-V.offsetStart,ve=G;if(G<=H&&G+V.scrollViewSize>=M.value)G-=M.value,F=$.value.from,ve=G;else for(let q=0;G>=T[q]&&F<W;q++)G-=T[q],F+=It;for(;G>0&&F<W;)G-=S[F],G>-V.scrollViewSize?(F++,ve=G):ve=S[F]+G;R(A,V,F,ve)}function R(A,V,W,H,ee){const F=typeof ee=="string"&&ee.indexOf("-force")>-1,G=F===!0?ee.replace("-force",""):ee,ve=G!==void 0?G:"start";let q=Math.max(0,W-O.value[ve]),K=q+O.value.total;K>t.value&&(K=t.value,q=Math.max(0,K-O.value.total)),y=V.scrollStart;const Be=q!==$.value.from||K!==$.value.to;if(Be===!1&&G===void 0){D(W);return}const{activeElement:Qe}=document,ze=Y.value;Be===!0&&ze!==null&&ze!==Qe&&ze.contains(Qe)===!0&&(ze.addEventListener("focusout",re),setTimeout(()=>{ze!==null&&ze.removeEventListener("focusout",re)})),Uc(ze,W-q);const pt=G!==void 0?S.slice(q,W).reduce(Wi,0):0;if(Be===!0){const at=K>=$.value.from&&q<=$.value.to?$.value.to:K;$.value={from:q,to:at},M.value=bn(T,S,0,q),E.value=bn(T,S,K,t.value),requestAnimationFrame(()=>{$.value.to!==K&&y===V.scrollStart&&($.value={from:$.value.from,to:K},E.value=bn(T,S,K,t.value))})}requestAnimationFrame(()=>{if(y!==V.scrollStart)return;Be===!0&&ie(q);const at=S.slice(q,W).reduce(Wi,0),nt=at+V.offsetStart+M.value,lt=nt+S[W];let ht=nt+H;if(G!==void 0){const it=at-pt,Ne=V.scrollStart+it;ht=F!==!0&&Ne<nt&&lt<Ne+V.scrollViewSize?Ne:G==="end"?lt-V.scrollViewSize:nt-(G==="start"?0:Math.round((V.scrollViewSize-S[W])/2))}y=ht,Jr(A,ht,c.virtualScrollHorizontal,v.lang.rtl),D(W)})}function ie(A){const V=Y.value;if(V){const W=hl.call(V.children,q=>q.classList&&q.classList.contains("q-virtual-scroll--skip")===!1),H=W.length,ee=c.virtualScrollHorizontal===!0?q=>q.getBoundingClientRect().width:q=>q.offsetHeight;let F=A,G,ve;for(let q=0;q<H;){for(G=ee(W[q]),q++;q<H&&W[q].classList.contains("q-virtual-scroll--with-prev")===!0;)G+=ee(W[q]),q++;ve=G-S[F],ve!==0&&(S[F]+=ve,T[Math.floor(F/It)]+=ve),F++}}}function re(){Y.value!==null&&Y.value!==void 0&&Y.value.focus()}function he(A,V){const W=1*l.value;(V===!0||Array.isArray(S)===!1)&&(S=[]);const H=S.length;S.length=t.value;for(let F=t.value-1;F>=H;F--)S[F]=W;const ee=Math.floor((t.value-1)/It);T=[];for(let F=0;F<=ee;F++){let G=0;const ve=Math.min((F+1)*It,t.value);for(let q=F*It;q<ve;q++)G+=S[q];T.push(G)}m=-1,y=void 0,M.value=bn(T,S,0,$.value.from),E.value=bn(T,S,$.value.to,t.value),A>=0?(ie($.value.from),st(()=>{be(A)})):Pe()}function se(A){if(A===void 0&&typeof window!="undefined"){const G=n();G!=null&&G.nodeType!==8&&(A=uo(G,o(),J.value,z.value,c.virtualScrollHorizontal,v.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}w=A;const V=parseFloat(c.virtualScrollSliceRatioBefore)||0,W=parseFloat(c.virtualScrollSliceRatioAfter)||0,H=1+V+W,ee=A===void 0||A<=0?1:Math.ceil(A/l.value),F=Math.max(1,ee,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/H));O.value={total:Math.ceil(F*H),start:Math.ceil(F*V),center:Math.ceil(F*(.5+V)),end:Math.ceil(F*(1+V)),view:ee}}function we(A,V){const W=c.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+W]:l.value+"px"};return[A==="tbody"?x(A,{class:"q-virtual-scroll__padding",key:"before",ref:J},[x("tr",[x("td",{style:{[W]:`${M.value}px`,...H},colspan:Q.value})])]):x(A,{class:"q-virtual-scroll__padding",key:"before",ref:J,style:{[W]:`${M.value}px`,...H}}),x(A,{class:"q-virtual-scroll__content",key:"content",ref:Y,tabindex:-1},V.flat()),A==="tbody"?x(A,{class:"q-virtual-scroll__padding",key:"after",ref:z},[x("tr",[x("td",{style:{[W]:`${E.value}px`,...H},colspan:Q.value})])]):x(A,{class:"q-virtual-scroll__padding",key:"after",ref:z,style:{[W]:`${E.value}px`,...H}})]}function D(A){m!==A&&(c.onVirtualScroll!==void 0&&h("virtual-scroll",{index:A,from:$.value.from,to:$.value.to-1,direction:A<m?"decrease":"increase",ref:f}),m=A)}se();const Pe=ec(ne,v.platform.is.ios===!0?120:35);Ao(()=>{se()});let k=!1;return Zs(()=>{k=!0}),Vs(()=>{if(k!==!0)return;const A=n();y!==void 0&&A!==void 0&&A!==null&&A.nodeType!==8?Jr(A,y,c.virtualScrollHorizontal,v.lang.rtl):be(m)}),_t(()=>{Pe.cancel()}),Object.assign(f,{scrollTo:be,reset:ye,refresh:Re}),{virtualScrollSliceRange:$,virtualScrollSliceSizeComputed:O,setVirtualScrollSize:se,onVirtualScrollEvt:Pe,localResetVirtualScroll:he,padVirtualScroll:we,scrollTo:be,reset:ye,refresh:Re}}const es=t=>["add","add-unique","toggle"].includes(t),jc=".*+?^${}()|[]\\",Wc=Object.keys(Io);var wa=Ke({name:"QSelect",inheritAttrs:!1,props:{...vl,...Bo,...Io,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:es},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ws,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(t,{slots:n,emit:o}){const{proxy:l}=et(),{$q:s}=l,c=oe(!1),h=oe(!1),f=oe(-1),v=oe(""),y=oe(!1),m=oe(!1);let w,T,S,M,E,O,J,z,Y;const $=oe(null),Q=oe(null),_e=oe(null),Me=oe(null),ye=oe(null),Re=hc(t),be=dc(Ai),ne=g(()=>Array.isArray(t.options)?t.options.length:0),R=g(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:ie,virtualScrollSliceSizeComputed:re,localResetVirtualScroll:he,padVirtualScroll:se,onVirtualScrollEvt:we,scrollTo:D,setVirtualScrollSize:Pe}=ml({virtualScrollLength:ne,getVirtualScrollTarget:$t,getVirtualScrollEl:bt,virtualScrollItemSizeComputed:R}),k=Ks(),A=g(()=>{const p=t.mapOptions===!0&&t.multiple!==!0,U=t.modelValue!==void 0&&(t.modelValue!==null||p===!0)?t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue]:[];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const N=t.mapOptions===!0&&T!==void 0?T:[],le=U.map($e=>yt($e,N));return t.modelValue===null&&p===!0?le.filter($e=>$e!==null):le}return U}),V=g(()=>{const p={};return Wc.forEach(U=>{const N=t[U];N!==void 0&&(p[U]=N)}),p}),W=g(()=>t.optionsDark===null?k.isDark.value:t.optionsDark),H=g(()=>Hr(A.value)),ee=g(()=>{let p="q-field__input q-placeholder col";return t.hideSelected===!0||A.value.length===0?[p,t.inputClass]:(p+=" q-field__input--padding",t.inputClass===void 0?p:[p,t.inputClass])}),F=g(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),G=g(()=>ne.value===0),ve=g(()=>A.value.map(p=>Ne.value(p)).join(", ")),q=g(()=>t.optionsHtml===!0?()=>!0:p=>p!=null&&p.html===!0),K=g(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||A.value.some(q.value))),Be=g(()=>k.focused.value===!0?t.tabindex:-1),Qe=g(()=>{const p={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-owns":`${k.targetUid.value}_lb`,"aria-controls":`${k.targetUid.value}_lb`};return f.value>=0&&(p["aria-activedescendant"]=`${k.targetUid.value}_${f.value}`),p}),ze=g(()=>{const p={id:`${k.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"};return f.value>=0&&(p["aria-activedescendant"]=`${k.targetUid.value}_${f.value}`),p}),pt=g(()=>A.value.map((p,U)=>({index:U,opt:p,html:q.value(p),selected:!0,removeAtIndex:jt,toggleOption:ft,tabindex:Be.value}))),at=g(()=>{if(ne.value===0)return[];const{from:p,to:U}=ie.value;return t.options.slice(p,U).map((N,le)=>{const $e=dt.value(N)===!0,ke=p+le,Ue={clickable:!0,active:!1,activeClass:ht.value,manualFocus:!0,focused:!1,disable:$e,tabindex:-1,dense:t.optionsDense,dark:W.value,role:"option",id:`${k.targetUid.value}_${ke}`,onClick:()=>{ft(N)}};return $e!==!0&&(I(N)===!0&&(Ue.active=!0),f.value===ke&&(Ue.focused=!0),Ue["aria-selected"]=Ue.active===!0?"true":"false",s.platform.is.desktop===!0&&(Ue.onMousemove=()=>{c.value===!0&&Ct(ke)})),{index:ke,opt:N,html:q.value(N),label:Ne.value(N),selected:Ue.active,focused:Ue.focused,toggleOption:ft,setOptionIndex:Ct,itemProps:Ue}})}),nt=g(()=>t.dropdownIcon!==void 0?t.dropdownIcon:s.iconSet.arrow.dropdown),lt=g(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),ht=g(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),it=g(()=>vt(t.optionValue,"value")),Ne=g(()=>vt(t.optionLabel,"label")),dt=g(()=>vt(t.optionDisable,"disable")),Mt=g(()=>A.value.map(p=>it.value(p))),si=g(()=>{const p={onInput:Ai,onChange:be,onKeydown:ot,onKeyup:Ae,onKeypress:Oe,onFocus:ue,onClick(U){S===!0&&ii(U)}};return p.onCompositionstart=p.onCompositionupdate=p.onCompositionend=be,p});Ee(A,p=>{T=p,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&k.innerLoading.value!==!0&&(h.value!==!0&&c.value!==!0||H.value!==!0)&&(M!==!0&&wt(),(h.value===!0||c.value===!0)&&te(""))},{immediate:!0}),Ee(()=>t.fillInput,wt),Ee(c,Oi),Ee(ne,Oa);function Ut(p){return t.emitValue===!0?it.value(p):p}function At(p){if(p>-1&&p<A.value.length)if(t.multiple===!0){const U=t.modelValue.slice();o("remove",{index:p,value:U.splice(p,1)[0]}),o("update:modelValue",U)}else o("update:modelValue",null)}function jt(p){At(p),k.focus()}function Tt(p,U){const N=Ut(p);if(t.multiple!==!0){t.fillInput===!0&&j(Ne.value(p),!0,!0),o("update:modelValue",N);return}if(A.value.length===0){o("add",{index:0,value:N}),o("update:modelValue",t.multiple===!0?[N]:N);return}if(U===!0&&I(p)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const le=t.modelValue.slice();o("add",{index:le.length,value:N}),le.push(N),o("update:modelValue",le)}function ft(p,U){if(k.editable.value!==!0||p===void 0||dt.value(p)===!0)return;const N=it.value(p);if(t.multiple!==!0){U!==!0&&(j(t.fillInput===!0?Ne.value(p):"",!0,!0),qt()),Q.value!==null&&Q.value.focus(),(A.value.length===0||_n(it.value(A.value[0]),N)!==!0)&&o("update:modelValue",t.emitValue===!0?N:p);return}if((S!==!0||y.value===!0)&&k.focus(),ue(),A.value.length===0){const ke=t.emitValue===!0?N:p;o("add",{index:0,value:ke}),o("update:modelValue",t.multiple===!0?[ke]:ke);return}const le=t.modelValue.slice(),$e=Mt.value.findIndex(ke=>_n(ke,N));if($e>-1)o("remove",{index:$e,value:le.splice($e,1)[0]});else{if(t.maxValues!==void 0&&le.length>=t.maxValues)return;const ke=t.emitValue===!0?N:p;o("add",{index:le.length,value:ke}),le.push(ke)}o("update:modelValue",le)}function Ct(p){if(s.platform.is.desktop!==!0)return;const U=p>-1&&p<ne.value?p:-1;f.value!==U&&(f.value=U)}function gt(p=1,U){if(c.value===!0){let N=f.value;do N=Vr(N+p,-1,ne.value-1);while(N!==-1&&N!==f.value&&dt.value(t.options[N])===!0);f.value!==N&&(Ct(N),D(N),U!==!0&&t.useInput===!0&&t.fillInput===!0&&P(N>=0?Ne.value(t.options[N]):O))}}function yt(p,U){const N=le=>_n(it.value(le),p);return t.options.find(N)||U.find(N)||p}function vt(p,U){const N=p!==void 0?p:U;return typeof N=="function"?N:le=>le!==null&&typeof le=="object"&&N in le?le[N]:le}function I(p){const U=it.value(p);return Mt.value.find(N=>_n(N,U))!==void 0}function ue(p){t.useInput===!0&&Q.value!==null&&(p===void 0||Q.value===p.target&&p.target.value===ve.value)&&Q.value.select()}function Se(p){Mn(p,27)===!0&&c.value===!0&&(ii(p),qt(),wt()),o("keyup",p)}function Ae(p){const{value:U}=p.target;if(p.keyCode!==void 0){Se(p);return}if(p.target.value="",clearTimeout(w),wt(),typeof U=="string"&&U.length>0){const N=U.toLocaleLowerCase(),le=ke=>{const Ue=t.options.find(tt=>ke.value(tt).toLocaleLowerCase()===N);return Ue===void 0?!1:(A.value.indexOf(Ue)===-1?ft(Ue):qt(),!0)},$e=ke=>{le(it)!==!0&&(le(Ne)===!0||ke===!0||te(U,!0,()=>$e(!0)))};$e()}else k.clearValue(p)}function Oe(p){o("keypress",p)}function ot(p){if(o("keydown",p),nc(p)===!0)return;const U=v.value.length>0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),N=p.shiftKey!==!0&&t.multiple!==!0&&(f.value>-1||U===!0);if(p.keyCode===27){Ti(p);return}if(p.keyCode===9&&N===!1){Kt();return}if(p.target===void 0||p.target.id!==k.targetUid.value)return;if(p.keyCode===40&&k.innerLoading.value!==!0&&c.value===!1){ut(p),Rt();return}if(p.keyCode===8&&t.hideSelected!==!0&&v.value.length===0){t.multiple===!0&&Array.isArray(t.modelValue)===!0?At(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&o("update:modelValue",null);return}(p.keyCode===35||p.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(ut(p),f.value=-1,gt(p.keyCode===36?1:-1,t.multiple)),(p.keyCode===33||p.keyCode===34)&&re.value!==void 0&&(ut(p),f.value=Math.max(-1,Math.min(ne.value,f.value+(p.keyCode===33?-1:1)*re.value.view)),gt(p.keyCode===33?1:-1,t.multiple)),(p.keyCode===38||p.keyCode===40)&&(ut(p),gt(p.keyCode===38?-1:1,t.multiple));const le=ne.value;if((z===void 0||Y<Date.now())&&(z=""),le>0&&t.useInput!==!0&&p.key!==void 0&&p.key.length===1&&p.altKey===p.ctrlKey&&(p.keyCode!==32||z.length>0)){c.value!==!0&&Rt(p);const $e=p.key.toLocaleLowerCase(),ke=z.length===1&&z[0]===$e;Y=Date.now()+1500,ke===!1&&(ut(p),z+=$e);const Ue=new RegExp("^"+z.split("").map(Yt=>jc.indexOf(Yt)>-1?"\\"+Yt:Yt).join(".*"),"i");let tt=f.value;if(ke===!0||tt<0||Ue.test(Ne.value(t.options[tt]))!==!0)do tt=Vr(tt+1,-1,le-1);while(tt!==f.value&&(dt.value(t.options[tt])===!0||Ue.test(Ne.value(t.options[tt]))!==!0));f.value!==tt&&st(()=>{Ct(tt),D(tt),tt>=0&&t.useInput===!0&&t.fillInput===!0&&P(Ne.value(t.options[tt]))});return}if(!(p.keyCode!==13&&(p.keyCode!==32||t.useInput===!0||z!=="")&&(p.keyCode!==9||N===!1))){if(p.keyCode!==9&&ut(p),f.value>-1&&f.value<le){ft(t.options[f.value]);return}if(U===!0){const $e=(ke,Ue)=>{if(Ue){if(es(Ue)!==!0)return}else Ue=t.newValueMode;if(ke==null)return;j("",t.multiple!==!0,!0),(Ue==="toggle"?ft:Tt)(ke,Ue==="add-unique"),t.multiple!==!0&&(Q.value!==null&&Q.value.focus(),qt())};if(t.onNewValue!==void 0?o("new-value",v.value,$e):$e(v.value),t.multiple!==!0)return}c.value===!0?Kt():k.innerLoading.value!==!0&&Rt()}}function bt(){return S===!0?ye.value:_e.value!==null&&_e.value.__qPortalInnerRef.value!==null?_e.value.__qPortalInnerRef.value:void 0}function $t(){return bt()}function Mi(){return t.hideSelected===!0?[]:n["selected-item"]!==void 0?pt.value.map(p=>n["selected-item"](p)).slice():n.selected!==void 0?[].concat(n.selected()):t.useChips===!0?pt.value.map((p,U)=>x(Dc,{key:"option-"+U,removable:k.editable.value===!0&&dt.value(p.opt)!==!0,dense:!0,textColor:t.color,tabindex:Be.value,onRemove(){p.removeAtIndex(U)}},()=>x("span",{class:"ellipsis",[p.html===!0?"innerHTML":"textContent"]:Ne.value(p.opt)}))):[x("span",{[K.value===!0?"innerHTML":"textContent"]:t.displayValue!==void 0?t.displayValue:ve.value})]}function vi(){if(G.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:v.value}):void 0;const p=n.option!==void 0?n.option:N=>x(Fc,{key:N.index,...N.itemProps},()=>x(Nc,()=>x(Zc,()=>x("span",{[N.html===!0?"innerHTML":"textContent"]:N.label}))));let U=se("div",at.value.map(p));return n["before-options"]!==void 0&&(U=n["before-options"]().concat(U)),An(n["after-options"],U)}function nn(p,U){const N=U===!0?{...Qe.value,...k.splitAttrs.attributes.value}:void 0,le={ref:U===!0?Q:void 0,key:"i_t",class:ee.value,style:t.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...N,id:U===!0?k.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":p!==!0&&t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...si.value};return p!==!0&&S===!0&&(Array.isArray(le.class)===!0?le.class=[...le.class,"no-pointer-events"]:le.class+=" no-pointer-events"),x("input",le)}function Ai(p){clearTimeout(w),!(p&&p.target&&p.target.qComposing===!0)&&(P(p.target.value||""),M=!0,O=v.value,k.focused.value!==!0&&(S!==!0||y.value===!0)&&k.focus(),t.onFilter!==void 0&&(w=setTimeout(()=>{te(v.value)},t.inputDebounce)))}function P(p){v.value!==p&&(v.value=p,o("input-value",p))}function j(p,U,N){M=N!==!0,t.useInput===!0&&(P(p),(U===!0||N!==!0)&&(O=p),U!==!0&&te(p))}function te(p,U,N){if(t.onFilter===void 0||U!==!0&&k.focused.value!==!0)return;k.innerLoading.value===!0?o("filter-abort"):(k.innerLoading.value=!0,m.value=!0),p!==""&&t.multiple!==!0&&A.value.length>0&&M!==!0&&p===Ne.value(A.value[0])&&(p="");const le=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);clearTimeout(E),E=le,o("filter",p,($e,ke)=>{(U===!0||k.focused.value===!0)&&E===le&&(clearTimeout(E),typeof $e=="function"&&$e(),m.value=!1,st(()=>{k.innerLoading.value=!1,k.editable.value===!0&&(U===!0?c.value===!0&&qt():c.value===!0?Oi(!0):c.value=!0),typeof ke=="function"&&st(()=>{ke(l)}),typeof N=="function"&&st(()=>{N(l)})}))},()=>{k.focused.value===!0&&E===le&&(clearTimeout(E),k.innerLoading.value=!1,m.value=!1),c.value===!0&&(c.value=!1)})}function ce(){return x(Vc,{ref:_e,class:F.value,style:t.popupContentStyle,modelValue:c.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&G.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:W.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:lt.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...ze.value,onScrollPassive:we,onBeforeShow:Bn,onBeforeHide:de,onShow:Ze},vi)}function de(p){zn(p),Kt()}function Ze(){Pe()}function De(p){ii(p),Q.value!==null&&Q.value.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ge(p){ii(p),st(()=>{y.value=!1})}function Z(){const p=[x(Rc,{class:`col-auto ${k.fieldClass.value}`,...V.value,for:k.targetUid.value,dark:W.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:v.value.length>0,...k.splitAttrs.listeners.value,onFocus:De,onBlur:Ge},{...n,rawControl:()=>k.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&p.push(x("div",{ref:ye,class:F.value+" scroll",style:t.popupContentStyle,...ze.value,onClick:Ti,onScrollPassive:we},vi())),x(Vo,{ref:Me,modelValue:h.value,position:t.useInput===!0?"top":void 0,transitionShow:J,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:Bn,onBeforeHide:Wt,onHide:Gt,onShow:Ei},()=>x("div",{class:"q-select__dialog"+(W.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},p))}function Wt(p){zn(p),Me.value!==null&&Me.value.__updateRefocusTarget(k.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),k.focused.value=!1}function Gt(p){qt(),k.focused.value===!1&&o("blur",p),wt()}function Ei(){const p=document.activeElement;(p===null||p.id!==k.targetUid.value)&&Q.value!==null&&Q.value!==p&&Q.value.focus(),Pe()}function Kt(){h.value!==!0&&(f.value=-1,c.value===!0&&(c.value=!1),k.focused.value===!1&&(clearTimeout(E),E=void 0,k.innerLoading.value===!0&&(o("filter-abort"),k.innerLoading.value=!1,m.value=!1)))}function Rt(p){k.editable.value===!0&&(S===!0?(k.onControlFocusin(p),h.value=!0,st(()=>{k.focus()})):k.focus(),t.onFilter!==void 0?te(v.value):(G.value!==!0||n["no-option"]!==void 0)&&(c.value=!0))}function qt(){h.value=!1,Kt()}function wt(){t.useInput===!0&&j(t.multiple!==!0&&t.fillInput===!0&&A.value.length>0&&Ne.value(A.value[0])||"",!0,!0)}function Oi(p){let U=-1;if(p===!0){if(A.value.length>0){const N=it.value(A.value[0]);U=t.options.findIndex(le=>_n(it.value(le),N))}he(U)}Ct(U)}function Oa(p,U){c.value===!0&&k.innerLoading.value===!1&&(he(-1,!0),st(()=>{c.value===!0&&k.innerLoading.value===!1&&(p>U?he():Oi(!0))}))}function In(){h.value===!1&&_e.value!==null&&_e.value.updatePosition()}function Bn(p){p!==void 0&&ii(p),o("popup-show",p),k.hasPopupOpen=!0,k.onControlFocusin(p)}function zn(p){p!==void 0&&ii(p),o("popup-hide",p),k.hasPopupOpen=!1,k.onControlFocusout(p)}function an(){S=s.platform.is.mobile!==!0&&t.behavior!=="dialog"?!1:t.behavior!=="menu"&&(t.useInput===!0?n["no-option"]!==void 0||t.onFilter!==void 0||G.value===!1:!0),J=s.platform.is.ios===!0&&S===!0&&t.useInput===!0?"fade":t.transitionShow}return tc(an),ic(In),an(),_t(()=>{clearTimeout(w)}),Object.assign(l,{showPopup:Rt,hidePopup:qt,removeAtIndex:At,add:Tt,toggleOption:ft,getOptionIndex:()=>f.value,setOptionIndex:Ct,moveOptionSelection:gt,filter:te,updateMenuPosition:In,updateInputValue:j,isOptionSelected:I,getEmittingOptionValue:Ut,isOptionDisabled:(...p)=>dt.value.apply(null,p)===!0,getOptionValue:(...p)=>it.value.apply(null,p),getOptionLabel:(...p)=>Ne.value.apply(null,p)}),Object.assign(k,{innerValue:A,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:Q,hasValue:H,showPopup:Rt,floatingLabel:g(()=>t.hideSelected!==!0&&H.value===!0||typeof v.value=="number"||v.value.length>0||Hr(t.displayValue)),getControlChild:()=>{if(k.editable.value!==!1&&(h.value===!0||G.value!==!0||n["no-option"]!==void 0))return S===!0?Z():ce();k.hasPopupOpen===!0&&(k.hasPopupOpen=!1)},controlEvents:{onFocusin(p){k.onControlFocusin(p)},onFocusout(p){k.onControlFocusout(p,()=>{wt(),Kt()})},onClick(p){if(Ti(p),S!==!0&&c.value===!0){Kt(),Q.value!==null&&Q.value.focus();return}Rt(p)}},getControl:p=>{const U=Mi(),N=p===!0||h.value!==!0||S!==!0;if(t.useInput===!0)U.push(nn(p,N));else if(k.editable.value===!0){const $e=N===!0?Qe.value:void 0;U.push(x("input",{ref:N===!0?Q:void 0,key:"d_t",class:"q-select__focus-target",id:N===!0?k.targetUid.value:void 0,readonly:!0,"data-autofocus":p!==!0&&t.autofocus===!0||void 0,...$e,onKeydown:ot,onKeyup:Se,onKeypress:Oe})),N===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length>0&&U.push(x("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,onKeyup:Ae}))}if(Re.value!==void 0&&t.disable!==!0&&Mt.value.length>0){const $e=Mt.value.map(ke=>x("option",{value:ke,selected:!0}));U.push(x("select",{class:"hidden",name:Re.value,multiple:t.multiple},$e))}const le=t.useInput===!0||N!==!0?void 0:k.splitAttrs.attributes.value;return x("div",{class:"q-field__native row items-center",...le},U)},getInnerAppend:()=>t.loading!==!0&&m.value!==!0&&t.hideDropdownIcon!==!0?[x(fi,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:nt.value})]:null}),Gs(k)}}),Gc={props:{items:{default(){return[]},type:Array},filterby:{type:String},shouldReset:{type:Boolean,default:!0}},data(){return{itemHeight:39,selectedItem:null,selected:0,query:"",visible:!1}},methods:{toggleVisible(){this.visible=!this.visible,setTimeout(()=>{this.$refs.input.focus()},50)},itemClicked(t){this.selected=t,this.selectItem()},selectItem(){!this.matches.length||(this.selectedItem=this.matches[this.selected],this.visible=!1,this.shouldReset&&(this.query="",this.selected=0),this.$emit("selected",JSON.parse(JSON.stringify(this.selectedItem))))},up(){this.selected!=0&&(this.selected-=1,this.scrollToItem())},down(){this.selected>=this.matches.length-1||(this.selected+=1,this.scrollToItem())},scrollToItem(){this.$refs.optionsList.scrollTop=this.selected*this.itemHeight}},computed:{matches(){return this.$emit("change",this.query),console.log(`This query: ${this.query}`),this.query==""?[]:this.query.length>7?this.items.filter(t=>t[this.filterby].toLowerCase().includes(this.query.toLowerCase())):[]}}};const Kc={class:"autocomplete"},Yc=["textContent"],Qc={class:"popover"},Xc={class:"options",ref:"optionsList"},Jc=["onClick","textContent"];function eh(t,n,o,l,s,c){return qe(),We("div",Kc,[ae(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[0]||(n[0]=h=>t.query=h),label:"By Address",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],ref:"input"},null,8,["modelValue","onKeydown"]),t.selectedItem==null?(qe(),We("div",{key:0,class:"placeholder",textContent:St(t.title)},null,8,Yc)):ni("",!0),t.selectedItem?(qe(),We("button",{key:1,class:"close",onClick:n[1]||(n[1]=h=>t.selectedItem=null)}," x ")):ni("",!0),Eo(ge("div",Qc,[ae(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[2]||(n[2]=h=>t.query=h),placeholder:"Start Typing...",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],type:"text",ref:"input"},null,8,["modelValue","onKeydown"]),ge("div",Xc,[ge("ul",null,[(qe(!0),We(kn,null,Oo(t.matches,(h,f)=>(qe(),We("li",{key:f,class:Us({selected:t.selected==f}),onClick:v=>t.itemClicked(f),textContent:St(h[t.filterby])},null,10,Jc))),128))])],512)],512),[[Hs,t.visible]])])}var th=ai(Gc,[["render",eh]]);var Gi={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(o,l){l(n)})(xn,function(o){var l="1.8.0";function s(e){var i,a,r,u;for(a=1,r=arguments.length;a<r;a++){u=arguments[a];for(i in u)e[i]=u[i]}return e}var c=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function h(e,i){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var r=a.call(arguments,2);return function(){return e.apply(i,r.length?r.concat(a.call(arguments)):arguments)}}var f=0;function v(e){return"_leaflet_id"in e||(e._leaflet_id=++f),e._leaflet_id}function y(e,i,a){var r,u,d,_;return _=function(){r=!1,u&&(d.apply(a,u),u=!1)},d=function(){r?u=arguments:(e.apply(a,arguments),setTimeout(_,i),r=!0)},d}function m(e,i,a){var r=i[1],u=i[0],d=r-u;return e===r&&a?e:((e-u)%d+d)%d+u}function w(){return!1}function T(e,i){if(i===!1)return e;var a=Math.pow(10,i===void 0?6:i);return Math.round(e*a)/a}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function M(e){return S(e).split(/\s+/)}function E(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var a in i)e.options[a]=i[a];return e.options}function O(e,i,a){var r=[];for(var u in e)r.push(encodeURIComponent(a?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!i||i.indexOf("?")===-1?"?":"&")+r.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function z(e,i){return e.replace(J,function(a,r){var u=i[r];if(u===void 0)throw new Error("No value provided for variable "+a);return typeof u=="function"&&(u=u(i)),u})}var Y=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function $(e,i){for(var a=0;a<e.length;a++)if(e[a]===i)return a;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _e(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Me=0;function ye(e){var i=+new Date,a=Math.max(0,16-(i-Me));return Me=i+a,window.setTimeout(e,a)}var Re=window.requestAnimationFrame||_e("RequestAnimationFrame")||ye,be=window.cancelAnimationFrame||_e("CancelAnimationFrame")||_e("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ne(e,i,a){if(a&&Re===ye)e.call(i);else return Re.call(window,h(e,i))}function R(e){e&&be.call(window,e)}var ie={__proto__:null,extend:s,create:c,bind:h,get lastId(){return f},stamp:v,throttle:y,wrapNum:m,falseFn:w,formatNum:T,trim:S,splitWords:M,setOptions:E,getParamString:O,template:z,isArray:Y,indexOf:$,emptyImageUrl:Q,requestFn:Re,cancelFn:be,requestAnimFrame:ne,cancelAnimFrame:R};function re(){}re.extend=function(e){var i=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,r=c(a);r.constructor=i,i.prototype=r;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(i[u]=this[u]);return e.statics&&s(i,e.statics),e.includes&&(he(e.includes),s.apply(null,[r].concat(e.includes))),s(r,e),delete r.statics,delete r.includes,r.options&&(r.options=a.options?c(a.options):{},s(r.options,e.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var d=0,_=r._initHooks.length;d<_;d++)r._initHooks[d].call(this)}},i},re.include=function(e){var i=this.prototype.options;return s(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},re.mergeOptions=function(e){return s(this.prototype.options,e),this},re.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function he(e){if(!(typeof L=="undefined"||!L||!L.Mixin)){e=Y(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(e,i,a){if(typeof e=="object")for(var r in e)this._on(r,e[r],i);else{e=M(e);for(var u=0,d=e.length;u<d;u++)this._on(e[u],i,a)}return this},off:function(e,i,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var r in e)this._off(r,e[r],i);else{e=M(e);for(var u=arguments.length===1,d=0,_=e.length;d<_;d++)u?this._off(e[d]):this._off(e[d],i,a)}return this},_on:function(e,i,a){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),a===this&&(a=void 0);for(var u={fn:i,ctx:a},d=r,_=0,b=d.length;_<b;_++)if(d[_].fn===i&&d[_].ctx===a)return;d.push(u)},_off:function(e,i,a){var r,u,d;if(!!this._events&&(r=this._events[e],!!r)){if(arguments.length===1){if(this._firingCount)for(u=0,d=r.length;u<d;u++)r[u].fn=w;delete this._events[e];return}if(a===this&&(a=void 0),typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}for(u=0,d=r.length;u<d;u++){var _=r[u];if(_.ctx===a&&_.fn===i){this._firingCount&&(_.fn=w,this._events[e]=r=r.slice()),r.splice(u,1);return}}console.warn("listener not found")}},fire:function(e,i,a){if(!this.listens(e,a))return this;var r=s({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var d=0,_=u.length;d<_;d++){var b=u[d];b.fn.call(b.ctx||this,r)}this._firingCount--}}return a&&this._propagateEvent(r),this},listens:function(e,i){typeof e!="string"&&console.warn('"string" type argument expected');var a=this._events&&this._events[e];if(a&&a.length)return!0;if(i){for(var r in this._eventParents)if(this._eventParents[r].listens(e,i))return!0}return!1},once:function(e,i,a){if(typeof e=="object"){for(var r in e)this.once(r,e[r],i);return this}var u=h(function(){this.off(e,i,a).off(e,u,a)},this);return this.on(e,i,a).on(e,u,a)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[v(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[v(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,s({layer:e.target,propagatedFrom:e.target},e),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var we=re.extend(se);function D(e,i,a){this.x=a?Math.round(e):e,this.y=a?Math.round(i):i}var Pe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(k(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(k(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(e){e=k(e);var i=e.x-this.x,a=e.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(e){return e=k(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=k(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function k(e,i,a){return e instanceof D?e:Y(e)?new D(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,i,a)}function A(e,i){if(!!e)for(var a=i?[e,i]:e,r=0,u=a.length;r<u;r++)this.extend(a[r])}A.prototype={extend:function(e){return e=k(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new D(this.min.x,this.max.y)},getTopRight:function(){return new D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,a;return typeof e[0]=="number"||e instanceof D?e=k(e):e=V(e),e instanceof A?(i=e.min,a=e.max):i=a=e,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=V(e);var i=this.min,a=this.max,r=e.min,u=e.max,d=u.x>=i.x&&r.x<=a.x,_=u.y>=i.y&&r.y<=a.y;return d&&_},overlaps:function(e){e=V(e);var i=this.min,a=this.max,r=e.min,u=e.max,d=u.x>i.x&&r.x<a.x,_=u.y>i.y&&r.y<a.y;return d&&_},isValid:function(){return!!(this.min&&this.max)}};function V(e,i){return!e||e instanceof A?e:new A(e,i)}function W(e,i){if(!!e)for(var a=i?[e,i]:e,r=0,u=a.length;r<u;r++)this.extend(a[r])}W.prototype={extend:function(e){var i=this._southWest,a=this._northEast,r,u;if(e instanceof ee)r=e,u=e;else if(e instanceof W){if(r=e._southWest,u=e._northEast,!r||!u)return this}else return e?this.extend(F(e)||H(e)):this;return!i&&!a?(this._southWest=new ee(r.lat,r.lng),this._northEast=new ee(u.lat,u.lng)):(i.lat=Math.min(r.lat,i.lat),i.lng=Math.min(r.lng,i.lng),a.lat=Math.max(u.lat,a.lat),a.lng=Math.max(u.lng,a.lng)),this},pad:function(e){var i=this._southWest,a=this._northEast,r=Math.abs(i.lat-a.lat)*e,u=Math.abs(i.lng-a.lng)*e;return new W(new ee(i.lat-r,i.lng-u),new ee(a.lat+r,a.lng+u))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ee||"lat"in e?e=F(e):e=H(e);var i=this._southWest,a=this._northEast,r,u;return e instanceof W?(r=e.getSouthWest(),u=e.getNorthEast()):r=u=e,r.lat>=i.lat&&u.lat<=a.lat&&r.lng>=i.lng&&u.lng<=a.lng},intersects:function(e){e=H(e);var i=this._southWest,a=this._northEast,r=e.getSouthWest(),u=e.getNorthEast(),d=u.lat>=i.lat&&r.lat<=a.lat,_=u.lng>=i.lng&&r.lng<=a.lng;return d&&_},overlaps:function(e){e=H(e);var i=this._southWest,a=this._northEast,r=e.getSouthWest(),u=e.getNorthEast(),d=u.lat>i.lat&&r.lat<a.lat,_=u.lng>i.lng&&r.lng<a.lng;return d&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=H(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(e,i){return e instanceof W?e:new W(e,i)}function ee(e,i,a){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,a!==void 0&&(this.alt=+a)}ee.prototype={equals:function(e,i){if(!e)return!1;e=F(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return ve.distance(this,F(e))},wrap:function(){return ve.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,a=i/Math.cos(Math.PI/180*this.lat);return H([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function F(e,i,a){return e instanceof ee?e:Y(e)&&typeof e[0]!="object"?e.length===3?new ee(e[0],e[1],e[2]):e.length===2?new ee(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ee(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new ee(e,i,a)}var G={latLngToPoint:function(e,i){var a=this.projection.project(e),r=this.scale(i);return this.transformation._transform(a,r)},pointToLatLng:function(e,i){var a=this.scale(i),r=this.transformation.untransform(e,a);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(e),r=this.transformation.transform(i.min,a),u=this.transformation.transform(i.max,a);return new A(r,u)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new ee(a,i,r)},wrapLatLngBounds:function(e){var i=e.getCenter(),a=this.wrapLatLng(i),r=i.lat-a.lat,u=i.lng-a.lng;if(r===0&&u===0)return e;var d=e.getSouthWest(),_=e.getNorthEast(),b=new ee(d.lat-r,d.lng-u),C=new ee(_.lat-r,_.lng-u);return new W(b,C)}},ve=s({},G,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var a=Math.PI/180,r=e.lat*a,u=i.lat*a,d=Math.sin((i.lat-e.lat)*a/2),_=Math.sin((i.lng-e.lng)*a/2),b=d*d+Math.cos(r)*Math.cos(u)*_*_,C=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*C}}),q=6378137,K={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,a=this.MAX_LATITUDE,r=Math.max(Math.min(a,e.lat),-a),u=Math.sin(r*i);return new D(this.R*e.lng*i,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var i=180/Math.PI;return new ee((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=q*Math.PI;return new A([-e,-e],[e,e])}()};function Be(e,i,a,r){if(Y(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=a,this._d=r}Be.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new D((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function Qe(e,i,a,r){return new Be(e,i,a,r)}var ze=s({},ve,{code:"EPSG:3857",projection:K,transformation:function(){var e=.5/(Math.PI*K.R);return Qe(e,.5,-e,.5)}()}),pt=s({},ze,{code:"EPSG:900913"});function at(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function nt(e,i){var a="",r,u,d,_,b,C;for(r=0,d=e.length;r<d;r++){for(b=e[r],u=0,_=b.length;u<_;u++)C=b[u],a+=(u?"L":"M")+C.x+" "+C.y;a+=i?Z.svg?"z":"x":""}return a||"M0 0"}var lt=document.documentElement.style,ht="ActiveXObject"in window,it=ht&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),dt=Ge("webkit"),Mt=Ge("android"),si=Ge("android 2")||Ge("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),At=Mt&&Ge("Google")&&Ut<537&&!("AudioNode"in window),jt=!!window.opera,Tt=!Ne&&Ge("chrome"),ft=Ge("gecko")&&!dt&&!jt&&!ht,Ct=!Tt&&Ge("safari"),gt=Ge("phantom"),yt="OTransition"in lt,vt=navigator.platform.indexOf("Win")===0,I=ht&&"transition"in lt,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!si,Se="MozPerspective"in lt,Ae=!window.L_DISABLE_3D&&(I||ue||Se)&&!yt&&!gt,Oe=typeof orientation!="undefined"||Ge("mobile"),ot=Oe&&dt,bt=Oe&&ue,$t=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||$t),vi="ontouchstart"in window||!!window.TouchEvent,nn=!window.L_NO_TOUCH&&(vi||Mi),Ai=Oe&&jt,P=Oe&&ft,j=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,te=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",w,i),window.removeEventListener("testPassiveEventSupport",w,i)}catch{}return e}(),ce=function(){return!!document.createElement("canvas").getContext}(),de=!!(document.createElementNS&&at("svg").createSVGRect),Ze=!!de&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),De=!de&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}();function Ge(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Z={ie:ht,ielt9:it,edge:Ne,webkit:dt,android:Mt,android23:si,androidStock:At,opera:jt,chrome:Tt,gecko:ft,safari:Ct,phantom:gt,opera12:yt,win:vt,ie3d:I,webkit3d:ue,gecko3d:Se,any3d:Ae,mobile:Oe,mobileWebkit:ot,mobileWebkit3d:bt,msPointer:$t,pointer:Mi,touch:nn,touchNative:vi,mobileOpera:Ai,mobileGecko:P,retina:j,passiveEvents:te,canvas:ce,svg:de,vml:De,inlineSvg:Ze},Wt=Z.msPointer?"MSPointerDown":"pointerdown",Gt=Z.msPointer?"MSPointerMove":"pointermove",Ei=Z.msPointer?"MSPointerUp":"pointerup",Kt=Z.msPointer?"MSPointerCancel":"pointercancel",Rt={touchstart:Wt,touchmove:Gt,touchend:Ei,touchcancel:Kt},qt={touchstart:N,touchmove:U,touchend:U,touchcancel:U},wt={},Oi=!1;function Oa(e,i,a){return i==="touchstart"&&p(),qt[i]?(a=qt[i].bind(this,a),e.addEventListener(Rt[i],a,!1),a):(console.warn("wrong event specified:",i),L.Util.falseFn)}function In(e,i,a){if(!Rt[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(Rt[i],a,!1)}function Bn(e){wt[e.pointerId]=e}function zn(e){wt[e.pointerId]&&(wt[e.pointerId]=e)}function an(e){delete wt[e.pointerId]}function p(){Oi||(document.addEventListener(Wt,Bn,!0),document.addEventListener(Gt,zn,!0),document.addEventListener(Ei,an,!0),document.addEventListener(Kt,an,!0),Oi=!0)}function U(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var a in wt)i.touches.push(wt[a]);i.changedTouches=[i],e(i)}}function N(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&rt(i),U(e,i)}function le(e){var i={},a,r;for(r in e)a=e[r],i[r]=a&&a.bind?a.bind(e):a;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var $e=200;function ke(e,i){e.addEventListener("dblclick",i);var a=0,r;function u(d){if(d.detail!==1){r=d.detail;return}if(!(d.pointerType==="mouse"||d.sourceCapabilities&&!d.sourceCapabilities.firesTouchEvents)){var _=Date.now();_-a<=$e?(r++,r===2&&i(le(d))):r=1,a=_}}return e.addEventListener("click",u),{dblclick:i,simDblclick:u}}function Ue(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var tt=qn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yt=qn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),er=Yt==="webkitTransition"||Yt==="OTransition"?Yt+"End":"transitionend";function tr(e){return typeof e=="string"?document.getElementById(e):e}function on(e,i){var a=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!a||a==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);a=r?r[i]:null}return a==="auto"?null:a}function Le(e,i,a){var r=document.createElement(e);return r.className=i||"",a&&a.appendChild(r),r}function je(e){var i=e.parentNode;i&&i.removeChild(e)}function $n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Ii(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function Bi(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Ia(e,i){if(e.classList!==void 0)return e.classList.contains(i);var a=Rn(e);return a.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(a)}function me(e,i){if(e.classList!==void 0)for(var a=M(i),r=0,u=a.length;r<u;r++)e.classList.add(a[r]);else if(!Ia(e,i)){var d=Rn(e);Ba(e,(d?d+" ":"")+i)}}function Ye(e,i){e.classList!==void 0?e.classList.remove(i):Ba(e,S((" "+Rn(e)+" ").replace(" "+i+" "," ")))}function Ba(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function Rn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Pt(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&jl(e,i)}function jl(e,i){var a=!1,r="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(r)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):e.style.filter+=" progid:"+r+"(opacity="+i+")"}function qn(e){for(var i=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in i)return e[a];return!1}function mi(e,i,a){var r=i||new D(0,0);e.style[tt]=(Z.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(a?" scale("+a+")":"")}function Xe(e,i){e._leaflet_pos=i,Z.any3d?mi(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function _i(e){return e._leaflet_pos||new D(0,0)}var rn,sn,za;if("onselectstart"in document)rn=function(){fe(window,"selectstart",rt)},sn=function(){Fe(window,"selectstart",rt)};else{var ln=qn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rn=function(){if(ln){var e=document.documentElement.style;za=e[ln],e[ln]="none"}},sn=function(){ln&&(document.documentElement.style[ln]=za,za=void 0)}}function $a(){fe(window,"dragstart",rt)}function Ra(){Fe(window,"dragstart",rt)}var Dn,qa;function Da(e){for(;e.tabIndex===-1;)e=e.parentNode;!e.style||(Fn(),Dn=e,qa=e.style.outline,e.style.outline="none",fe(window,"keydown",Fn))}function Fn(){!Dn||(Dn.style.outline=qa,Dn=void 0,qa=void 0,Fe(window,"keydown",Fn))}function ir(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Fa(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Wl={__proto__:null,TRANSFORM:tt,TRANSITION:Yt,TRANSITION_END:er,get:tr,getStyle:on,create:Le,remove:je,empty:$n,toFront:Ii,toBack:Bi,hasClass:Ia,addClass:me,removeClass:Ye,setClass:Ba,getClass:Rn,setOpacity:Pt,testProp:qn,setTransform:mi,setPosition:Xe,getPosition:_i,get disableTextSelection(){return rn},get enableTextSelection(){return sn},disableImageDrag:$a,enableImageDrag:Ra,preventOutline:Da,restoreOutline:Fn,getSizedParentNode:ir,getScale:Fa};function fe(e,i,a,r){if(i&&typeof i=="object")for(var u in i)Za(e,u,i[u],a);else{i=M(i);for(var d=0,_=i.length;d<_;d++)Za(e,i[d],a,r)}return this}var Dt="_leaflet_events";function Fe(e,i,a,r){if(arguments.length===1)nr(e),delete e[Dt];else if(i&&typeof i=="object")for(var u in i)Va(e,u,i[u],a);else if(i=M(i),arguments.length===2)nr(e,function(b){return $(i,b)!==-1});else for(var d=0,_=i.length;d<_;d++)Va(e,i[d],a,r);return this}function nr(e,i){for(var a in e[Dt]){var r=a.split(/\d/)[0];(!i||i(r))&&Va(e,r,null,null,a)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Za(e,i,a,r){var u=i+v(a)+(r?"_"+v(r):"");if(e[Dt]&&e[Dt][u])return this;var d=function(b){return a.call(r||e,b||window.event)},_=d;!Z.touchNative&&Z.pointer&&i.indexOf("touch")===0?d=Oa(e,i,d):Z.touch&&i==="dblclick"?d=ke(e,d):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(Na[i]||i,d,Z.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(d=function(b){b=b||window.event,Ua(e,b)&&_(b)},e.addEventListener(Na[i],d,!1)):e.addEventListener(i,_,!1):e.attachEvent("on"+i,d),e[Dt]=e[Dt]||{},e[Dt][u]=d}function Va(e,i,a,r,u){u=u||i+v(a)+(r?"_"+v(r):"");var d=e[Dt]&&e[Dt][u];if(!d)return this;!Z.touchNative&&Z.pointer&&i.indexOf("touch")===0?In(e,i,d):Z.touch&&i==="dblclick"?Ue(e,d):"removeEventListener"in e?e.removeEventListener(Na[i]||i,d,!1):e.detachEvent("on"+i,d),e[Dt][u]=null}function pi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ha(e){return Za(e,"wheel",pi),this}function un(e){return fe(e,"mousedown touchstart dblclick contextmenu",pi),e._leaflet_disable_click=!0,this}function rt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function gi(e){return rt(e),pi(e),this}function ar(e,i){if(!i)return new D(e.clientX,e.clientY);var a=Fa(i),r=a.boundingClientRect;return new D((e.clientX-r.left)/a.x-i.clientLeft,(e.clientY-r.top)/a.y-i.clientTop)}var Gl=Z.win&&Z.chrome?2*window.devicePixelRatio:Z.gecko?window.devicePixelRatio:1;function or(e){return Z.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Gl:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Ua(e,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Kl={__proto__:null,on:fe,off:Fe,stopPropagation:pi,disableScrollPropagation:Ha,disableClickPropagation:un,preventDefault:rt,stop:gi,getMousePosition:ar,getWheelDelta:or,isExternalTarget:Ua,addListener:fe,removeListener:Fe},rr=we.extend({run:function(e,i,a,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=_i(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var a=this._startPos.add(this._offset.multiplyBy(e));i&&a._round(),Xe(this._el,a),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),xe=we.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=E(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(F(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yt&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fe(this._proxy,er,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(F(e),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var r=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,a.zoom):this._tryAnimatedPan(e,a.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,a){var r=this.getZoomScale(i),u=this.getSize().divideBy(2),d=e instanceof D?e:this.latLngToContainerPoint(e),_=d.subtract(u).multiplyBy(1-1/r),b=this.containerPointToLatLng(u.add(_));return this.setView(b,i,{zoom:a})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():H(e);var a=k(i.paddingTopLeft||i.padding||[0,0]),r=k(i.paddingBottomRight||i.padding||[0,0]),u=this.getBoundsZoom(e,!1,a.add(r));if(u=typeof i.maxZoom=="number"?Math.min(i.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var d=r.subtract(a).divideBy(2),_=this.project(e.getSouthWest(),u),b=this.project(e.getNorthEast(),u),C=this.unproject(_.add(b).divideBy(2).add(d),u);return{center:C,zoom:u}},fitBounds:function(e,i){if(e=H(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=k(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,a){if(a=a||{},a.animate===!1||!Z.any3d)return this.setView(e,i,a);this._stop();var r=this.project(this.getCenter()),u=this.project(e),d=this.getSize(),_=this._zoom;e=F(e),i=i===void 0?_:i;var b=Math.max(d.x,d.y),C=b*this.getZoomScale(_,i),B=u.distanceTo(r)||1,X=1.42,pe=X*X;function Te(Je){var Xn=Je?-1:1,Ru=Je?C:b,qu=C*C-b*b+Xn*pe*pe*B*B,Du=2*Ru*pe*B,no=qu/Du,qr=Math.sqrt(no*no+1)-no,Fu=qr<1e-9?-18:Math.log(qr);return Fu}function ti(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function bi(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Qn(Je){return ti(Je)/bi(Je)}var ci=Te(0);function io(Je){return b*(bi(ci)/bi(ci+X*Je))}function Iu(Je){return b*(bi(ci)*Qn(ci+X*Je)-ti(ci))/pe}function Bu(Je){return 1-Math.pow(1-Je,1.5)}var zu=Date.now(),$r=(Te(1)-ci)/X,$u=a.duration?1e3*a.duration:1e3*$r*.8;function Rr(){var Je=(Date.now()-zu)/$u,Xn=Bu(Je)*$r;Je<=1?(this._flyToFrame=ne(Rr,this),this._move(this.unproject(r.add(u.subtract(r).multiplyBy(Iu(Xn)/B)),_),this.getScaleZoom(b/io(Xn),_),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Rr.call(this),this},flyToBounds:function(e,i){var a=this._getBoundsCenterZoom(e,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(e){if(e=H(e),e.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var a=this.getCenter(),r=this._limitCenter(a,this._zoom,H(e));return a.equals(r)||this.panTo(r,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var a=k(i.paddingTopLeft||i.padding||[0,0]),r=k(i.paddingBottomRight||i.padding||[0,0]),u=this.project(this.getCenter()),d=this.project(e),_=this.getPixelBounds(),b=V([_.min.add(a),_.max.subtract(r)]),C=b.getSize();if(!b.contains(d)){this._enforcingBounds=!0;var B=d.subtract(b.getCenter()),X=b.extend(d).getSize().subtract(C);u.x+=B.x<0?-X.x:X.x,u.y+=B.y<0?-X.y:X.y,this.panTo(this.unproject(u),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=s({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),r=i.divideBy(2).round(),u=a.divideBy(2).round(),d=r.subtract(u);return!d.x&&!d.y?this:(e.animate&&e.pan?this.panBy(d):(e.pan&&this._rawPanBy(d),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=s({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=h(this._handleGeolocationResponse,this),a=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,e):navigator.geolocation.getCurrentPosition(i,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(!!this._container._leaflet_id){var i=e.code,a=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(!!this._container._leaflet_id){var i=e.coords.latitude,a=e.coords.longitude,r=new ee(i,a),u=r.toBounds(e.coords.accuracy*2),d=this._locateOptions;if(d.setView){var _=this.getBoundsZoom(u);this.setView(r,d.maxZoom?Math.min(_,d.maxZoom):_)}var b={latlng:r,bounds:u,timestamp:e.timestamp};for(var C in e.coords)typeof e.coords[C]=="number"&&(b[C]=e.coords[C]);this.fire("locationfound",b)}},addHandler:function(e,i){if(!i)return this;var a=this[e]=new i(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)je(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=Le("div",a,i||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new W(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,a){e=H(e),a=k(a||[0,0]);var r=this.getZoom()||0,u=this.getMinZoom(),d=this.getMaxZoom(),_=e.getNorthWest(),b=e.getSouthEast(),C=this.getSize().subtract(a),B=V(this.project(b,r),this.project(_,r)).getSize(),X=Z.any3d?this.options.zoomSnap:1,pe=C.x/B.x,Te=C.y/B.y,ti=i?Math.max(pe,Te):Math.min(pe,Te);return r=this.getScaleZoom(ti,r),X&&(r=Math.round(r/(X/100))*(X/100),r=i?Math.ceil(r/X)*X:Math.floor(r/X)*X),Math.max(u,Math.min(d,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var a=this._getTopLeftPoint(e,i);return new A(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(e)/a.scale(i)},getScaleZoom:function(e,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var r=a.zoom(e*a.scale(i));return isNaN(r)?1/0:r},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(F(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(k(e),i)},layerPointToLatLng:function(e){var i=k(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(F(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(H(e))},distance:function(e,i){return this.options.crs.distance(F(e),F(i))},containerPointToLayerPoint:function(e){return k(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return k(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(k(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return ar(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=tr(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fe(i,"scroll",this._onScroll,this),this._containerId=v(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,me(e,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=on(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xe(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(e.markerPane,"leaflet-zoom-hide"),me(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i){Xe(this._mapPane,new D(0,0));var a=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var r=this._zoom!==i;this._moveStart(r,!1)._move(e,i)._moveEnd(r),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,a,r){i===void 0&&(i=this._zoom);var u=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?a&&a.pinch&&this.fire("zoom",a):((u||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Xe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[v(this._container)]=this;var i=e?Fe:fe;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var a=[],r,u=i==="mouseout"||i==="mouseover",d=e.target||e.srcElement,_=!1;d;){if(r=this._targets[v(d)],r&&(i==="click"||i==="preclick")&&this._draggableMoved(r)){_=!0;break}if(r&&r.listens(i,!0)&&(u&&!Ua(d,e)||(a.push(r),u))||d===this._container)break;d=d.parentNode}return!a.length&&!_&&!u&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var a=e.type;a==="mousedown"&&Da(i),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,a){if(e.type==="click"){var r=s({},e);r.type="preclick",this._fireDOMEvent(r,r.type,a)}var u=this._findEventTargets(e,i);if(a){for(var d=[],_=0;_<a.length;_++)a[_].listens(i,!0)&&d.push(a[_]);u=d.concat(u)}if(!!u.length){i==="contextmenu"&&rt(e);var b=u[0],C={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var B=b.getLatLng&&(!b._radius||b._radius<=10);C.containerPoint=B?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(e),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=B?b.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(_=0;_<u.length;_++)if(u[_].fire(i,C,!0),C.originalEvent._stopped||u[_].options.bubblingMouseEvents===!1&&$(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return _i(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var a=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var a=this.getSize()._divideBy(2);return this.project(e,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,a){var r=this._getNewPixelOrigin(a,i);return this.project(e,i)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,i,a){var r=this._getNewPixelOrigin(a,i);return V([this.project(e.getSouthWest(),i)._subtract(r),this.project(e.getNorthWest(),i)._subtract(r),this.project(e.getSouthEast(),i)._subtract(r),this.project(e.getNorthEast(),i)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,a){if(!a)return e;var r=this.project(e,i),u=this.getSize().divideBy(2),d=new A(r.subtract(u),r.add(u)),_=this._getBoundsOffset(d,a,i);return _.round().equals([0,0])?e:this.unproject(r.add(_),i)},_limitOffset:function(e,i){if(!i)return e;var a=this.getPixelBounds(),r=new A(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(r,i))},_getBoundsOffset:function(e,i,a){var r=V(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),u=r.min.subtract(e.min),d=r.max.subtract(e.max),_=this._rebound(u.x,-d.x),b=this._rebound(u.y,-d.y);return new D(_,b)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),a=this.getMaxZoom(),r=Z.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(i,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var a=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var e=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var a=tt,r=this._proxy.style[a];mi(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),r===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();mi(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(i),u=this._getCenterOffset(e)._divideBy(1-1/r);return a.animate!==!0&&!this.getSize().contains(u)?!1:(ne(function(){this._moveStart(!0,!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,a,r){!this._mapPane||(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yl(e,i){return new xe(e,i)}var Et=re.extend({options:{position:"topright"},initialize:function(e){E(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),a=this.getPosition(),r=e._controlCorners[a];return me(i,"leaflet-control"),a.indexOf("bottom")!==-1?r.insertBefore(i,r.firstChild):r.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),cn=function(e){return new Et(e)};xe.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",a=this._controlContainer=Le("div",i+"control-container",this._container);function r(u,d){var _=i+u+" "+i+d;e[u+d]=Le("div",_,a)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)je(this._controlCorners[e]);je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sr=Et.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,a,r){return a<r?-1:r<a?1:0}},initialize:function(e,i,a){E(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in i)this._addLayer(i[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Et.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(v(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=Le("div",e),a=this.options.collapsed;i.setAttribute("aria-haspopup",!0),un(i),Ha(i);var r=this._section=Le("section",e+"-list");a&&(this._map.on("click",this.collapse,this),fe(i,{mouseenter:function(){fe(r,"click",rt),this.expand(),setTimeout(function(){Fe(r,"click",rt)})},mouseleave:this.collapse},this));var u=this._layersLink=Le("a",e+"-toggle",i);u.href="#",u.title="Layers",u.setAttribute("role","button"),fe(u,"click",rt),fe(u,"focus",this.expand,this),a||this.expand(),this._baseLayersList=Le("div",e+"-base",r),this._separator=Le("div",e+"-separator",r),this._overlaysList=Le("div",e+"-overlays",r),i.appendChild(r)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&v(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(h(function(r,u){return this.options.sortFunction(r.layer,u.layer,r.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$n(this._baseLayersList),$n(this._overlaysList),this._layerControlInputs=[];var e,i,a,r,u=0;for(a=0;a<this._layers.length;a++)r=this._layers[a],this._addItem(r),i=i||r.overlay,e=e||!r.overlay,u+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(v(e.target)),a=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,i)},_createRadioElement:function(e,i){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=a,r.firstChild},_addItem:function(e){var i=document.createElement("label"),a=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=a):r=this._createRadioElement("leaflet-base-layers_"+v(this),a),this._layerControlInputs.push(r),r.layerId=v(e.layer),fe(r,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var d=document.createElement("span");i.appendChild(d),d.appendChild(r),d.appendChild(u);var _=e.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var e=this._layerControlInputs,i,a,r=[],u=[];this._handlingClick=!0;for(var d=e.length-1;d>=0;d--)i=e[d],a=this._getLayer(i.layerId).layer,i.checked?r.push(a):i.checked||u.push(a);for(d=0;d<u.length;d++)this._map.hasLayer(u[d])&&this._map.removeLayer(u[d]);for(d=0;d<r.length;d++)this._map.hasLayer(r[d])||this._map.addLayer(r[d]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,a,r=this._map.getZoom(),u=e.length-1;u>=0;u--)i=e[u],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&r<a.options.minZoom||a.options.maxZoom!==void 0&&r>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Ql=function(e,i,a){return new sr(e,i,a)},ja=Et.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",a=Le("div",i+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,i+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,i+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,a,r,u){var d=Le("a",a,r);return d.innerHTML=e,d.href="#",d.title=i,d.setAttribute("role","button"),d.setAttribute("aria-label",i),un(d),fe(d,"click",gi),fe(d,"click",u,this),fe(d,"click",this._refocusOnMap,this),d},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";Ye(this._zoomInButton,i),Ye(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(me(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(me(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ja,this.addControl(this.zoomControl))});var Xl=function(e){return new ja(e)},lr=Et.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",a=Le("div",i),r=this.options;return this._addScales(r,i+"-line",a),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,a){e.metric&&(this._mScale=Le("div",i,a)),e.imperial&&(this._iScale=Le("div",i,a))},_update:function(){var e=this._map,i=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),a=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,a,i/e)},_updateImperial:function(e){var i=e*3.2808399,a,r,u;i>5280?(a=i/5280,r=this._getRoundNum(a),this._updateScale(this._iScale,r+" mi",r/a)):(u=this._getRoundNum(i),this._updateScale(this._iScale,u+" ft",u/i))},_updateScale:function(e,i,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),a=e/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),Jl=function(e){return new lr(e)},eu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Wa=Et.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?eu+" ":"")+"Leaflet</a>"},initialize:function(e){E(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),un(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(!!this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new Wa().addTo(this)});var tu=function(e){return new Wa(e)};Et.Layers=sr,Et.Zoom=ja,Et.Scale=lr,Et.Attribution=Wa,cn.layers=Ql,cn.zoom=Xl,cn.scale=Jl,cn.attribution=tu;var Ft=re.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(e,i){return e.addHandler(i,this),this};var iu={Events:se},ur=Z.touch?"touchstart mousedown":"mousedown",li=we.extend({options:{clickTolerance:3},initialize:function(e,i,a,r){E(this,r),this._element=e,this._dragStartTarget=i||e,this._preventOutline=a},enable:function(){this._enabled||(fe(this._dragStartTarget,ur,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(li._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!!this._enabled&&(this._moved=!1,!Ia(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(li._dragging=this,this._preventOutline&&Da(this._element),$a(),rn(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,a=ir(this._element);this._startPoint=new D(i.clientX,i.clientY),this._startPos=_i(this._element),this._parentScale=Fa(a);var r=e.type==="mousedown";fe(document,r?"mousemove":"touchmove",this._onMove,this),fe(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(!!this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,a=new D(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,rt(e),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Xe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(e){Ye(document.body,"leaflet-dragging"),this._lastTarget&&(Ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Ra(),sn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,li._dragging=!1}});function cr(e,i){if(!i||!e.length)return e.slice();var a=i*i;return e=ou(e,a),e=au(e,a),e}function hr(e,i,a){return Math.sqrt(hn(e,i,a,!0))}function nu(e,i,a){return hn(e,i,a)}function au(e,i){var a=e.length,r=typeof Uint8Array!=void 0+""?Uint8Array:Array,u=new r(a);u[0]=u[a-1]=1,Ga(e,u,i,0,a-1);var d,_=[];for(d=0;d<a;d++)u[d]&&_.push(e[d]);return _}function Ga(e,i,a,r,u){var d=0,_,b,C;for(b=r+1;b<=u-1;b++)C=hn(e[b],e[r],e[u],!0),C>d&&(_=b,d=C);d>a&&(i[_]=1,Ga(e,i,a,r,_),Ga(e,i,a,_,u))}function ou(e,i){for(var a=[e[0]],r=1,u=0,d=e.length;r<d;r++)ru(e[r],e[u])>i&&(a.push(e[r]),u=r);return u<d-1&&a.push(e[d-1]),a}var dr;function fr(e,i,a,r,u){var d=r?dr:yi(e,a),_=yi(i,a),b,C,B;for(dr=_;;){if(!(d|_))return[e,i];if(d&_)return!1;b=d||_,C=Nn(e,i,b,a,u),B=yi(C,a),b===d?(e=C,d=B):(i=C,_=B)}}function Nn(e,i,a,r,u){var d=i.x-e.x,_=i.y-e.y,b=r.min,C=r.max,B,X;return a&8?(B=e.x+d*(C.y-e.y)/_,X=C.y):a&4?(B=e.x+d*(b.y-e.y)/_,X=b.y):a&2?(B=C.x,X=e.y+_*(C.x-e.x)/d):a&1&&(B=b.x,X=e.y+_*(b.x-e.x)/d),new D(B,X,u)}function yi(e,i){var a=0;return e.x<i.min.x?a|=1:e.x>i.max.x&&(a|=2),e.y<i.min.y?a|=4:e.y>i.max.y&&(a|=8),a}function ru(e,i){var a=i.x-e.x,r=i.y-e.y;return a*a+r*r}function hn(e,i,a,r){var u=i.x,d=i.y,_=a.x-u,b=a.y-d,C=_*_+b*b,B;return C>0&&(B=((e.x-u)*_+(e.y-d)*b)/C,B>1?(u=a.x,d=a.y):B>0&&(u+=_*B,d+=b*B)),_=e.x-u,b=e.y-d,r?_*_+b*b:new D(u,d)}function Qt(e){return!Y(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"}function vr(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(e)}var su={__proto__:null,simplify:cr,pointToSegmentDistance:hr,closestPointOnSegment:nu,clipSegment:fr,_getEdgeIntersection:Nn,_getBitCode:yi,_sqClosestPointOnSegment:hn,isFlat:Qt,_flat:vr};function mr(e,i,a){var r,u=[1,4,2,8],d,_,b,C,B,X,pe,Te;for(d=0,X=e.length;d<X;d++)e[d]._code=yi(e[d],i);for(b=0;b<4;b++){for(pe=u[b],r=[],d=0,X=e.length,_=X-1;d<X;_=d++)C=e[d],B=e[_],C._code&pe?B._code&pe||(Te=Nn(B,C,pe,i,a),Te._code=yi(Te,i),r.push(Te)):(B._code&pe&&(Te=Nn(B,C,pe,i,a),Te._code=yi(Te,i),r.push(Te)),r.push(C));e=r}return e}var lu={__proto__:null,clipPolygon:mr},Ka={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new ee(e.y,e.x)},bounds:new A([-180,-90],[180,90])},Ya={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,a=this.R,r=e.lat*i,u=this.R_MINOR/a,d=Math.sqrt(1-u*u),_=d*Math.sin(r),b=Math.tan(Math.PI/4-r/2)/Math.pow((1-_)/(1+_),d/2);return r=-a*Math.log(Math.max(b,1e-10)),new D(e.lng*i*a,r)},unproject:function(e){for(var i=180/Math.PI,a=this.R,r=this.R_MINOR/a,u=Math.sqrt(1-r*r),d=Math.exp(-e.y/a),_=Math.PI/2-2*Math.atan(d),b=0,C=.1,B;b<15&&Math.abs(C)>1e-7;b++)B=u*Math.sin(_),B=Math.pow((1-B)/(1+B),u/2),C=Math.PI/2-2*Math.atan(d*B)-_,_+=C;return new ee(_*i,e.x*i/a)}},uu={__proto__:null,LonLat:Ka,Mercator:Ya,SphericalMercator:K},cu=s({},ve,{code:"EPSG:3395",projection:Ya,transformation:function(){var e=.5/(Math.PI*Ya.R);return Qe(e,.5,-e,.5)}()}),_r=s({},ve,{code:"EPSG:4326",projection:Ka,transformation:Qe(1/180,1,-1/180,.5)}),hu=s({},G,{projection:Ka,transformation:Qe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var a=i.lng-e.lng,r=i.lat-e.lat;return Math.sqrt(a*a+r*r)},infinite:!0});G.Earth=ve,G.EPSG3395=cu,G.EPSG3857=ze,G.EPSG900913=pt,G.EPSG4326=_r,G.Simple=hu;var Ot=we.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[v(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[v(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(!!i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var a=this.getEvents();i.on(a,this),this.once("remove",function(){i.off(a,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=v(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=v(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return v(e)in this._layers},eachLayer:function(e,i){for(var a in this._layers)e.call(i,this._layers[a]);return this},_addLayers:function(e){e=e?Y(e)?e:[e]:[];for(var i=0,a=e.length;i<a;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[v(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=v(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,a=this._getZoomSpan();for(var r in this._zoomBoundLayers){var u=this._zoomBoundLayers[r].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),i=u.maxZoom===void 0?i:Math.max(i,u.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zi=Ot.extend({initialize:function(e,i){E(this,i),this._layers={};var a,r;if(e)for(a=0,r=e.length;a<r;a++)this.addLayer(e[a])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),a,r;for(a in this._layers)r=this._layers[a],r[e]&&r[e].apply(r,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var a in this._layers)e.call(i,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return v(e)}}),du=function(e,i){return new zi(e,i)},$i=zi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),zi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),zi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new W;for(var i in this._layers){var a=this._layers[i];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),fu=function(e,i){return new $i(e,i)},Ri=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){E(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(a,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(e,i){var a=this.options,r=a[i+"Size"];typeof r=="number"&&(r=[r,r]);var u=k(r),d=k(i==="shadow"&&a.shadowAnchor||a.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(a.className||""),d&&(e.style.marginLeft=-d.x+"px",e.style.marginTop=-d.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return Z.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function vu(e){return new Ri(e)}var dn=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof dn.imagePath!="string"&&(dn.imagePath=this._detectIconPath()),(this.options.imagePath||dn.imagePath)+Ri.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(a,r,u){var d=r.exec(a);return d&&d[u]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Le("div","leaflet-default-icon-path",document.body),i=on(e,"background-image")||on(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),pr=Ft.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new li(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,a=i._map,r=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,d=_i(i._icon),_=a.getPixelBounds(),b=a.getPixelOrigin(),C=V(_.min._subtract(b).add(u),_.max._subtract(b).subtract(u));if(!C.contains(d)){var B=k((Math.max(C.max.x,d.x)-C.max.x)/(_.max.x-C.max.x)-(Math.min(C.min.x,d.x)-C.min.x)/(_.min.x-C.min.x),(Math.max(C.max.y,d.y)-C.max.y)/(_.max.y-C.max.y)-(Math.min(C.min.y,d.y)-C.min.y)/(_.min.y-C.min.y)).multiplyBy(r);a.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),Xe(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ne(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,a=i._shadow,r=_i(i._icon),u=i._map.layerPointToLatLng(r);a&&Xe(a,r),i._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Zn=Ot.extend({options:{icon:new dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){E(this,i),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=F(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),r=!1;a!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),me(a,i),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(a,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),d=!1;u!==this._shadow&&(this._removeShadow(),d=!0),u&&(me(u,i),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&d&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&je(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Xe(this._icon,e),this._shadow&&Xe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(!!this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Pt(this._icon,e),this._shadow&&Pt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(!!e){var i=this.options.icon.options,a=i.iconSize?k(i.iconSize):k(0,0),r=i.iconAnchor?k(i.iconAnchor):k(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:a.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mu(e,i){return new Zn(e,i)}var ui=Ot.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return E(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vn=ui.extend({options:{fill:!0,radius:10},initialize:function(e,i){E(this,i),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=F(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return ui.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,a=this._clickTolerance(),r=[e+a,i+a];this._pxBounds=new A(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _u(e,i){return new Vn(e,i)}var Qa=Vn.extend({initialize:function(e,i,a){if(typeof i=="number"&&(i=s({},a,{radius:i})),E(this,i),this._latlng=F(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ui.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,a=this._map,r=a.options.crs;if(r.distance===ve.distance){var u=Math.PI/180,d=this._mRadius/ve.R/u,_=a.project([i+d,e]),b=a.project([i-d,e]),C=_.add(b).divideBy(2),B=a.unproject(C).lat,X=Math.acos((Math.cos(d*u)-Math.sin(i*u)*Math.sin(B*u))/(Math.cos(i*u)*Math.cos(B*u)))/u;(isNaN(X)||X===0)&&(X=d/Math.cos(Math.PI/180*i)),this._point=C.subtract(a.getPixelOrigin()),this._radius=isNaN(X)?0:C.x-a.project([B,e-X]).x,this._radiusY=C.y-_.y}else{var pe=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(pe).x}this._updateBounds()}});function pu(e,i,a){return new Qa(e,i,a)}var Xt=ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){E(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,a=null,r=hn,u,d,_=0,b=this._parts.length;_<b;_++)for(var C=this._parts[_],B=1,X=C.length;B<X;B++){u=C[B-1],d=C[B];var pe=r(e,u,d,!0);pe<i&&(i=pe,a=r(e,u,d))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,i,a,r,u,d,_,b=this._rings[0],C=b.length;if(!C)return null;for(e=0,i=0;e<C-1;e++)i+=b[e].distanceTo(b[e+1])/2;if(i===0)return this._map.layerPointToLatLng(b[0]);for(e=0,r=0;e<C-1;e++)if(u=b[e],d=b[e+1],a=u.distanceTo(d),r+=a,r>i)return _=(r-i)/a,this._map.layerPointToLatLng([d.x-_*(d.x-u.x),d.y-_*(d.y-u.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=F(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new W,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],a=Qt(e),r=0,u=e.length;r<u;r++)a?(i[r]=F(e[r]),this._bounds.extend(i[r])):i[r]=this._convertLatLngs(e[r]);return i},_project:function(){var e=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new D(e,e);!this._rawPxBounds||(this._pxBounds=new A([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,a){var r=e[0]instanceof ee,u=e.length,d,_;if(r){for(_=[],d=0;d<u;d++)_[d]=this._map.latLngToLayerPoint(e[d]),a.extend(_[d]);i.push(_)}else for(d=0;d<u;d++)this._projectLatlngs(e[d],i,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,a,r,u,d,_,b,C;for(a=0,u=0,d=this._rings.length;a<d;a++)for(C=this._rings[a],r=0,_=C.length;r<_-1;r++)b=fr(C[r],C[r+1],e,r,!0),b&&(i[u]=i[u]||[],i[u].push(b[0]),(b[1]!==C[r+1]||r===_-2)&&(i[u].push(b[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,a=0,r=e.length;a<r;a++)e[a]=cr(e[a],i)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var a,r,u,d,_,b,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,d=this._parts.length;a<d;a++)for(b=this._parts[a],r=0,_=b.length,u=_-1;r<_;u=r++)if(!(!i&&r===0)&&hr(e,b[u],b[r])<=C)return!0;return!1}});function gu(e,i){return new Xt(e,i)}Xt._flat=vr;var qi=Xt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,i,a,r,u,d,_,b,C,B=this._rings[0],X=B.length;if(!X)return null;for(d=_=b=0,e=0,i=X-1;e<X;i=e++)a=B[e],r=B[i],u=a.y*r.x-r.y*a.x,_+=(a.x+r.x)*u,b+=(a.y+r.y)*u,d+=u*3;return d===0?C=B[0]:C=[_/d,b/d],this._map.layerPointToLatLng(C)},_convertLatLngs:function(e){var i=Xt.prototype._convertLatLngs.call(this,e),a=i.length;return a>=2&&i[0]instanceof ee&&i[0].equals(i[a-1])&&i.pop(),i},_setLatLngs:function(e){Xt.prototype._setLatLngs.call(this,e),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,a=new D(i,i);if(e=new A(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,u=this._rings.length,d;r<u;r++)d=mr(this._rings[r],e,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,a,r,u,d,_,b,C,B;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(d=0,C=this._parts.length;d<C;d++)for(a=this._parts[d],_=0,B=a.length,b=B-1;_<B;b=_++)r=a[_],u=a[b],r.y>e.y!=u.y>e.y&&e.x<(u.x-r.x)*(e.y-r.y)/(u.y-r.y)+r.x&&(i=!i);return i||Xt.prototype._containsPoint.call(this,e,!0)}});function yu(e,i){return new qi(e,i)}var Jt=$i.extend({initialize:function(e,i){E(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=Y(e)?e:e.features,a,r,u;if(i){for(a=0,r=i.length;a<r;a++)u=i[a],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var d=this.options;if(d.filter&&!d.filter(e))return this;var _=Xa(e,d);return _?(_.feature=jn(e),_.defaultOptions=_.options,this.resetStyle(_),d.onEachFeature&&d.onEachFeature(e,_),this.addLayer(_)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=s({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function Xa(e,i){var a=e.type==="Feature"?e.geometry:e,r=a?a.coordinates:null,u=[],d=i&&i.pointToLayer,_=i&&i.coordsToLatLng||Ja,b,C,B,X;if(!r&&!a)return null;switch(a.type){case"Point":return b=_(r),gr(d,e,b,i);case"MultiPoint":for(B=0,X=r.length;B<X;B++)b=_(r[B]),u.push(gr(d,e,b,i));return new $i(u);case"LineString":case"MultiLineString":return C=Hn(r,a.type==="LineString"?0:1,_),new Xt(C,i);case"Polygon":case"MultiPolygon":return C=Hn(r,a.type==="Polygon"?1:2,_),new qi(C,i);case"GeometryCollection":for(B=0,X=a.geometries.length;B<X;B++){var pe=Xa({geometry:a.geometries[B],type:"Feature",properties:e.properties},i);pe&&u.push(pe)}return new $i(u);default:throw new Error("Invalid GeoJSON object.")}}function gr(e,i,a,r){return e?e(i,a):new Zn(a,r&&r.markersInheritOptions&&r)}function Ja(e){return new ee(e[1],e[0],e[2])}function Hn(e,i,a){for(var r=[],u=0,d=e.length,_;u<d;u++)_=i?Hn(e[u],i-1,a):(a||Ja)(e[u]),r.push(_);return r}function eo(e,i){return e=F(e),e.alt!==void 0?[T(e.lng,i),T(e.lat,i),T(e.alt,i)]:[T(e.lng,i),T(e.lat,i)]}function Un(e,i,a,r){for(var u=[],d=0,_=e.length;d<_;d++)u.push(i?Un(e[d],i-1,a,r):eo(e[d],r));return!i&&a&&u.push(u[0]),u}function Di(e,i){return e.feature?s({},e.feature,{geometry:i}):jn(i)}function jn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var to={toGeoJSON:function(e){return Di(this,{type:"Point",coordinates:eo(this.getLatLng(),e)})}};Zn.include(to),Qa.include(to),Vn.include(to),Xt.include({toGeoJSON:function(e){var i=!Qt(this._latlngs),a=Un(this._latlngs,i?1:0,!1,e);return Di(this,{type:(i?"Multi":"")+"LineString",coordinates:a})}}),qi.include({toGeoJSON:function(e){var i=!Qt(this._latlngs),a=i&&!Qt(this._latlngs[0]),r=Un(this._latlngs,a?2:i?1:0,!0,e);return i||(r=[r]),Di(this,{type:(a?"Multi":"")+"Polygon",coordinates:r})}}),zi.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(a){i.push(a.toGeoJSON(e).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var a=i==="GeometryCollection",r=[];return this.eachLayer(function(u){if(u.toGeoJSON){var d=u.toGeoJSON(e);if(a)r.push(d.geometry);else{var _=jn(d);_.type==="FeatureCollection"?r.push.apply(r,_.features):r.push(_)}}}),a?Di(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function yr(e,i){return new Jt(e,i)}var bu=yr,Wn=Ot.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,a){this._url=e,this._bounds=H(i),E(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Ii(this._image),this},bringToBack:function(){return this._map&&Bi(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=H(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:Le("img");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onload=h(this.fire,this,"load"),i.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;mi(this._image,a,i)},_reset:function(){var e=this._image,i=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=i.getSize();Xe(e,i.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),wu=function(e,i,a){return new Wn(e,i,a)},br=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:Le("video");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onloadeddata=h(this.fire,this,"load"),e){for(var a=i.getElementsByTagName("source"),r=[],u=0;u<a.length;u++)r.push(a[u].src);this._url=a.length>0?r:[i.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var d=0;d<this._url.length;d++){var _=Le("source");_.src=this._url[d],i.appendChild(_)}}});function Su(e,i,a){return new br(e,i,a)}var wr=Wn.extend({_initImage:function(){var e=this._image=this._url;me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=w,e.onmousemove=w}});function xu(e,i,a){return new wr(e,i,a)}var Nt=Ot.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,i){E(this,e),this._source=i},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Pt(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Pt(this._container,0),this._removeTimeout=setTimeout(h(je,void 0,this._container),200)):je(this._container),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ii(this._container),this},bringToBack:function(){return this._map&&Bi(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof $i){i=null;var a=this._source._layers;for(var r in a)if(a[r]._map){i=a[r];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=k(this.options.offset),a=this._getAnchor();this._zoomAnimated?Xe(this._container,e.add(a)):i=i.add(e).add(a);var r=this._containerBottom=-i.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=r+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(e,i,a,r){var u=i;return u instanceof e||(u=new e(r).setContent(i)),a&&u.setLatLng(a),u}}),Ot.include({_initOverlay:function(e,i,a,r){var u=a;return u instanceof e?(E(u,r),u._source=this):(u=i&&!r?i:new e(r,this),u.setContent(a)),u}});var Gn=Nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Nt.prototype.openOn.call(this,e)},onAdd:function(e){Nt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ui||this._source.on("preclick",pi))},onRemove:function(e){Nt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ui||this._source.off("preclick",pi))},getEvents:function(){var e=Nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=Le("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Le("div",e+"-content-wrapper",i);if(this._contentNode=Le("div",e+"-content",a),un(i),Ha(this._contentNode),fe(i,"contextmenu",pi),this._tipContainer=Le("div",e+"-tip-container",i),this._tip=Le("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=Le("a",e+"-close-button",i);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',fe(r,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),i.width=a+1+"px",i.whiteSpace="",i.height="";var r=e.offsetHeight,u=this.options.maxHeight,d="leaflet-popup-scrolled";u&&r>u?(i.height=u+"px",me(e,d)):Ye(e,d),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();Xe(this._container,i.add(a))},_adjustPan:function(e){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var i=this._map,a=parseInt(on(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+a,u=this._containerWidth,d=new D(this._containerLeft,-r-this._containerBottom);d._add(_i(this._container));var _=i.layerPointToContainerPoint(d),b=k(this.options.autoPanPadding),C=k(this.options.autoPanPaddingTopLeft||b),B=k(this.options.autoPanPaddingBottomRight||b),X=i.getSize(),pe=0,Te=0;_.x+u+B.x>X.x&&(pe=_.x+u-X.x+B.x),_.x-pe-C.x<0&&(pe=_.x-C.x),_.y+r+B.y>X.y&&(Te=_.y+r-X.y+B.y),_.y-Te-C.y<0&&(Te=_.y-C.y),(pe||Te)&&i.fire("autopanstart").panBy([pe,Te],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tu=function(e,i){return new Gn(e,i)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(e,i,a){return this._initOverlay(Gn,e,i,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ot.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Gn,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){gi(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Kn=Nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Nt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Nt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Nt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",i)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,a,r=this._map,u=this._container,d=r.latLngToContainerPoint(r.getCenter()),_=r.layerPointToContainerPoint(e),b=this.options.direction,C=u.offsetWidth,B=u.offsetHeight,X=k(this.options.offset),pe=this._getAnchor();b==="top"?(i=C/2,a=B):b==="bottom"?(i=C/2,a=0):b==="center"?(i=C/2,a=B/2):b==="right"?(i=0,a=B/2):b==="left"?(i=C,a=B/2):_.x<d.x?(b="right",i=0,a=B/2):(b="left",i=C+(X.x+pe.x)*2,a=B/2),e=e.subtract(k(i,a,!0)).add(X).add(pe),Ye(u,"leaflet-tooltip-right"),Ye(u,"leaflet-tooltip-left"),Ye(u,"leaflet-tooltip-top"),Ye(u,"leaflet-tooltip-bottom"),me(u,"leaflet-tooltip-"+b),Xe(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Pt(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cu=function(e,i){return new Kn(e,i)};xe.include({openTooltip:function(e,i,a){return this._initOverlay(Kn,e,i,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ot.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kn,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[i](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var i=e.latlng,a,r;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(a),i=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(i)}});var Sr=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?($n(i),i.appendChild(a.html)):i.innerHTML=a.html!==!1?a.html:"",a.bgPos){var r=k(a.bgPos);i.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Pu(e){return new Sr(e)}Ri.Default=dn;var fn=Ot.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){E(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),je(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,a=-e(-1/0,1/0),r=0,u=i.length,d;r<u;r++)d=i[r].style.zIndex,i[r]!==this._container&&d&&(a=e(a,+d));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!Z.ielt9){Pt(this._container,this.options.opacity);var e=+new Date,i=!1,a=!1;for(var r in this._tiles){var u=this._tiles[r];if(!(!u.current||!u.loaded)){var d=Math.min(1,(e-u.loaded)/200);Pt(u.el,d),d<1?i=!0:(u.active?a=!0:this._onOpaqueTile(u),u.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),i&&(R(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=i-Math.abs(e-a),this._onUpdateLevel(a)):(je(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var r=this._levels[e],u=this._map;return r||(r=this._levels[e]={},r.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=i,r.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,u.getCenter(),u.getZoom()),w(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(!!this._map){var e,i,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var r=i.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)je(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,a,r){var u=Math.floor(e/2),d=Math.floor(i/2),_=a-1,b=new D(+u,+d);b.z=+_;var C=this._tileCoordsToKey(b),B=this._tiles[C];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),_>r?this._retainParent(u,d,_,r):!1)},_retainChildren:function(e,i,a,r){for(var u=2*e;u<2*e+2;u++)for(var d=2*i;d<2*i+2;d++){var _=new D(u,d);_.z=a+1;var b=this._tileCoordsToKey(_),C=this._tiles[b];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);a+1<r&&this._retainChildren(u,d,a+1,r)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,a,r){var u=Math.round(i);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var d=this.options.updateWhenZooming&&u!==this._tileZoom;(!r||d)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,i)},_setZoomTransform:function(e,i,a){var r=this._map.getZoomScale(a,e.zoom),u=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(i,a)).round();Z.any3d?mi(e.el,u,r):Xe(e.el,u)},_resetGrid:function(){var e=this._map,i=e.options.crs,a=this._tileSize=this.getTileSize(),r=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],r).x/a.x),Math.ceil(e.project([0,i.wrapLng[1]],r).x/a.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],r).y/a.x),Math.ceil(e.project([i.wrapLat[1],0],r).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,a=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),r=i.getZoomScale(a,this._tileZoom),u=i.project(e,this._tileZoom).floor(),d=i.getSize().divideBy(r*2);return new A(u.subtract(d),u.add(d))},_update:function(e){var i=this._map;if(!!i){var a=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(r),d=u.getCenter(),_=[],b=this.options.keepBuffer,C=new A(u.getBottomLeft().subtract([b,-b]),u.getTopRight().add([b,-b]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var X=this._tiles[B].coords;(X.z!==this._tileZoom||!C.contains(new D(X.x,X.y)))&&(this._tiles[B].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var pe=u.min.y;pe<=u.max.y;pe++)for(var Te=u.min.x;Te<=u.max.x;Te++){var ti=new D(Te,pe);if(ti.z=this._tileZoom,!!this._isValidTile(ti)){var bi=this._tiles[this._tileCoordsToKey(ti)];bi?bi.current=!0:_.push(ti)}}if(_.sort(function(ci,io){return ci.distanceTo(d)-io.distanceTo(d)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Te=0;Te<_.length;Te++)this._addTile(_[Te],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var a=this._globalTileRange;if(!i.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!i.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return H(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,a=this.getTileSize(),r=e.scaleBy(a),u=r.add(a),d=i.unproject(r,e.z),_=i.unproject(u,e.z);return[d,_]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),a=new W(i[0],i[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),a=new D(+i[0],+i[1]);return a.z=+i[2],a},_removeTile:function(e){var i=this._tiles[e];!i||(je(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){me(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=w,e.onmousemove=w,Z.ielt9&&this.options.opacity<1&&Pt(e,this.options.opacity)},_addTile:function(e,i){var a=this._getTilePos(e),r=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&ne(h(this._tileReady,this,e,null,u)),Xe(u,a),this._tiles[r]={el:u,coords:e,current:!0},i.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,i,a){i&&this.fire("tileerror",{error:i,tile:a,coords:e});var r=this._tileCoordsToKey(e);a=this._tiles[r],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Pt(a.el,0),R(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),i||(me(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new D(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new A(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Lu(e){return new fn(e)}var Fi=fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=E(this,i),i.detectRetina&&Z.retina&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var a=document.createElement("img");return fe(a,"load",h(this._tileOnLoad,this,i,a)),fe(a,"error",h(this._tileOnError,this,i,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(e),a},getTileUrl:function(e){var i={r:Z.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=a),i["-y"]=a}return z(this._url,s(i,this.options))},_tileOnLoad:function(e,i){Z.ielt9?setTimeout(h(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,a){var r=this.options.errorTileUrl;r&&i.getAttribute("src")!==r&&(i.src=r),e(a,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,a=this.options.zoomReverse,r=this.options.zoomOffset;return a&&(e=i-e),e+r},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=w,i.onerror=w,!i.complete)){i.src=Q;var a=this._tiles[e].coords;je(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:a})}},_removeTile:function(e){var i=this._tiles[e];if(!!i)return i.el.setAttribute("src",Q),fn.prototype._removeTile.call(this,e)},_tileReady:function(e,i,a){if(!(!this._map||a&&a.getAttribute("src")===Q))return fn.prototype._tileReady.call(this,e,i,a)}});function xr(e,i){return new Fi(e,i)}var Tr=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var a=s({},this.defaultWmsParams);for(var r in i)r in this.options||(a[r]=i[r]);i=E(this,i);var u=i.detectRetina&&Z.retina?2:1,d=this.getTileSize();a.width=d.x*u,a.height=d.y*u,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Fi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),a=this._crs,r=V(a.project(i[0]),a.project(i[1])),u=r.min,d=r.max,_=(this._wmsVersion>=1.3&&this._crs===_r?[u.y,u.x,d.y,d.x]:[u.x,u.y,d.x,d.y]).join(","),b=Fi.prototype.getTileUrl.call(this,e);return b+O(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(e,i){return s(this.wmsParams,e),i||this.redraw(),this}});function ku(e,i){return new Tr(e,i)}Fi.WMS=Tr,xr.wms=ku;var ei=Ot.extend({options:{padding:.1},initialize:function(e){E(this,e),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var a=this._map.getZoomScale(i,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,i),d=r.multiplyBy(-a).add(u).subtract(this._map._getNewPixelOrigin(e,i));Z.any3d?mi(this._container,d,a):Xe(this._container,d)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),a=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new A(a,a.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cr=ei.extend({options:{tolerance:0},getEvents:function(){var e=ei.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");fe(e,"mousemove",this._onMouseMove,this),fe(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fe(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,je(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var e=this._bounds,i=this._container,a=e.getSize(),r=Z.retina?2:1;Xe(i,e.min),i.width=r*a.x,i.height=r*a.y,i.style.width=a.x+"px",i.style.height=a.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[v(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,a=i.next,r=i.prev;a?a.prev=r:this._drawLast=r,r?r.next=a:this._drawFirst=a,delete e._order,delete this._layers[v(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),a=[],r,u;for(u=0;u<i.length;u++){if(r=Number(i[u]),isNaN(r))return;a.push(r)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){!this._map||(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var a=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(!!this._drawing){var a,r,u,d,_=e._parts,b=_.length,C=this._ctx;if(!!b){for(C.beginPath(),a=0;a<b;a++){for(r=0,u=_[a].length;r<u;r++)d=_[a][r],C[r?"lineTo":"moveTo"](d.x,d.y);i&&C.closePath()}this._fillStroke(C,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,a=this._ctx,r=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||r)/r;u!==1&&(a.save(),a.scale(1,u)),a.beginPath(),a.arc(i.x,i.y/u,r,0,Math.PI*2,!1),u!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,i){var a=i.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),a,r,u=this._drawFirst;u;u=u.next)a=u.layer,a.options.interactive&&a._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(r=a);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var a,r,u=this._drawFirst;u;u=u.next)a=u.layer,a.options.interactive&&a._containsPoint(i)&&(r=a);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(me(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,a){this._map._fireDOMEvent(i,a||i.type,e)},_bringToFront:function(e){var i=e._order;if(!!i){var a=i.next,r=i.prev;if(a)a.prev=r;else return;r?r.next=a:a&&(this._drawFirst=a),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(!!i){var a=i.next,r=i.prev;if(r)r.next=a;else return;a?a.prev=r:r&&(this._drawLast=r),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Pr(e){return Z.canvas?new Cr(e):null}var vn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mu={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=vn("shape");me(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=vn("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[v(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;je(i),e.removeInteractiveTarget(i),delete this._layers[v(e)]},_updateStyle:function(e){var i=e._stroke,a=e._fill,r=e.options,u=e._container;u.stroked=!!r.stroke,u.filled=!!r.fill,r.stroke?(i||(i=e._stroke=vn("stroke")),u.appendChild(i),i.weight=r.weight+"px",i.color=r.color,i.opacity=r.opacity,r.dashArray?i.dashStyle=Y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=r.lineCap.replace("butt","flat"),i.joinstyle=r.lineJoin):i&&(u.removeChild(i),e._stroke=null),r.fill?(a||(a=e._fill=vn("fill")),u.appendChild(a),a.color=r.fillColor||r.color,a.opacity=r.fillOpacity):a&&(u.removeChild(a),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),a=Math.round(e._radius),r=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+a+","+r+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){Ii(e._container)},_bringToBack:function(e){Bi(e._container)}},Yn=Z.vml?vn:at,mn=ei.extend({_initContainer:function(){this._container=Yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){je(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var e=this._bounds,i=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,a.setAttribute("width",i.x),a.setAttribute("height",i.y)),Xe(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Yn("path");e.options.className&&me(i,e.options.className),e.options.interactive&&me(i,"leaflet-interactive"),this._updateStyle(e),this._layers[v(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){je(e._path),e.removeInteractiveTarget(e._path),delete this._layers[v(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,a=e.options;!i||(a.stroke?(i.setAttribute("stroke",a.color),i.setAttribute("stroke-opacity",a.opacity),i.setAttribute("stroke-width",a.weight),i.setAttribute("stroke-linecap",a.lineCap),i.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?i.setAttribute("stroke-dasharray",a.dashArray):i.removeAttribute("stroke-dasharray"),a.dashOffset?i.setAttribute("stroke-dashoffset",a.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),a.fill?(i.setAttribute("fill",a.fillColor||a.color),i.setAttribute("fill-opacity",a.fillOpacity),i.setAttribute("fill-rule",a.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,nt(e._parts,i))},_updateCircle:function(e){var i=e._point,a=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||a,u="a"+a+","+r+" 0 1,0 ",d=e._empty()?"M0 0":"M"+(i.x-a)+","+i.y+u+a*2+",0 "+u+-a*2+",0 ";this._setPath(e,d)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){Ii(e._path)},_bringToBack:function(e){Bi(e._path)}});Z.vml&&mn.include(Mu);function Lr(e){return Z.svg||Z.vml?new mn(e):null}xe.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Pr(e)||Lr(e)}});var kr=qi.extend({initialize:function(e,i){qi.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=H(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Au(e,i){return new kr(e,i)}mn.create=Yn,mn.pointsToPath=nt,Jt.geometryToLayer=Xa,Jt.coordsToLatLng=Ja,Jt.coordsToLatLngs=Hn,Jt.latLngToCoords=eo,Jt.latLngsToCoords=Un,Jt.getFeature=Di,Jt.asFeature=jn,xe.mergeOptions({boxZoom:!0});var Mr=Ft.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rn(),$a(),this._startPoint=this._map.mouseEventToContainerPoint(e),fe(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new A(this._point,this._startPoint),a=i.getSize();Xe(this._box,i.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(je(this._box),Ye(this._container,"leaflet-crosshair")),sn(),Ra(),Fe(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var i=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",Mr),xe.mergeOptions({doubleClickZoom:!0});var Ar=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,a=i.getZoom(),r=i.options.zoomDelta,u=e.originalEvent.shiftKey?a-r:a+r;i.options.doubleClickZoom==="center"?i.setZoom(u):i.setZoomAround(e.containerPoint,u)}});xe.addInitHook("addHandler","doubleClickZoom",Ar),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Er=Ft.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new li(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ye(this._map._container,"leaflet-grab"),Ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=H(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),a=this._initialWorldOffset,r=this._draggable._newPos.x,u=(r-i+a)%e+i-a,d=(r+i+a)%e-i-a,_=Math.abs(u+a)<Math.abs(d+a)?u:d;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(e){var i=this._map,a=i.options,r=!a.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),r)i.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),d=(this._lastTime-this._times[0])/1e3,_=a.easeLinearity,b=u.multiplyBy(_/d),C=b.distanceTo([0,0]),B=Math.min(a.inertiaMaxSpeed,C),X=b.multiplyBy(B/C),pe=B/(a.inertiaDeceleration*_),Te=X.multiplyBy(-pe/2).round();!Te.x&&!Te.y?i.fire("moveend"):(Te=i._limitOffset(Te,i.options.maxBounds),ne(function(){i.panBy(Te,{duration:pe,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",Er),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Or=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),fe(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,a=e.scrollTop||i.scrollTop,r=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(r,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},a=this.keyCodes,r,u;for(r=0,u=a.left.length;r<u;r++)i[a.left[r]]=[-1*e,0];for(r=0,u=a.right.length;r<u;r++)i[a.right[r]]=[e,0];for(r=0,u=a.down.length;r<u;r++)i[a.down[r]]=[0,e];for(r=0,u=a.up.length;r<u;r++)i[a.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},a=this.keyCodes,r,u;for(r=0,u=a.zoomIn.length;r<u;r++)i[a.zoomIn[r]]=e;for(r=0,u=a.zoomOut.length;r<u;r++)i[a.zoomOut[r]]=-e},_addHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,a=this._map,r;if(i in this._panKeys)(!a._panAnim||!a._panAnim._inProgress)&&(r=this._panKeys[i],e.shiftKey&&(r=k(r).multiplyBy(3)),a.panBy(r),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(i in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;gi(e)}}});xe.addInitHook("addHandler","keyboard",Or),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ir=Ft.extend({addHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=or(e),a=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),r),gi(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,d=a?Math.ceil(u/a)*a:u,_=e._limitZoom(i+(this._delta>0?d:-d))-i;this._delta=0,this._startTime=null,_&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+_):e.setZoomAround(this._lastMousePos,i+_))}});xe.addInitHook("addHandler","scrollWheelZoom",Ir);var Eu=600;xe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Br=Ft.extend({addHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new D(i.clientX,i.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(fe(document,"touchend",rt),fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Eu),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Fe(document,"touchend",rt),Fe(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new D(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});a._simulated=!0,i.target.dispatchEvent(a)}});xe.addInitHook("addHandler","tapHold",Br),xe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var zr=Ft.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var a=i.mouseEventToContainerPoint(e.touches[0]),r=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(a.add(r)._divideBy(2))),this._startDist=a.distanceTo(r),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),rt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,a=i.mouseEventToContainerPoint(e.touches[0]),r=i.mouseEventToContainerPoint(e.touches[1]),u=a.distanceTo(r)/this._startDist;if(this._zoom=i.getScaleZoom(u,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&u<1||this._zoom>i.getMaxZoom()&&u>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var d=a._add(r)._divideBy(2)._subtract(this._centerPoint);if(u===1&&d.x===0&&d.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var _=h(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ne(_,this,!0),rt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",zr),xe.BoxZoom=Mr,xe.DoubleClickZoom=Ar,xe.Drag=Er,xe.Keyboard=Or,xe.ScrollWheelZoom=Ir,xe.TapHold=Br,xe.TouchZoom=zr,o.Bounds=A,o.Browser=Z,o.CRS=G,o.Canvas=Cr,o.Circle=Qa,o.CircleMarker=Vn,o.Class=re,o.Control=Et,o.DivIcon=Sr,o.DivOverlay=Nt,o.DomEvent=Kl,o.DomUtil=Wl,o.Draggable=li,o.Evented=we,o.FeatureGroup=$i,o.GeoJSON=Jt,o.GridLayer=fn,o.Handler=Ft,o.Icon=Ri,o.ImageOverlay=Wn,o.LatLng=ee,o.LatLngBounds=W,o.Layer=Ot,o.LayerGroup=zi,o.LineUtil=su,o.Map=xe,o.Marker=Zn,o.Mixin=iu,o.Path=ui,o.Point=D,o.PolyUtil=lu,o.Polygon=qi,o.Polyline=Xt,o.Popup=Gn,o.PosAnimation=rr,o.Projection=uu,o.Rectangle=kr,o.Renderer=ei,o.SVG=mn,o.SVGOverlay=wr,o.TileLayer=Fi,o.Tooltip=Kn,o.Transformation=Be,o.Util=ie,o.VideoOverlay=br,o.bind=h,o.bounds=V,o.canvas=Pr,o.circle=pu,o.circleMarker=_u,o.control=cn,o.divIcon=Pu,o.extend=s,o.featureGroup=fu,o.geoJSON=yr,o.geoJson=bu,o.gridLayer=Lu,o.icon=vu,o.imageOverlay=wu,o.latLng=F,o.latLngBounds=H,o.layerGroup=du,o.map=Yl,o.marker=mu,o.point=k,o.polygon=yu,o.polyline=gu,o.popup=Tu,o.rectangle=Au,o.setOptions=E,o.stamp=v,o.svg=Lr,o.svgOverlay=xu,o.tileLayer=xr,o.tooltip=Cu,o.transformation=Qe,o.version=l,o.videoOverlay=Su;var Ou=window.L;o.noConflict=function(){return window.L=Ou,this},window.L=o})})(Gi,Gi.exports);var Ce=Gi.exports,la={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-la.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?la.Bounce.In(t*2)*.5:la.Bounce.Out(t*2-1)*.5+.5}}},Cn;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Cn=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Cn=self.performance.now.bind(self.performance):Date.now!==void 0?Cn=Date.now:Cn=function(){return new Date().getTime()};var Vi=Cn,ih=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(o){return n._tweens[o]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},t.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},t.prototype.update=function(n,o){n===void 0&&(n=Vi()),o===void 0&&(o=!1);var l=Object.keys(this._tweens);if(l.length===0)return!1;for(;l.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<l.length;s++){var c=this._tweens[l[s]],h=!o;c&&c.update(n,h)===!1&&!o&&delete this._tweens[l[s]]}l=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Pn={Linear:function(t,n){var o=t.length-1,l=o*n,s=Math.floor(l),c=Pn.Utils.Linear;return n<0?c(t[0],t[1],l):n>1?c(t[o],t[o-1],o-l):c(t[s],t[s+1>o?o:s+1],l-s)},Bezier:function(t,n){for(var o=0,l=t.length-1,s=Math.pow,c=Pn.Utils.Bernstein,h=0;h<=l;h++)o+=s(1-n,l-h)*s(n,h)*t[h]*c(l,h);return o},CatmullRom:function(t,n){var o=t.length-1,l=o*n,s=Math.floor(l),c=Pn.Utils.CatmullRom;return t[0]===t[o]?(n<0&&(s=Math.floor(l=o*(1+n))),c(t[(s-1+o)%o],t[s],t[(s+1)%o],t[(s+2)%o],l-s)):n<0?t[0]-(c(t[0],t[0],t[1],t[1],-l)-t[0]):n>1?t[o]-(c(t[o],t[o],t[o-1],t[o-1],l-o)-t[o]):c(t[s?s-1:0],t[s],t[o<s+1?o:s+1],t[o<s+2?o:s+2],l-s)},Utils:{Linear:function(t,n,o){return(n-t)*o+t},Bernstein:function(t,n){var o=Pn.Utils.Factorial;return o(t)/o(n)/o(t-n)},Factorial:function(){var t=[1];return function(n){var o=1;if(t[n])return t[n];for(var l=n;l>1;l--)o*=l;return t[n]=o,o}}(),CatmullRom:function(t,n,o,l,s){var c=(o-t)*.5,h=(l-n)*.5,f=s*s,v=s*f;return(2*n-2*o+c+h)*v+(-3*n+3*o-2*c-h)*f+c*s+n}}},_l=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),pl=new ih,ia=function(){function t(n,o){o===void 0&&(o=pl),this._object=n,this._group=o,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=la.Linear.None,this._interpolationFunction=Pn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=_l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(n,o){return this._valuesEnd=Object.create(n),o!==void 0&&(this._duration=o),this},t.prototype.duration=function(n){return this._duration=n,this},t.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?Vi()+parseFloat(n):n:Vi(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(n,o,l,s){for(var c in l){var h=n[c],f=Array.isArray(h),v=f?"array":typeof h,y=!f&&Array.isArray(l[c]);if(!(v==="undefined"||v==="function")){if(y){var m=l[c];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,h)),l[c]=[h].concat(m)}if((v==="object"||f)&&h&&!y){o[c]=f?[]:{};for(var w in h)o[c][w]=h[w];s[c]=f?[]:{},this._setupProperties(h,o[c],l[c],s[c])}else typeof o[c]=="undefined"&&(o[c]=h),f||(o[c]*=1),y?s[c]=l[c].slice().reverse():s[c]=o[c]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(n){return n===void 0&&(n=Vi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},t.prototype.resume=function(n){return n===void 0&&(n=Vi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var n=0,o=this._chainedTweens.length;n<o;n++)this._chainedTweens[n].stop();return this},t.prototype.group=function(n){return this._group=n,this},t.prototype.delay=function(n){return this._delayTime=n,this},t.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},t.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},t.prototype.yoyo=function(n){return this._yoyo=n,this},t.prototype.easing=function(n){return this._easingFunction=n,this},t.prototype.interpolation=function(n){return this._interpolationFunction=n,this},t.prototype.chain=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return this._chainedTweens=n,this},t.prototype.onStart=function(n){return this._onStartCallback=n,this},t.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},t.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},t.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},t.prototype.onStop=function(n){return this._onStopCallback=n,this},t.prototype.update=function(n,o){if(n===void 0&&(n=Vi()),o===void 0&&(o=!0),this._isPaused)return!0;var l,s,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>c)return!1;o&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),s=(n-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var h=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(l in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[l]=="string"&&(this._valuesStartRepeat[l]=this._valuesStartRepeat[l]+parseFloat(this._valuesEnd[l])),this._yoyo&&this._swapEndStartRepeatValues(l),this._valuesStart[l]=this._valuesStartRepeat[l];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var f=0,v=this._chainedTweens.length;f<v;f++)this._chainedTweens[f].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(n,o,l,s){for(var c in l)if(o[c]!==void 0){var h=o[c]||0,f=l[c],v=Array.isArray(n[c]),y=Array.isArray(f),m=!v&&y;m?n[c]=this._interpolationFunction(f,s):typeof f=="object"&&f?this._updateProperties(n[c],h,f,s):(f=this._handleRelativeValue(h,f),typeof f=="number"&&(n[c]=h+(f-h)*s))}},t.prototype._handleRelativeValue=function(n,o){return typeof o!="string"?o:o.charAt(0)==="+"||o.charAt(0)==="-"?n+parseFloat(o):parseFloat(o)},t.prototype._swapEndStartRepeatValues=function(n){var o=this._valuesStartRepeat[n],l=this._valuesEnd[n];typeof l=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(l):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=o},t}();_l.nextId;var Ht=pl;Ht.getAll.bind(Ht);Ht.removeAll.bind(Ht);Ht.add.bind(Ht);Ht.remove.bind(Ht);Ht.update.bind(Ht);var Ho=function(){this._tweens={},this._tweensAddedDuringUpdate={}};Ho.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,n){var o=Object.keys(this._tweens);if(o.length===0)return!1;for(t=t!==void 0?t:Ie.now();o.length>0;){this._tweensAddedDuringUpdate={};for(var l=0;l<o.length;l++){var s=this._tweens[o[l]];s&&s.update(t)===!1&&(s._isPlaying=!1,n||delete this._tweens[o[l]])}o=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var Ie=new Ho;Ie.Group=Ho,Ie._nextId=0,Ie.nextId=function(){return Ie._nextId++},typeof window=="undefined"&&typeof process!="undefined"?Ie.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:typeof window!="undefined"&&window.performance!==void 0&&window.performance.now!==void 0?Ie.now=window.performance.now.bind(window.performance):Date.now!==void 0?Ie.now=Date.now:Ie.now=function(){return new Date().getTime()},Ie.Tween=function(t,n){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=Ie.Easing.Linear.None,this._interpolationFunction=Ie.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=n||Ie,this._id=Ie.nextId()},Ie.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,n){return this._valuesEnd=t,n!==void 0&&(this._duration=n),this},start:function(t){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=t!==void 0?typeof t=="string"?Ie.now()+parseFloat(t):t:Ie.now(),this._startTime+=this._delayTime;for(var n in this._valuesEnd){if(this._valuesEnd[n]instanceof Array){if(this._valuesEnd[n].length===0)continue;this._valuesEnd[n]=[this._object[n]].concat(this._valuesEnd[n])}this._object[n]!==void 0&&(this._valuesStart[n]=this._object[n],!(this._valuesStart[n]instanceof Array)&&(this._valuesStart[n]*=1),this._valuesStartRepeat[n]=this._valuesStart[n]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._onStopCallback!==null&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var n,o,l;if(t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback!==null&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(t-this._startTime)/this._duration,o=this._duration===0||o>1?1:o,l=this._easingFunction(o);for(n in this._valuesEnd)if(this._valuesStart[n]!==void 0){var s=this._valuesStart[n]||0,c=this._valuesEnd[n];c instanceof Array?this._object[n]=this._interpolationFunction(c,l):(typeof c=="string"&&(c=c.charAt(0)==="+"||c.charAt(0)==="-"?s+parseFloat(c):parseFloat(c)),typeof c=="number"&&(this._object[n]=s+(c-s)*l))}if(this._onUpdateCallback!==null&&this._onUpdateCallback(this._object),o===1){if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat){if(typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo){var h=this._valuesStartRepeat[n];this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=h}this._valuesStart[n]=this._valuesStartRepeat[n]}return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}this._onCompleteCallback!==null&&this._onCompleteCallback(this._object);for(var f=0,v=this._chainedTweens.length;f<v;f++)this._chainedTweens[f].start(this._startTime+this._duration);return!1}return!0}},Ie.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-Ie.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Ie.Easing.Bounce.In(2*t):.5*Ie.Easing.Bounce.Out(2*t-1)+.5}}},Ie.Interpolation={Linear:function(t,n){var o=t.length-1,l=o*n,s=Math.floor(l),c=Ie.Interpolation.Utils.Linear;return n<0?c(t[0],t[1],l):n>1?c(t[o],t[o-1],o-l):c(t[s],t[s+1>o?o:s+1],l-s)},Bezier:function(t,n){for(var o=0,l=t.length-1,s=Math.pow,c=Ie.Interpolation.Utils.Bernstein,h=0;h<=l;h++)o+=s(1-n,l-h)*s(n,h)*t[h]*c(l,h);return o},CatmullRom:function(t,n){var o=t.length-1,l=o*n,s=Math.floor(l),c=Ie.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(n<0&&(s=Math.floor(l=o*(1+n))),c(t[(s-1+o)%o],t[s],t[(s+1)%o],t[(s+2)%o],l-s)):n<0?t[0]-(c(t[0],t[0],t[1],t[1],-l)-t[0]):n>1?t[o]-(c(t[o],t[o],t[o-1],t[o-1],l-o)-t[o]):c(t[s?s-1:0],t[s],t[o<s+1?o:s+1],t[o<s+2?o:s+2],l-s)},Utils:{Linear:function(t,n,o){return(n-t)*o+t},Bernstein:function(t,n){var o=Ie.Interpolation.Utils.Factorial;return o(t)/o(n)/o(t-n)},Factorial:function(){var t=[1];return function(n){var o=1;if(t[n])return t[n];for(var l=n;l>1;l--)o*=l;return t[n]=o,o}}(),CatmullRom:function(t,n,o,l,s){var c=.5*(o-t),h=.5*(l-n),f=s*s;return(2*n-2*o+c+h)*(s*f)+(-3*n+3*o-2*c-h)*f+c*s+n}}},function(t){typeof define=="function"&&define.amd?define([],function(){return Ie}):typeof module!="undefined"&&typeof exports=="object"?module.exports=Ie:t!==void 0&&(t.TWEEN=Ie)}(globalThis);Ce.Curve=Ce.Path.extend({options:{},initialize:function(t,n){Ce.setOptions(this,n),this._setPath(t)},setLatLngs:function(t){return this.setPath(t)},_updateBounds:function(){var t=this._clickTolerance(),n=new Ce.Point(t,t);this._pxBounds=new Ce.Bounds([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)])},getPath:function(){return this._coords},setPath:function(t){return this._setPath(t),this.redraw()},getBounds:function(){return this._bounds},_setPath:function(t){this._coords=t,this._bounds=this._computeBounds()},_computeBounds:function(){for(var t=new Ce.LatLngBounds,n,o,l,s=0;s<this._coords.length;s++)if(l=this._coords[s],typeof l=="string"||l instanceof String)o=l;else if(o=="H")t.extend([n.lat,l[0]]),n=new Ce.latLng(n.lat,l[0]);else if(o=="V")t.extend([l[0],n.lng]),n=new Ce.latLng(l[0],n.lng);else if(o=="C"){var c=new Ce.latLng(l[0],l[1]);l=this._coords[++s];var h=new Ce.latLng(l[0],l[1]);l=this._coords[++s];var f=new Ce.latLng(l[0],l[1]);t.extend(c),t.extend(h),t.extend(f),f.controlPoint1=c,f.controlPoint2=h,n=f}else if(o=="S"){if(h=new Ce.latLng(l[0],l[1]),l=this._coords[++s],f=new Ce.latLng(l[0],l[1]),c=n,n.controlPoint2){var v=n.lat-n.controlPoint2.lat,y=n.lng-n.controlPoint2.lng;c=new Ce.latLng(n.lat+v,n.lng+y)}t.extend(c),t.extend(h),t.extend(f),f.controlPoint1=c,f.controlPoint2=h,n=f}else if(o=="Q"){var m=new Ce.latLng(l[0],l[1]);l=this._coords[++s],f=new Ce.latLng(l[0],l[1]),t.extend(m),t.extend(f),f.controlPoint=m,n=f}else o=="T"?(f=new Ce.latLng(l[0],l[1]),m=n,n.controlPoint&&(v=n.lat-n.controlPoint.lat,y=n.lng-n.controlPoint.lng,m=new Ce.latLng(n.lat+v,n.lng+y)),t.extend(m),t.extend(f),f.controlPoint=m,n=f):(t.extend(l),n=new Ce.latLng(l[0],l[1]));return t},getCenter:function(){return this._bounds.getCenter()},_update:function(){!this._map||this._updatePath()},_updatePath:function(){this._usingCanvas?this._updateCurveCanvas():this._updateCurveSvg()},_project:function(){var t,n,o,l;this._points=[];for(var s=0;s<this._coords.length;s++)if(t=this._coords[s],typeof t=="string"||t instanceof String)this._points.push(t),o=t;else{switch(t.length){case 2:l=this._map.latLngToLayerPoint(t),n=t;break;case 1:o=="H"?(l=this._map.latLngToLayerPoint([n[0],t[0]]),n=[n[0],t[0]]):(l=this._map.latLngToLayerPoint([t[0],n[1]]),n=[t[0],n[1]]);break}this._points.push(l)}if(this._bounds.isValid()){var c=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),h=this._map.latLngToLayerPoint(this._bounds.getSouthEast());this._rawPxBounds=new Ce.Bounds(c,h),this._updateBounds()}},_curvePointsToPath:function(t){for(var n,o,l="",s=0;s<t.length;s++)if(n=t[s],typeof n=="string"||n instanceof String)o=n,l+=o;else switch(o){case"H":l+=n.x+" ";break;case"V":l+=n.y+" ";break;default:l+=n.x+","+n.y+" ";break}return l||"M0 0"},beforeAdd:function(t){Ce.Path.prototype.beforeAdd.call(this,t),this._usingCanvas=this._renderer instanceof Ce.Canvas,this._usingCanvas&&(this._pathSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"))},onAdd:function(t){if(this._usingCanvas&&(this._canvasSetDashArray=!this.options.dashArray),Ce.Path.prototype.onAdd.call(this,t),this._usingCanvas)this.options.animate&&typeof ia=="object"?(this._normalizeCanvasAnimationOptions(),this._tweenedObject={offset:this._pathSvgElement.getTotalLength()},this._tween=new ia.Tween(this._tweenedObject).to({offset:0},this.options.animate.duration).delay(this.options.animate.delay).repeat(this.options.animate.iterations-1).onComplete(function(o){return function(){o._canvasAnimating=!1}}(this)).start(),this._canvasAnimating=!0,this._animateCanvas()):this._canvasAnimating=!1;else if(this.options.animate&&this._path.animate){var n=this._svgSetDashArray();this._path.animate([{strokeDashoffset:n},{strokeDashoffset:0}],this.options.animate)}},_updateCurveSvg:function(){this._renderer._setPath(this,this._curvePointsToPath(this._points)),this.options.animate&&this._svgSetDashArray()},_svgSetDashArray:function(){var t=this._path,n=t.getTotalLength();return this.options.dashArray||(t.style.strokeDasharray=n+" "+n),n},_containsPoint:function(t){return this._bounds.contains(this._map.layerPointToLatLng(t))},_normalizeCanvasAnimationOptions:function(){var t={delay:0,duration:0,iterations:1};typeof this.options.animate=="number"?t.duration=this.options.animate:(this.options.animate.duration&&(t.duration=this.options.animate.duration),this.options.animate.delay&&(t.delay=this.options.animate.delay),this.options.animate.iterations&&(t.iterations=this.options.animate.iterations)),this.options.animate=t},_updateCurveCanvas:function(){var t=this._curvePointsToPath(this._points);this._pathSvgElement.setAttribute("d",t),this.options.animate&&typeof ia=="object"&&this._canvasSetDashArray&&(this.options.dashArray=this._pathSvgElement.getTotalLength()+"",this._renderer._updateDashArray(this)),this._curveFillStroke(new Path2D(t),this._renderer._ctx)},_animateCanvas:function(){ia.update(),this._renderer._updatePaths(),this._canvasAnimating&&(this._animationFrameId=Ce.Util.requestAnimFrame(this._animateCanvas,this))},_curveFillStroke:function(t,n){n.lineDashOffset=this._canvasAnimating?this._tweenedObject.offset:0;var o=this.options;o.fill&&(n.globalAlpha=o.fillOpacity,n.fillStyle=o.fillColor||o.color,n.fill(t,o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(n.setLineDash&&n.setLineDash(this.options&&this.options._dashArray||[]),n.globalAlpha=o.opacity,n.lineWidth=o.weight,n.strokeStyle=o.color,n.lineCap=o.lineCap,n.lineJoin=o.lineJoin,n.stroke(t))},trace:function(t){if(this._map===void 0||this._map===null)return[];t=t.filter(function(m){return m>=0&&m<=1});for(var n,o,l,s,c,h,f,v=[],y=0;y<this._points.length;y++)if(n=this._points[y],typeof n=="string"||n instanceof String)o=n,o=="Z"&&(v=v.concat(this._linearTrace(t,s,l)));else switch(o){case"M":l=n,s=n;break;case"L":case"H":case"V":v=v.concat(this._linearTrace(t,s,n)),s=n;break;case"C":c=n,h=this._points[++y],f=this._points[++y],v=v.concat(this._cubicTrace(t,s,c,h,f)),s=f;break;case"S":c=this._reflectPoint(h,s),h=n,f=this._points[++y],v=v.concat(this._cubicTrace(t,s,c,h,f)),s=f;break;case"Q":c=n,h=this._points[++y],v=v.concat(this._quadraticTrace(t,s,c,h)),s=h;break;case"T":c=this._reflectPoint(c,s),h=n,v=v.concat(this._quadraticTrace(t,s,c,h)),s=h;break}return v},_linearTrace:function(t,n,o){return t.map(l=>{var s=this._singleLinearTrace(l,n.x,o.x),c=this._singleLinearTrace(l,n.y,o.y);return this._map.layerPointToLatLng([s,c])})},_quadraticTrace:function(t,n,o,l){return t.map(s=>{var c=this._singleQuadraticTrace(s,n.x,o.x,l.x),h=this._singleQuadraticTrace(s,n.y,o.y,l.y);return this._map.layerPointToLatLng([c,h])})},_cubicTrace:function(t,n,o,l,s){return t.map(c=>{var h=this._singleCubicTrace(c,n.x,o.x,l.x,s.x),f=this._singleCubicTrace(c,n.y,o.y,l.y,s.y);return this._map.layerPointToLatLng([h,f])})},_singleLinearTrace:function(t,n,o){return n+t*(o-n)},_singleQuadraticTrace:function(t,n,o,l){var s=1-t;return Math.pow(s,2)*n+2*s*t*o+Math.pow(t,2)*l},_singleCubicTrace:function(t,n,o,l,s){var c=1-t;return Math.pow(c,3)*n+3*Math.pow(c,2)*t*o+3*c*Math.pow(t,2)*l+Math.pow(t,3)*s},_reflectPoint:function(t,n){var o=n.x+(n.x-t.x),l=n.y+(n.y-t.y);return Ce.point(o,l)}});Ce.curve=function(t,n){return new Ce.Curve(t,n)};const Sa={LAT:39.5,LONG:277};var nh={name:"map-test",props:{latlong:{type:Array,default:[]},hasReset:{type:Boolean,default:!1}},data(){return{map:null}},onBeforeUnmount(){this.map&&this.map.remove()},mounted(){this.map=Ce.map("mapContainer").setView([Sa.LAT,Sa.LONG],12),Ce.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);var t=this.map.createPane("customPane");Ce.canvas({pane:"customPane"}),t.style.zIndex=9999,this.latlong.forEach(({coords:n,id:o})=>Ce.marker([n[0],n[1]]).addTo(this.map).bindPopup(this.addPopups(this.$store.state.features[o])).openPopup())},methods:{addPopups(t){return"Address: "+t.address+"</br>Appraisal: $"+t.appraisalSale.toLocaleString("en-Us")+"</br>$/SqFt: $"+t.rhcPsf.toLocaleString("en-Us")+"</p>"}},watch:{latlong(t,n){if(t!==n){this.map.setView([t[0].coords[0],t[0].coords[1]],12),Ce.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);var o=this.map.createPane("customPane");if(Ce.canvas({pane:"customPane"}),o.style.zIndex=9999,!this.hasReset)t.forEach(({coords:l,id:s})=>Ce.marker([l[0],l[1]]).addTo(this.map).bindPopup(this.addPopups(this.$store.state.features[s])).openPopup());else if(this.hasReset){const l=document.querySelectorAll(".leaflet-marker-icon"),s=document.querySelectorAll(".leaflet-popup"),c=document.querySelectorAll(".leaflet-shadow-pane .leaflet-marker-shadow.leaflet-zoom-animated");l.forEach(h=>h.remove()),s.forEach(h=>h.remove()),c.forEach(h=>h.remove())}}}}};const ah={class:"map"},oh=ge("div",{id:"mapContainer",class:"mapContainer",style:{"margin-top":"0"}},null,-1),rh=[oh];function sh(t,n,o,l,s,c){return qe(),We("div",ah,rh)}var gl=ai(nh,[["render",sh]]),lh={props:{items:{default(){return[]},type:Array},filterby:{type:String},shouldReset:{type:Boolean,default:!0}},data(){return{itemHeight:39,selectedItem:null,selected:0,query:"",visible:!1}},methods:{toggleVisible(){this.visible=!this.visible,setTimeout(()=>{this.$refs.input.focus()},50)},itemClicked(t){this.selected=t,this.selectItem()},selectItem(){!this.matches.length||(this.selectedItem=this.matches[this.selected],this.visible=!1,this.shouldReset&&(this.query="",this.selected=0),this.$emit("selected",JSON.parse(JSON.stringify(this.selectedItem))))},up(){this.selected!=0&&(this.selected-=1,this.scrollToItem())},down(){this.selected>=this.matches.length-1||(this.selected+=1,this.scrollToItem())},scrollToItem(){this.$refs.optionsList.scrollTop=this.selected*this.itemHeight}},computed:{matches(){return this.$emit("change",this.query),console.log(`This query: ${this.query}`),this.query==""?[]:this.query.length>7?this.items.filter(t=>t[this.filterby].toLowerCase().includes(this.query.toLowerCase())):[]}}};const uh={class:"autocomplete"},ch=["textContent"],hh={class:"popover"},dh={class:"options",ref:"optionsList"},fh=["onClick","textContent"];function vh(t,n,o,l,s,c){return qe(),We("div",uh,[ae(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[0]||(n[0]=h=>t.query=h),label:"By Address",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],ref:"input"},null,8,["modelValue","onKeydown"]),t.selectedItem==null?(qe(),We("div",{key:0,class:"placeholder",textContent:St(t.title)},null,8,ch)):ni("",!0),t.selectedItem?(qe(),We("button",{key:1,class:"close",onClick:n[1]||(n[1]=h=>t.selectedItem=null)}," x ")):ni("",!0),Eo(ge("div",hh,[ae(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[2]||(n[2]=h=>t.query=h),placeholder:"Start Typing...",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],type:"text",ref:"input"},null,8,["modelValue","onKeydown"]),ge("div",dh,[ge("ul",null,[(qe(!0),We(kn,null,Oo(t.matches,(h,f)=>(qe(),We("li",{key:f,class:Us({selected:t.selected==f}),onClick:v=>t.itemClicked(f),textContent:St(h[t.filterby])},null,10,fh))),128))])],512)],512),[[Hs,t.visible]])])}var mh=ai(lh,[["render",vh]]);var _h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function gh(t,n){for(var o=-1,l=t==null?0:t.length,s=0,c=[];++o<l;){var h=t[o];n(h,o,t)&&(c[s++]=h)}return c}var yl=gh;function yh(t){return function(n,o,l){for(var s=-1,c=Object(n),h=l(n),f=h.length;f--;){var v=h[t?f:++s];if(o(c[v],v,c)===!1)break}return n}}var bh=yh,wh=bh,Sh=wh(),xh=Sh;function Th(t,n){for(var o=-1,l=Array(t);++o<t;)l[o]=n(o);return l}var Ch=Th,Ph=typeof xn=="object"&&xn&&xn.Object===Object&&xn,bl=Ph,Lh=bl,kh=typeof self=="object"&&self&&self.Object===Object&&self,Mh=Lh||kh||Function("return this")(),oi=Mh,Ah=oi,Eh=Ah.Symbol,Pa=Eh,ts=Pa,wl=Object.prototype,Oh=wl.hasOwnProperty,Ih=wl.toString,wn=ts?ts.toStringTag:void 0;function Bh(t){var n=Oh.call(t,wn),o=t[wn];try{t[wn]=void 0;var l=!0}catch{}var s=Ih.call(t);return l&&(n?t[wn]=o:delete t[wn]),s}var zh=Bh,$h=Object.prototype,Rh=$h.toString;function qh(t){return Rh.call(t)}var Dh=qh,is=Pa,Fh=zh,Nh=Dh,Zh="[object Null]",Vh="[object Undefined]",ns=is?is.toStringTag:void 0;function Hh(t){return t==null?t===void 0?Vh:Zh:ns&&ns in Object(t)?Fh(t):Nh(t)}var En=Hh;function Uh(t){return t!=null&&typeof t=="object"}var On=Uh,jh=En,Wh=On,Gh="[object Arguments]";function Kh(t){return Wh(t)&&jh(t)==Gh}var Yh=Kh,as=Yh,Qh=On,Sl=Object.prototype,Xh=Sl.hasOwnProperty,Jh=Sl.propertyIsEnumerable,ed=as(function(){return arguments}())?as:function(t){return Qh(t)&&Xh.call(t,"callee")&&!Jh.call(t,"callee")},xl=ed,td=Array.isArray,ri=td,xa={exports:{}};function id(){return!1}var nd=id;(function(t,n){var o=oi,l=nd,s=n&&!n.nodeType&&n,c=s&&!0&&t&&!t.nodeType&&t,h=c&&c.exports===s,f=h?o.Buffer:void 0,v=f?f.isBuffer:void 0,y=v||l;t.exports=y})(xa,xa.exports);var ad=9007199254740991,od=/^(?:0|[1-9]\d*)$/;function rd(t,n){var o=typeof t;return n=n==null?ad:n,!!n&&(o=="number"||o!="symbol"&&od.test(t))&&t>-1&&t%1==0&&t<n}var Tl=rd,sd=9007199254740991;function ld(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sd}var Uo=ld,ud=En,cd=Uo,hd=On,dd="[object Arguments]",fd="[object Array]",vd="[object Boolean]",md="[object Date]",_d="[object Error]",pd="[object Function]",gd="[object Map]",yd="[object Number]",bd="[object Object]",wd="[object RegExp]",Sd="[object Set]",xd="[object String]",Td="[object WeakMap]",Cd="[object ArrayBuffer]",Pd="[object DataView]",Ld="[object Float32Array]",kd="[object Float64Array]",Md="[object Int8Array]",Ad="[object Int16Array]",Ed="[object Int32Array]",Od="[object Uint8Array]",Id="[object Uint8ClampedArray]",Bd="[object Uint16Array]",zd="[object Uint32Array]",Ve={};Ve[Ld]=Ve[kd]=Ve[Md]=Ve[Ad]=Ve[Ed]=Ve[Od]=Ve[Id]=Ve[Bd]=Ve[zd]=!0;Ve[dd]=Ve[fd]=Ve[Cd]=Ve[vd]=Ve[Pd]=Ve[md]=Ve[_d]=Ve[pd]=Ve[gd]=Ve[yd]=Ve[bd]=Ve[wd]=Ve[Sd]=Ve[xd]=Ve[Td]=!1;function $d(t){return hd(t)&&cd(t.length)&&!!Ve[ud(t)]}var Rd=$d;function qd(t){return function(n){return t(n)}}var Dd=qd,wo={exports:{}};(function(t,n){var o=bl,l=n&&!n.nodeType&&n,s=l&&!0&&t&&!t.nodeType&&t,c=s&&s.exports===l,h=c&&o.process,f=function(){try{var v=s&&s.require&&s.require("util").types;return v||h&&h.binding&&h.binding("util")}catch{}}();t.exports=f})(wo,wo.exports);var Fd=Rd,Nd=Dd,os=wo.exports,rs=os&&os.isTypedArray,Zd=rs?Nd(rs):Fd,Cl=Zd,Vd=Ch,Hd=xl,Ud=ri,jd=xa.exports,Wd=Tl,Gd=Cl,Kd=Object.prototype,Yd=Kd.hasOwnProperty;function Qd(t,n){var o=Ud(t),l=!o&&Hd(t),s=!o&&!l&&jd(t),c=!o&&!l&&!s&&Gd(t),h=o||l||s||c,f=h?Vd(t.length,String):[],v=f.length;for(var y in t)(n||Yd.call(t,y))&&!(h&&(y=="length"||s&&(y=="offset"||y=="parent")||c&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||Wd(y,v)))&&f.push(y);return f}var Xd=Qd,Jd=Object.prototype;function ef(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||Jd;return t===o}var tf=ef;function nf(t,n){return function(o){return t(n(o))}}var af=nf,of=af,rf=of(Object.keys,Object),sf=rf,lf=tf,uf=sf,cf=Object.prototype,hf=cf.hasOwnProperty;function df(t){if(!lf(t))return uf(t);var n=[];for(var o in Object(t))hf.call(t,o)&&o!="constructor"&&n.push(o);return n}var ff=df;function vf(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var jo=vf,mf=En,_f=jo,pf="[object AsyncFunction]",gf="[object Function]",yf="[object GeneratorFunction]",bf="[object Proxy]";function wf(t){if(!_f(t))return!1;var n=mf(t);return n==gf||n==yf||n==pf||n==bf}var Pl=wf,Sf=Pl,xf=Uo;function Tf(t){return t!=null&&xf(t.length)&&!Sf(t)}var Ll=Tf,Cf=Xd,Pf=ff,Lf=Ll;function kf(t){return Lf(t)?Cf(t):Pf(t)}var Wo=kf,Mf=xh,Af=Wo;function Ef(t,n){return t&&Mf(t,n,Af)}var Of=Ef,If=Ll;function Bf(t,n){return function(o,l){if(o==null)return o;if(!If(o))return t(o,l);for(var s=o.length,c=n?s:-1,h=Object(o);(n?c--:++c<s)&&l(h[c],c,h)!==!1;);return o}}var zf=Bf,$f=Of,Rf=zf,qf=Rf($f),Df=qf,Ff=Df;function Nf(t,n){var o=[];return Ff(t,function(l,s,c){n(l,s,c)&&o.push(l)}),o}var Zf=Nf;function Vf(){this.__data__=[],this.size=0}var Hf=Vf;function Uf(t,n){return t===n||t!==t&&n!==n}var kl=Uf,jf=kl;function Wf(t,n){for(var o=t.length;o--;)if(jf(t[o][0],n))return o;return-1}var La=Wf,Gf=La,Kf=Array.prototype,Yf=Kf.splice;function Qf(t){var n=this.__data__,o=Gf(n,t);if(o<0)return!1;var l=n.length-1;return o==l?n.pop():Yf.call(n,o,1),--this.size,!0}var Xf=Qf,Jf=La;function ev(t){var n=this.__data__,o=Jf(n,t);return o<0?void 0:n[o][1]}var tv=ev,iv=La;function nv(t){return iv(this.__data__,t)>-1}var av=nv,ov=La;function rv(t,n){var o=this.__data__,l=ov(o,t);return l<0?(++this.size,o.push([t,n])):o[l][1]=n,this}var sv=rv,lv=Hf,uv=Xf,cv=tv,hv=av,dv=sv;function Yi(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var l=t[n];this.set(l[0],l[1])}}Yi.prototype.clear=lv;Yi.prototype.delete=uv;Yi.prototype.get=cv;Yi.prototype.has=hv;Yi.prototype.set=dv;var ka=Yi,fv=ka;function vv(){this.__data__=new fv,this.size=0}var mv=vv;function _v(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}var pv=_v;function gv(t){return this.__data__.get(t)}var yv=gv;function bv(t){return this.__data__.has(t)}var wv=bv,Sv=oi,xv=Sv["__core-js_shared__"],Tv=xv,co=Tv,ss=function(){var t=/[^.]+$/.exec(co&&co.keys&&co.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cv(t){return!!ss&&ss in t}var Pv=Cv,Lv=Function.prototype,kv=Lv.toString;function Mv(t){if(t!=null){try{return kv.call(t)}catch{}try{return t+""}catch{}}return""}var Ml=Mv,Av=Pl,Ev=Pv,Ov=jo,Iv=Ml,Bv=/[\\^$.*+?()[\]{}|]/g,zv=/^\[object .+?Constructor\]$/,$v=Function.prototype,Rv=Object.prototype,qv=$v.toString,Dv=Rv.hasOwnProperty,Fv=RegExp("^"+qv.call(Dv).replace(Bv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nv(t){if(!Ov(t)||Ev(t))return!1;var n=Av(t)?Fv:zv;return n.test(Iv(t))}var Zv=Nv;function Vv(t,n){return t==null?void 0:t[n]}var Hv=Vv,Uv=Zv,jv=Hv;function Wv(t,n){var o=jv(t,n);return Uv(o)?o:void 0}var Qi=Wv,Gv=Qi,Kv=oi,Yv=Gv(Kv,"Map"),Go=Yv,Qv=Qi,Xv=Qv(Object,"create"),Ma=Xv,ls=Ma;function Jv(){this.__data__=ls?ls(null):{},this.size=0}var em=Jv;function tm(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var im=tm,nm=Ma,am="__lodash_hash_undefined__",om=Object.prototype,rm=om.hasOwnProperty;function sm(t){var n=this.__data__;if(nm){var o=n[t];return o===am?void 0:o}return rm.call(n,t)?n[t]:void 0}var lm=sm,um=Ma,cm=Object.prototype,hm=cm.hasOwnProperty;function dm(t){var n=this.__data__;return um?n[t]!==void 0:hm.call(n,t)}var fm=dm,vm=Ma,mm="__lodash_hash_undefined__";function _m(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=vm&&n===void 0?mm:n,this}var pm=_m,gm=em,ym=im,bm=lm,wm=fm,Sm=pm;function Xi(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var l=t[n];this.set(l[0],l[1])}}Xi.prototype.clear=gm;Xi.prototype.delete=ym;Xi.prototype.get=bm;Xi.prototype.has=wm;Xi.prototype.set=Sm;var xm=Xi,us=xm,Tm=ka,Cm=Go;function Pm(){this.size=0,this.__data__={hash:new us,map:new(Cm||Tm),string:new us}}var Lm=Pm;function km(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var Mm=km,Am=Mm;function Em(t,n){var o=t.__data__;return Am(n)?o[typeof n=="string"?"string":"hash"]:o.map}var Aa=Em,Om=Aa;function Im(t){var n=Om(this,t).delete(t);return this.size-=n?1:0,n}var Bm=Im,zm=Aa;function $m(t){return zm(this,t).get(t)}var Rm=$m,qm=Aa;function Dm(t){return qm(this,t).has(t)}var Fm=Dm,Nm=Aa;function Zm(t,n){var o=Nm(this,t),l=o.size;return o.set(t,n),this.size+=o.size==l?0:1,this}var Vm=Zm,Hm=Lm,Um=Bm,jm=Rm,Wm=Fm,Gm=Vm;function Ji(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var l=t[n];this.set(l[0],l[1])}}Ji.prototype.clear=Hm;Ji.prototype.delete=Um;Ji.prototype.get=jm;Ji.prototype.has=Wm;Ji.prototype.set=Gm;var Ko=Ji,Km=ka,Ym=Go,Qm=Ko,Xm=200;function Jm(t,n){var o=this.__data__;if(o instanceof Km){var l=o.__data__;if(!Ym||l.length<Xm-1)return l.push([t,n]),this.size=++o.size,this;o=this.__data__=new Qm(l)}return o.set(t,n),this.size=o.size,this}var e_=Jm,t_=ka,i_=mv,n_=pv,a_=yv,o_=wv,r_=e_;function en(t){var n=this.__data__=new t_(t);this.size=n.size}en.prototype.clear=i_;en.prototype.delete=n_;en.prototype.get=a_;en.prototype.has=o_;en.prototype.set=r_;var Al=en,s_="__lodash_hash_undefined__";function l_(t){return this.__data__.set(t,s_),this}var u_=l_;function c_(t){return this.__data__.has(t)}var h_=c_,d_=Ko,f_=u_,v_=h_;function Ta(t){var n=-1,o=t==null?0:t.length;for(this.__data__=new d_;++n<o;)this.add(t[n])}Ta.prototype.add=Ta.prototype.push=f_;Ta.prototype.has=v_;var m_=Ta;function __(t,n){for(var o=-1,l=t==null?0:t.length;++o<l;)if(n(t[o],o,t))return!0;return!1}var p_=__;function g_(t,n){return t.has(n)}var y_=g_,b_=m_,w_=p_,S_=y_,x_=1,T_=2;function C_(t,n,o,l,s,c){var h=o&x_,f=t.length,v=n.length;if(f!=v&&!(h&&v>f))return!1;var y=c.get(t),m=c.get(n);if(y&&m)return y==n&&m==t;var w=-1,T=!0,S=o&T_?new b_:void 0;for(c.set(t,n),c.set(n,t);++w<f;){var M=t[w],E=n[w];if(l)var O=h?l(E,M,w,n,t,c):l(M,E,w,t,n,c);if(O!==void 0){if(O)continue;T=!1;break}if(S){if(!w_(n,function(J,z){if(!S_(S,z)&&(M===J||s(M,J,o,l,c)))return S.push(z)})){T=!1;break}}else if(!(M===E||s(M,E,o,l,c))){T=!1;break}}return c.delete(t),c.delete(n),T}var El=C_,P_=oi,L_=P_.Uint8Array,k_=L_;function M_(t){var n=-1,o=Array(t.size);return t.forEach(function(l,s){o[++n]=[s,l]}),o}var A_=M_;function E_(t){var n=-1,o=Array(t.size);return t.forEach(function(l){o[++n]=l}),o}var O_=E_,cs=Pa,hs=k_,I_=kl,B_=El,z_=A_,$_=O_,R_=1,q_=2,D_="[object Boolean]",F_="[object Date]",N_="[object Error]",Z_="[object Map]",V_="[object Number]",H_="[object RegExp]",U_="[object Set]",j_="[object String]",W_="[object Symbol]",G_="[object ArrayBuffer]",K_="[object DataView]",ds=cs?cs.prototype:void 0,ho=ds?ds.valueOf:void 0;function Y_(t,n,o,l,s,c,h){switch(o){case K_:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case G_:return!(t.byteLength!=n.byteLength||!c(new hs(t),new hs(n)));case D_:case F_:case V_:return I_(+t,+n);case N_:return t.name==n.name&&t.message==n.message;case H_:case j_:return t==n+"";case Z_:var f=z_;case U_:var v=l&R_;if(f||(f=$_),t.size!=n.size&&!v)return!1;var y=h.get(t);if(y)return y==n;l|=q_,h.set(t,n);var m=B_(f(t),f(n),l,s,c,h);return h.delete(t),m;case W_:if(ho)return ho.call(t)==ho.call(n)}return!1}var Q_=Y_;function X_(t,n){for(var o=-1,l=n.length,s=t.length;++o<l;)t[s+o]=n[o];return t}var J_=X_,ep=J_,tp=ri;function ip(t,n,o){var l=n(t);return tp(t)?l:ep(l,o(t))}var np=ip;function ap(){return[]}var op=ap,rp=yl,sp=op,lp=Object.prototype,up=lp.propertyIsEnumerable,fs=Object.getOwnPropertySymbols,cp=fs?function(t){return t==null?[]:(t=Object(t),rp(fs(t),function(n){return up.call(t,n)}))}:sp,hp=cp,dp=np,fp=hp,vp=Wo;function mp(t){return dp(t,vp,fp)}var _p=mp,vs=_p,pp=1,gp=Object.prototype,yp=gp.hasOwnProperty;function bp(t,n,o,l,s,c){var h=o&pp,f=vs(t),v=f.length,y=vs(n),m=y.length;if(v!=m&&!h)return!1;for(var w=v;w--;){var T=f[w];if(!(h?T in n:yp.call(n,T)))return!1}var S=c.get(t),M=c.get(n);if(S&&M)return S==n&&M==t;var E=!0;c.set(t,n),c.set(n,t);for(var O=h;++w<v;){T=f[w];var J=t[T],z=n[T];if(l)var Y=h?l(z,J,T,n,t,c):l(J,z,T,t,n,c);if(!(Y===void 0?J===z||s(J,z,o,l,c):Y)){E=!1;break}O||(O=T=="constructor")}if(E&&!O){var $=t.constructor,Q=n.constructor;$!=Q&&"constructor"in t&&"constructor"in n&&!(typeof $=="function"&&$ instanceof $&&typeof Q=="function"&&Q instanceof Q)&&(E=!1)}return c.delete(t),c.delete(n),E}var wp=bp,Sp=Qi,xp=oi,Tp=Sp(xp,"DataView"),Cp=Tp,Pp=Qi,Lp=oi,kp=Pp(Lp,"Promise"),Mp=kp,Ap=Qi,Ep=oi,Op=Ap(Ep,"Set"),Ip=Op,Bp=Qi,zp=oi,$p=Bp(zp,"WeakMap"),Rp=$p,So=Cp,xo=Go,To=Mp,Co=Ip,Po=Rp,Ol=En,tn=Ml,ms="[object Map]",qp="[object Object]",_s="[object Promise]",ps="[object Set]",gs="[object WeakMap]",ys="[object DataView]",Dp=tn(So),Fp=tn(xo),Np=tn(To),Zp=tn(Co),Vp=tn(Po),xi=Ol;(So&&xi(new So(new ArrayBuffer(1)))!=ys||xo&&xi(new xo)!=ms||To&&xi(To.resolve())!=_s||Co&&xi(new Co)!=ps||Po&&xi(new Po)!=gs)&&(xi=function(t){var n=Ol(t),o=n==qp?t.constructor:void 0,l=o?tn(o):"";if(l)switch(l){case Dp:return ys;case Fp:return ms;case Np:return _s;case Zp:return ps;case Vp:return gs}return n});var Hp=xi,fo=Al,Up=El,jp=Q_,Wp=wp,bs=Hp,ws=ri,Ss=xa.exports,Gp=Cl,Kp=1,xs="[object Arguments]",Ts="[object Array]",na="[object Object]",Yp=Object.prototype,Cs=Yp.hasOwnProperty;function Qp(t,n,o,l,s,c){var h=ws(t),f=ws(n),v=h?Ts:bs(t),y=f?Ts:bs(n);v=v==xs?na:v,y=y==xs?na:y;var m=v==na,w=y==na,T=v==y;if(T&&Ss(t)){if(!Ss(n))return!1;h=!0,m=!1}if(T&&!m)return c||(c=new fo),h||Gp(t)?Up(t,n,o,l,s,c):jp(t,n,v,o,l,s,c);if(!(o&Kp)){var S=m&&Cs.call(t,"__wrapped__"),M=w&&Cs.call(n,"__wrapped__");if(S||M){var E=S?t.value():t,O=M?n.value():n;return c||(c=new fo),s(E,O,o,l,c)}}return T?(c||(c=new fo),Wp(t,n,o,l,s,c)):!1}var Xp=Qp,Jp=Xp,Ps=On;function Il(t,n,o,l,s){return t===n?!0:t==null||n==null||!Ps(t)&&!Ps(n)?t!==t&&n!==n:Jp(t,n,o,l,Il,s)}var Bl=Il,eg=Al,tg=Bl,ig=1,ng=2;function ag(t,n,o,l){var s=o.length,c=s,h=!l;if(t==null)return!c;for(t=Object(t);s--;){var f=o[s];if(h&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++s<c;){f=o[s];var v=f[0],y=t[v],m=f[1];if(h&&f[2]){if(y===void 0&&!(v in t))return!1}else{var w=new eg;if(l)var T=l(y,m,v,t,n,w);if(!(T===void 0?tg(m,y,ig|ng,l,w):T))return!1}}return!0}var og=ag,rg=jo;function sg(t){return t===t&&!rg(t)}var zl=sg,lg=zl,ug=Wo;function cg(t){for(var n=ug(t),o=n.length;o--;){var l=n[o],s=t[l];n[o]=[l,s,lg(s)]}return n}var hg=cg;function dg(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}var $l=dg,fg=og,vg=hg,mg=$l;function _g(t){var n=vg(t);return n.length==1&&n[0][2]?mg(n[0][0],n[0][1]):function(o){return o===t||fg(o,t,n)}}var pg=_g,gg=En,yg=On,bg="[object Symbol]";function wg(t){return typeof t=="symbol"||yg(t)&&gg(t)==bg}var Yo=wg,Sg=ri,xg=Yo,Tg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cg=/^\w*$/;function Pg(t,n){if(Sg(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||xg(t)?!0:Cg.test(t)||!Tg.test(t)||n!=null&&t in Object(n)}var Qo=Pg,Rl=Ko,Lg="Expected a function";function Xo(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(Lg);var o=function(){var l=arguments,s=n?n.apply(this,l):l[0],c=o.cache;if(c.has(s))return c.get(s);var h=t.apply(this,l);return o.cache=c.set(s,h)||c,h};return o.cache=new(Xo.Cache||Rl),o}Xo.Cache=Rl;var kg=Xo,Mg=kg,Ag=500;function Eg(t){var n=Mg(t,function(l){return o.size===Ag&&o.clear(),l}),o=n.cache;return n}var Og=Eg,Ig=Og,Bg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zg=/\\(\\)?/g,$g=Ig(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(Bg,function(o,l,s,c){n.push(s?c.replace(zg,"$1"):l||o)}),n}),Rg=$g;function qg(t,n){for(var o=-1,l=t==null?0:t.length,s=Array(l);++o<l;)s[o]=n(t[o],o,t);return s}var Dg=qg,Ls=Pa,Fg=Dg,Ng=ri,Zg=Yo,Vg=1/0,ks=Ls?Ls.prototype:void 0,Ms=ks?ks.toString:void 0;function ql(t){if(typeof t=="string")return t;if(Ng(t))return Fg(t,ql)+"";if(Zg(t))return Ms?Ms.call(t):"";var n=t+"";return n=="0"&&1/t==-Vg?"-0":n}var Hg=ql,Ug=Hg;function jg(t){return t==null?"":Ug(t)}var Wg=jg,Gg=ri,Kg=Qo,Yg=Rg,Qg=Wg;function Xg(t,n){return Gg(t)?t:Kg(t,n)?[t]:Yg(Qg(t))}var Dl=Xg,Jg=Yo,ey=1/0;function ty(t){if(typeof t=="string"||Jg(t))return t;var n=t+"";return n=="0"&&1/t==-ey?"-0":n}var Ea=ty,iy=Dl,ny=Ea;function ay(t,n){n=iy(n,t);for(var o=0,l=n.length;t!=null&&o<l;)t=t[ny(n[o++])];return o&&o==l?t:void 0}var Fl=ay,oy=Fl;function ry(t,n,o){var l=t==null?void 0:oy(t,n);return l===void 0?o:l}var sy=ry;function ly(t,n){return t!=null&&n in Object(t)}var uy=ly,cy=Dl,hy=xl,dy=ri,fy=Tl,vy=Uo,my=Ea;function _y(t,n,o){n=cy(n,t);for(var l=-1,s=n.length,c=!1;++l<s;){var h=my(n[l]);if(!(c=t!=null&&o(t,h)))break;t=t[h]}return c||++l!=s?c:(s=t==null?0:t.length,!!s&&vy(s)&&fy(h,s)&&(dy(t)||hy(t)))}var py=_y,gy=uy,yy=py;function by(t,n){return t!=null&&yy(t,n,gy)}var wy=by,Sy=Bl,xy=sy,Ty=wy,Cy=Qo,Py=zl,Ly=$l,ky=Ea,My=1,Ay=2;function Ey(t,n){return Cy(t)&&Py(n)?Ly(ky(t),n):function(o){var l=xy(o,t);return l===void 0&&l===n?Ty(o,t):Sy(n,l,My|Ay)}}var Oy=Ey;function Iy(t){return t}var By=Iy;function zy(t){return function(n){return n==null?void 0:n[t]}}var $y=zy,Ry=Fl;function qy(t){return function(n){return Ry(n,t)}}var Dy=qy,Fy=$y,Ny=Dy,Zy=Qo,Vy=Ea;function Hy(t){return Zy(t)?Fy(Vy(t)):Ny(t)}var Uy=Hy,jy=pg,Wy=Oy,Gy=By,Ky=ri,Yy=Uy;function Qy(t){return typeof t=="function"?t:t==null?Gy:typeof t=="object"?Ky(t)?Wy(t[0],t[1]):jy(t):Yy(t)}var Xy=Qy,Jy=yl,eb=Zf,tb=Xy,ib=ri;function nb(t,n){var o=ib(t)?Jy:eb;return o(t,tb(n))}var ab=nb,Lo=ab;class Nl{constructor(...n){wi(this,"parcelId","");wi(this,"address","");wi(this,"zipCode","");wi(this,"pricePerSqFt","");wi(this,"appraisedValue","");wi(this,"taxDistrict","");console.log("ARGS ",n),Object.assign(this,...n),console.log("FeatureProperties CONSTRUCTOR",this)}}Array.of(new Nl);const{mapState:ob,mapActions:rb,mapGetters:sb}=ac("map");var lb={name:"map",props:["searchText"],data(){let t=Gi.exports.icon(Object.assign({},Gi.exports.Icon.Default.prototype.options,{blueIconUrl:_h,shadowUrl:ph}));return{searchOptions:["City, State","Address","Zip Code"],selectedOption:"City, State",selectedAuto:[],autoAddress:[],rhcValue:0,tableDataType:Nl,selectedSearchOptionType:"",searchInputValue:"",icon:t,renderer:Gi.exports.canvas({padding:.5}),feature:{},zoom:10,searchToggle:!1,fileName:"Real Home Compare",tileLayer:{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZXZhbmZyYWJlbGwiLCJhIjoiY2tqOTM1bzZoMWFnMDJycWd2eGJ4aTJ0MCJ9.r-KG-MMBYVUX3BGbvKLuLQ",options:{maxZoom:20,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiZXZhbmZyYWJlbGwiLCJhIjoiY2tqOTM1bzZoMWFnMDJycWd2eGJ4aTJ0MCJ9.r-KG-MMBYVUX3BGbvKLuLQ"}}}},components:{Autocomplete:mh},mounted(){ha.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,o=[],l=0,s=n.length;for(;l<s;)o.push({id:l,name:n[l]}),l++;this.autoAddress=o}).catch(()=>{console.log("----ERROR----")}),console.log("getters",this.maxFeatures)},created(){this.callSelector()},methods:{axiosGetter(t){ha.get(t,{headers:{"x-rhc-projection":"TABLE"}}).then(n=>{this.geoData=n.data;for(let o=0;o<this.geoData.features.length;o++)if(this.excelData.push(this.geoData.features[o].properties),this.searchText==this.geoData.features[o].properties.address)this.propyData.unshift(this.geoData.features[o].properties);else{if(this.propyData.length>=150)continue;this.propyData.push(this.geoData.features[o].properties)}console.log(this.geoData),console.log(this.propyData.length),console.log(this.propyData),console.log(this.excelData.length),console.log(this.excelData)}).catch(()=>{console.log("----ERROR----")})},callSelector(){this.geoData={},this.propyData=[],this.rhcValue=0;let t="";this.selectedOption=="Address"?t=`https://rhc-backend.herokuapp.com/rhc/api/properties/address-radius?address=${this.searchText}`:this.selectedOption=="Zip Code"?t=`https://rhc-backend.herokuapp.com/rhc/api/properties/zipcode?zipcode=${this.searchText}`:t="https://rhc-backend.herokuapp.com/rhc/api/properties/city-state?city=Cincinnati&state=OH",console.log(t),this.axiosGetter(t)},onChange(t){console.log(t)},clearMap(){this.geoData={},this.propyData=[],this.excelData=[]},mapReady(t){console.log("MAP IS LOADED",t)},normalizedInputValue:function(t){let n=t.toString();return n.includes(",")&&(n=n.split(",")),n},getPropertyValue(t,n){return t[n]},_filter:Lo,addPopups(t){return"Address: "+t.properties.address+"</br>RHC Value: "+t.properties.appraisedValue+"</br>$/SqFt: "+t.properties.pricePerSqFt+"</p>"},searchForProperties(t,n){this.selectedSearchOptionType=n,this.inputValue=t;const l=`getFeaturesBy${this.normalizedSelectedSearchOptionType}`;console.log("STRATEGY ",l),this[l](this.normalizedInputValue(t))},setFeatureFromTable(t){const n=this.features.find(o=>t.some(l=>o.properties.parcelId===l.parcelId));this.setSelectedFeature(n)},...rb({getFeaturesByZipCode:pn.FEATURES_BY_ZIPCODE,getFeaturesByCityState:pn.FEATURES_BY_CITY_AND_STATE,getFeaturesByAddress:pn.FEATURES_BY_ADDRESS,getFeaturesByRadius:pn.FEATURES_BY_RADIUS,setSelectedFeature:pn.FEATURE_SELECTED}),parcelLink:function(t){return"https://wedge.hcauditor.org/view/re/"+t+"/2021/summary"}},computed:{...sb(["maxFeatures","featuresByZipCode"]),...ob(["features","selectedFeature"]),geoData(){return this.$store.state.features},featuresWithProps:function(){return console.log("MAP DATA "),{...Lo(this.truncatedData,t=>t.properties.zipCode!==null&&t.properties.zipCode!==""&&t.properties.pricePerSqFt!==null&&t.properties.pricePerSqFt!=="")}},tableData:function(){return console.log("TABLE DATA"),this.truncatedData.map(t=>t.properties)},truncatedData:function(){switch(console.log("SELECTED SEARCH OPTION",this.selectedSearchOptionType),this.selectedSearchOptionType){case"zipCode":return console.log("INPUT VALUE ",this.inputValue),Fr.take(this.featuresByZipCode(this.inputValue),100);default:return this.maxFeatures(100)}},normalizedSelectedSearchOptionType:function(){return Fr.upperFirst(this.selectedSearchOptionType.toString())}}};const ub={class:"map"};function cb(t,n,o,l,s,c){const h=Vt("l-tile-layer"),f=Vt("l-tooltip"),v=Vt("l-marker"),y=Vt("l-map");return qe(),We("div",ub,[ae(y,{options:{preferCanvas:!0,boxZoom:!0},center:[39.2,-84.56],style:{height:"70vh"},zoom:t.zoom,rendererer:t.renderer,onReady:t.mapReady},{default:He(()=>[ae(h,{url:t.tileLayer.url,options:t.tileLayer.options},null,8,["url","options"]),t.geoData.length<=100?(qe(!0),We(kn,{key:0},Oo(t.geoData,m=>(qe(),ra(v,{key:m.properties.parcelId,"lat-lng":m.geometry.coordinates,onClick:w=>t.setSelectedFeature(m)},{default:He(()=>[ae(f,{content:t.addPopups(m)},null,8,["content"])]),_:2},1032,["lat-lng","onClick"]))),128)):t.geoData.length>100?(qe(),We(kn,{key:1},[],64)):ni("",!0)]),_:1},8,["center","zoom","rendererer","onReady"])])}var hb=ai(lb,[["render",cb]]),db={name:"search-bar",data(){return{autoAddress:[],coordList:[],excelData:[],features:[],geoData:{},hasReset:!1,map:null,searchOptions:["Address","Zip Code"],searchText:null,selectedFeature:[],selectedOption:"Zip Code",url:""}},components:{Autocomplete:th,Map:hb,MapTest:gl},mounted(){ha.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,o=[],l=0,s=n.length;for(;l<s;)o.push({id:l,name:n[l]}),l++;this.autoAddress=o}).catch(()=>{console.log("----ERROR----")})},methods:{...oc(["FEATURES_BY_ADDRESS","GEO_DATA_BY_CITY_STATE","FEATURES_BY_ZIPCODE","FEATURES_BY_CITY_AND_STATE","GEO_DATA_BY_ZIPCODE","GEO_DATA_BY_ADDRESS"]),async searchAddress(){this.rhcValue=0,this.getUrlAndSetFeatures(),this.closeDialog()},async updateMap(){switch(this.hasReset=!1,this.$store.state.features=[],this.geoData=[],this.getUrlAndSetFeatures(),this.selectedOption){case"Address":this.geoData=await this.GEO_DATA_BY_ADDRESS(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})).slice(0,100).reverse(),this.$emit("coordUpdate",this.coordList);break;case"City, State":this.geoData=await this.GEO_DATA_BY_CITY_STATE(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})),this.coordList=this.coordList.splice(0,250),this.$emit("coordUpdate",this.coordList);break;case"Zip Code":this.geoData=await this.GEO_DATA_BY_ZIPCODE(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})).slice(0,100).reverse(),this.coordList=this.coordList.splice(0,250),this.$emit("coordUpdate",this.coordList);break}console.log("coordlist is now ",this.coordList)},getUrlAndSetFeatures(){if(this.selectedOption=="Address")this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/address-radius?address=${this.searchText}`,this.FEATURES_BY_ADDRESS(this.url);else if(this.selectedOption=="Zip Code")this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/zipcode?zipcode=${this.searchText}`,this.FEATURES_BY_ZIPCODE(this.url);else{let t=this.searchText.split(",")[0].trim(),n=this.searchText.split(",")[1].trim();this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/city-state?city=${t}&state=${n}`,this.FEATURES_BY_CITY_AND_STATE(this.url)}},closeDialog(){this.$emit("closeDialog",{tableData:this.tableData,searchType:this.selectedOption})},onChange(t){console.log(t)},resetMap(){this.coordList=[{coords:[Sa.LAT,Sa.LONG],id:0}],this.hasReset=!0,this.geoData={},this.excelData=[]},toggleOptions(){this.searchText=null},normalizedInputValue:function(t){let n=t.toString();return n.includes(",")&&(n=n.split(",")),n}}};const fb={class:"searchbar"},vb={class:"searchbar-searchFields"},mb={class:"inputs"},_b={class:"inputs"},pb={key:0},gb={key:1},yb={key:2},bb={class:"btn_actions"},wb={class:"searchbar-map"};function Sb(t,n,o,l,s,c){const h=Vt("map-test");return qe(),We("div",fb,[ge("div",vb,[ge("div",mb,[ae(wa,{square:"",outlined:"",modelValue:t.selectedOption,"onUpdate:modelValue":n[0]||(n[0]=f=>t.selectedOption=f),onChange:t.toggleOptions,options:t.searchOptions,label:"Search By"},null,8,["modelValue","onChange","options"])]),ge("div",_b,[t.selectedOption==="Address"?(qe(),We("div",pb,[ae(Ci,{square:"",outlined:"",modelValue:t.searchText,"onUpdate:modelValue":n[1]||(n[1]=f=>t.searchText=f),onKeypress:ct(t.searchAddress,["enter"])},null,8,["modelValue","onKeypress"])])):t.selectedOption==="Zip Code"?(qe(),We("div",gb,[ae(Ci,{square:"",outlined:"",modelValue:t.searchText,"onUpdate:modelValue":n[2]||(n[2]=f=>t.searchText=f),placeholder:"By Zip Code",onKeypress:ct(t.searchAddress,["enter"]),label:"Zip Code"},null,8,["modelValue","onKeypress"])])):t.selectedOption==="City, State"?(qe(),We("div",yb,[ae(Ci,{square:"",outlined:"",label:"City, State",modelValue:t.searchText,"onUpdate:modelValue":n[3]||(n[3]=f=>t.searchText=f),onKeypress:ct(t.searchAddress,["enter"])},null,8,["modelValue","onKeypress"])])):ni("",!0)]),ge("div",bb,[ae(xt,{id:"search-btn",round:"",color:"black",icon:"my_location",onClick:t.updateMap},null,8,["onClick"]),ae(xt,{flattened:"",color:"primary",label:"Reset Map",onClick:t.resetMap},null,8,["onClick"])])]),ge("div",wb,[ae(h,{latlong:t.coordList,hasReset:t.hasReset},null,8,["latlong","hasReset"])]),ae(xt,{id:"search-btn",flattened:"",color:"primary",label:"Search",size:"1rem",onClick:t.searchAddress},null,8,["onClick"])])}var xb=ai(db,[["render",Sb]]),Tb={name:"summary",props:[],data(){return{}},computed:{average(){const t=this.$store.state.features.reduce((n,o)=>o.rhcPsf+n,0)/this.$store.state.features.length;return parseInt(t)||0},max(){const t=this.$store.state.features.map(n=>n.rhcPsf&&n.rhcPsf>0?n.rhcPsf:this.average);return Math.max(...t)||0},min(){const t=this.$store.state.features.map(n=>n.rhcPsf&&n.rhcPsf>0?n.rhcPsf:this.average);return Math.min(...t)||0}}};const Cb={class:"summary"},Pb={class:"summary-min"},Lb=ge("h3",{class:"heading"},"Min",-1),kb=ge("h4",null,"per sq ft",-1),Mb={class:"summary-average"},Ab=ge("h3",{class:"heading"},"Average",-1),Eb=ge("h4",null,"per sq ft",-1),Ob={class:"summary-max"},Ib=ge("h3",{class:"heading"},"Max",-1),Bb=ge("h4",null,"per sq ft",-1),zb=ge("h4",{class:"tooltip"},"Numbers based on square mile radius",-1);function $b(t,n,o,l,s,c){return qe(),We(kn,null,[ge("div",Cb,[ge("div",Pb,[Lb,kb,ge("span",null,"$"+St(t.min),1)]),ge("div",Mb,[Ab,Eb,ge("span",null,"$"+St(t.average),1)]),ge("div",Ob,[Ib,Bb,ge("span",null,"$"+St(t.max),1)])]),zb],64)}var Rb=ai(Tb,[["render",$b]]),qb=Ke({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(t,{slots:n,emit:o}){const l=et(),{proxy:{$q:s}}=l,c=h=>{o("click",h)};return()=>{if(t.props===void 0)return x("th",{class:t.autoWidth===!0?"q-table--col-auto-width":"",onClick:c},kt(n.default));let h,f;const v=l.vnode.key;if(v){if(h=t.props.colsMap[v],h===void 0)return}else h=t.props.col;if(h.sortable===!0){const m=h.align==="right"?"unshift":"push";f=Fs(n.default,[]),f[m](x(fi,{class:h.__iconClass,name:s.iconSet.table.arrowUp}))}else f=kt(n.default);const y={class:h.__thClass+(t.autoWidth===!0?" q-table--col-auto-width":""),style:h.headerStyle,onClick:m=>{h.sortable===!0&&t.props.sort(h),c(m)}};return x("th",y,f)}}});const Db={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},vo={xs:2,sm:4,md:8,lg:16,xl:24};var Fb=Ke({name:"QSeparator",props:{...Bt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const n=et(),o=zt(t,n.proxy.$q),l=g(()=>t.vertical===!0?"vertical":"horizontal"),s=g(()=>` q-separator--${l.value}`),c=g(()=>t.inset!==!1?`${s.value}-${Db[t.inset]}`:""),h=g(()=>`q-separator${s.value}${c.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(o.value===!0?" q-separator--dark":"")),f=g(()=>{const v={};if(t.size!==void 0&&(v[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const y=t.spaced===!0?`${vo.md}px`:t.spaced in vo?`${vo[t.spaced]}px`:t.spaced,m=t.vertical===!0?["Left","Right"]:["Top","Bottom"];v[`margin${m[0]}`]=v[`margin${m[1]}`]=y}return v});return()=>x("hr",{class:h.value,style:f.value,"aria-orientation":l.value})}}),Nb=Ke({name:"QList",props:{...Bt,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(t,{slots:n}){const o=et(),l=zt(t,o.proxy.$q),s=g(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>x("div",{class:s.value},kt(n.default))}});const Zb=["horizontal","vertical","cell","none"];var Vb=Ke({name:"QMarkupTable",props:{...Bt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:t=>Zb.includes(t)}},setup(t,{slots:n}){const o=et(),l=zt(t,o.proxy.$q),s=g(()=>`q-markup-table q-table__container q-table__card q-table--${t.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(t.dense===!0?" q-table--dense":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")+(t.square===!0?" q-table--square":"")+(t.wrapCells===!1?" q-table--no-wrap":""));return()=>x("div",{class:s.value},[x("table",{class:"q-table"},kt(n.default))])}});function Zl(t,n){return x("div",t,[x("table",{class:"q-table"},n)])}const Hb={list:Nb,table:Vb},Ub=["list","table","__qtable"];var jb=Ke({name:"QVirtualScroll",props:{...vl,type:{type:String,default:"list",validator:t=>Ub.includes(t)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(t,{slots:n,attrs:o}){let l;const s=oe(null),c=g(()=>t.itemsSize>=0&&t.itemsFn!==void 0?parseInt(t.itemsSize,10):Array.isArray(t.items)?t.items.length:0),{virtualScrollSliceRange:h,localResetVirtualScroll:f,padVirtualScroll:v,onVirtualScrollEvt:y}=ml({virtualScrollLength:c,getVirtualScrollTarget:M,getVirtualScrollEl:S}),m=g(()=>{if(c.value===0)return[];const z=(Y,$)=>({index:h.value.from+$,item:Y});return t.itemsFn===void 0?t.items.slice(h.value.from,h.value.to).map(z):t.itemsFn(h.value.from,h.value.to-h.value.from).map(z)}),w=g(()=>"q-virtual-scroll q-virtual-scroll"+(t.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(t.scrollTarget!==void 0?"":" scroll")),T=g(()=>t.scrollTarget!==void 0?{}:{tabindex:0});Ee(c,()=>{f()}),Ee(()=>t.scrollTarget,()=>{O(),E()});function S(){return s.value.$el||s.value}function M(){return l}function E(){l=zo(S(),t.scrollTarget),l.addEventListener("scroll",y,Lt.passive)}function O(){l!==void 0&&(l.removeEventListener("scroll",y,Lt.passive),l=void 0)}function J(){let z=v(t.type==="list"?"div":"tbody",m.value.map(n.default));return n.before!==void 0&&(z=n.before().concat(z)),An(n.after,z)}return Ao(()=>{f()}),Ca(()=>{E()}),Vs(()=>{E()}),Zs(()=>{O()}),_t(()=>{O()}),()=>{if(n.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return t.type==="__qtable"?Zl({ref:s,class:"q-table__middle "+w.value},J()):x(Hb[t.type],{...o,ref:s,class:[o.class,w.value],...T.value},J)}}});const Wb={xs:2,sm:4,md:6,lg:10,xl:14};function As(t,n,o){return{transform:n===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var Gb=Ke({name:"QLinearProgress",props:{...Bt,...ko,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:o}=et(),l=zt(t,o.$q),s=Mo(t,Wb),c=g(()=>t.indeterminate===!0||t.query===!0),h=g(()=>t.reverse!==t.query),f=g(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),v=g(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),y=g(()=>As(t.buffer!==void 0?t.buffer:1,h.value,o.$q)),m=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${t.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${l.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),w=g(()=>As(c.value===!0?1:t.value,h.value,o.$q)),T=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${t.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${c.value===!0?"in":""}determinate`),S=g(()=>({width:`${t.value*100}%`})),M=g(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"}`);return()=>{const E=[x("div",{class:m.value,style:y.value}),x("div",{class:T.value,style:w.value})];return t.stripe===!0&&c.value===!1&&E.push(x("div",{class:M.value,style:S.value})),x("div",{class:v.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},An(n.default,E))}}});function Kb(t,n){const o=oe(null),l=g(()=>t.disable===!0?null:x("span",{ref:o,class:"no-outline",tabindex:-1}));function s(c){const h=n.value;c!==void 0&&c.type.indexOf("key")===0?h!==null&&document.activeElement!==h&&h.contains(document.activeElement)===!0&&h.focus():o.value!==null&&(c===void 0||h!==null&&h.contains(c.target)===!0)&&o.value.focus()}return{refocusTargetEl:l,refocusTarget:s}}var Yb={xs:30,sm:35,md:40,lg:50,xl:60};const Qb={...Bt,...ko,...Bo,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Xb=["update:modelValue"];function Jb(t,n){const{props:o,slots:l,emit:s,proxy:c}=et(),{$q:h}=c,f=zt(o,h),v=oe(null),{refocusTargetEl:y,refocusTarget:m}=Kb(o,v),w=Mo(o,Yb),T=g(()=>o.val!==void 0&&Array.isArray(o.modelValue)),S=g(()=>{const R=Ni(o.val);return T.value===!0?o.modelValue.findIndex(ie=>Ni(ie)===R):-1}),M=g(()=>T.value===!0?S.value>-1:Ni(o.modelValue)===Ni(o.trueValue)),E=g(()=>T.value===!0?S.value===-1:Ni(o.modelValue)===Ni(o.falseValue)),O=g(()=>M.value===!1&&E.value===!1),J=g(()=>o.disable===!0?-1:o.tabindex||0),z=g(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(o.disable===!0?" disabled":"")+(f.value===!0?` q-${t}--dark`:"")+(o.dense===!0?` q-${t}--dense`:"")+(o.leftLabel===!0?" reverse":"")),Y=g(()=>{const R=M.value===!0?"truthy":E.value===!0?"falsy":"indet",ie=o.color!==void 0&&(o.keepColor===!0||(t==="toggle"?M.value===!0:E.value!==!0))?` text-${o.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${R}${ie}`}),$=g(()=>{const R={type:"checkbox"};return o.name!==void 0&&Object.assign(R,{"^checked":M.value===!0?"checked":void 0,name:o.name,value:T.value===!0?o.val:o.trueValue}),R}),Q=Ys($),_e=g(()=>{const R={tabindex:J.value,role:"checkbox","aria-label":o.label,"aria-checked":O.value===!0?"mixed":M.value===!0?"true":"false"};return o.disable===!0&&(R["aria-disabled"]="true"),R});function Me(R){R!==void 0&&(ut(R),m(R)),o.disable!==!0&&s("update:modelValue",ye(),R)}function ye(){if(T.value===!0){if(M.value===!0){const R=o.modelValue.slice();return R.splice(S.value,1),R}return o.modelValue.concat([o.val])}if(M.value===!0){if(o.toggleOrder!=="ft"||o.toggleIndeterminate===!1)return o.falseValue}else if(E.value===!0){if(o.toggleOrder==="ft"||o.toggleIndeterminate===!1)return o.trueValue}else return o.toggleOrder!=="ft"?o.trueValue:o.falseValue;return o.indeterminateValue}function Re(R){(R.keyCode===13||R.keyCode===32)&&ut(R)}function be(R){(R.keyCode===13||R.keyCode===32)&&Me(R)}const ne=n(M,O);return Object.assign(c,{toggle:Me}),()=>{const R=ne();o.disable!==!0&&Q(R,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const ie=[x("div",{class:Y.value,style:w.value},R)];y.value!==null&&ie.push(y.value);const re=o.label!==void 0?An(l.default,[o.label]):kt(l.default);return re!==void 0&&ie.push(x("div",{class:`q-${t}__label q-anchor--skip`},re)),x("div",{ref:v,class:z.value,..._e.value,onClick:Me,onKeydown:Re,onKeyup:be},ie)}}const ew=x("div",{key:"svg",class:"q-checkbox__bg absolute"},[x("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[x("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),x("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var mo=Ke({name:"QCheckbox",props:Qb,emits:Xb,setup(t){function n(o,l){const s=g(()=>(o.value===!0?t.checkedIcon:l.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>s.value!==null?[x("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[x(fi,{class:"q-checkbox__icon",name:s.value})])]:[ew]}return Jb("checkbox",n)}});let Sn=0;const tw={fullscreen:Boolean,noRouteFullscreenExit:Boolean},iw=["update:fullscreen","fullscreen"];function nw(){const t=et(),{props:n,emit:o,proxy:l}=t;let s,c,h;const f=oe(!1);$s(t)===!0&&Ee(()=>l.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&m()}),Ee(()=>n.fullscreen,w=>{f.value!==w&&v()}),Ee(f,w=>{o("update:fullscreen",w),o("fullscreen",w)});function v(){f.value===!0?m():y()}function y(){f.value!==!0&&(f.value=!0,h=l.$el.parentNode,h.replaceChild(c,l.$el),document.body.appendChild(l.$el),Sn++,Sn===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:m},ca.add(s))}function m(){f.value===!0&&(s!==void 0&&(ca.remove(s),s=void 0),h.replaceChild(l.$el,c),f.value=!1,Sn=Math.max(0,Sn-1),Sn===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return Ao(()=>{c=document.createElement("span")}),Ca(()=>{n.fullscreen===!0&&y()}),_t(m),Object.assign(l,{toggleFullscreen:v,setFullscreen:y,exitFullscreen:m}),{inFullscreen:f,toggleFullscreen:v}}function aw(t,n){return new Date(t)-new Date(n)}const ow={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:t=>t==="ad"||t==="da",default:"ad"}};function rw(t,n,o,l){const s=g(()=>{const{sortBy:f}=n.value;return f&&o.value.find(v=>v.name===f)||null}),c=g(()=>t.sortMethod!==void 0?t.sortMethod:(f,v,y)=>{const m=o.value.find(S=>S.name===v);if(m===void 0||m.field===void 0)return f;const w=y===!0?-1:1,T=typeof m.field=="function"?S=>m.field(S):S=>S[m.field];return f.sort((S,M)=>{let E=T(S),O=T(M);return E==null?-1*w:O==null?1*w:m.sort!==void 0?m.sort(E,O,S,M)*w:da(E)===!0&&da(O)===!0?(E-O)*w:Nr(E)===!0&&Nr(O)===!0?aw(E,O)*w:typeof E=="boolean"&&typeof O=="boolean"?(E-O)*w:([E,O]=[E,O].map(J=>(J+"").toLocaleString().toLowerCase()),E<O?-1*w:E===O?0:w)})});function h(f){let v=t.columnSortOrder;if(sa(f)===!0)f.sortOrder&&(v=f.sortOrder),f=f.name;else{const w=o.value.find(T=>T.name===f);w!==void 0&&w.sortOrder&&(v=w.sortOrder)}let{sortBy:y,descending:m}=n.value;y!==f?(y=f,m=v==="da"):t.binaryStateSort===!0?m=!m:m===!0?v==="ad"?y=null:m=!1:v==="ad"?m=!0:y=null,l({sortBy:y,descending:m,page:1})}return{columnToSort:s,computedSortMethod:c,sort:h}}const sw={filter:[String,Object],filterMethod:Function};function lw(t,n){const o=g(()=>t.filterMethod!==void 0?t.filterMethod:(l,s,c,h)=>{const f=s?s.toLowerCase():"";return l.filter(v=>c.some(y=>{const m=h(y,v)+"";return(m==="undefined"||m==="null"?"":m.toLowerCase()).indexOf(f)!==-1}))});return Ee(()=>t.filter,()=>{st(()=>{n({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function uw(t,n){for(const o in n)if(n[o]!==t[o])return!1;return!0}function Es(t){return t.page<1&&(t.page=1),t.rowsPerPage!==void 0&&t.rowsPerPage<1&&(t.rowsPerPage=0),t}const cw={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function hw(t,n){const{props:o,emit:l}=t,s=oe(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length>0?o.rowsPerPageOptions[0]:5},o.pagination)),c=g(()=>{const m=o["onUpdate:pagination"]!==void 0?{...s.value,...o.pagination}:s.value;return Es(m)}),h=g(()=>c.value.rowsNumber!==void 0);function f(m){v({pagination:m,filter:o.filter})}function v(m={}){st(()=>{l("request",{pagination:m.pagination||c.value,filter:m.filter||o.filter,getCellValue:n})})}function y(m,w){const T=Es({...c.value,...m});if(uw(c.value,T)===!0){h.value===!0&&w===!0&&f(T);return}if(h.value===!0){f(T);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?l("update:pagination",T):s.value=T}return{innerPagination:s,computedPagination:c,isServerSide:h,requestServerInteraction:v,setPagination:y}}function dw(t,n,o,l,s,c){const{props:h,emit:f,proxy:{$q:v}}=t,y=g(()=>l.value===!0?o.value.rowsNumber||0:c.value),m=g(()=>{const{page:$,rowsPerPage:Q}=o.value;return($-1)*Q}),w=g(()=>{const{page:$,rowsPerPage:Q}=o.value;return $*Q}),T=g(()=>o.value.page===1),S=g(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(y.value/o.value.rowsPerPage))),M=g(()=>w.value===0?!0:o.value.page>=S.value),E=g(()=>(h.rowsPerPageOptions.includes(n.value.rowsPerPage)?h.rowsPerPageOptions:[n.value.rowsPerPage].concat(h.rowsPerPageOptions)).map(Q=>({label:Q===0?v.lang.table.allRows:""+Q,value:Q})));Ee(S,($,Q)=>{if($===Q)return;const _e=o.value.page;$&&!_e?s({page:1}):$<_e&&s({page:$})});function O(){s({page:1})}function J(){const{page:$}=o.value;$>1&&s({page:$-1})}function z(){const{page:$,rowsPerPage:Q}=o.value;w.value>0&&$*Q<y.value&&s({page:$+1})}function Y(){s({page:S.value})}return h["onUpdate:pagination"]!==void 0&&f("update:pagination",{...o.value}),{firstRowIndex:m,lastRowIndex:w,isFirstPage:T,isLastPage:M,pagesNumber:S,computedRowsPerPageOptions:E,computedRowsNumber:y,firstPage:O,prevPage:J,nextPage:z,lastPage:Y}}const fw={selection:{type:String,default:"none",validator:t=>["single","multiple","none"].includes(t)},selected:{type:Array,default:()=>[]}},vw=["update:selected","selection"];function mw(t,n,o,l){const s=g(()=>{const M={};return t.selected.map(l.value).forEach(E=>{M[E]=!0}),M}),c=g(()=>t.selection!=="none"),h=g(()=>t.selection==="single"),f=g(()=>t.selection==="multiple"),v=g(()=>o.value.length>0&&o.value.every(M=>s.value[l.value(M)]===!0)),y=g(()=>v.value!==!0&&o.value.some(M=>s.value[l.value(M)]===!0)),m=g(()=>t.selected.length);function w(M){return s.value[M]===!0}function T(){n("update:selected",[])}function S(M,E,O,J){n("selection",{rows:E,added:O,keys:M,evt:J});const z=h.value===!0?O===!0?E:[]:O===!0?t.selected.concat(E):t.selected.filter(Y=>M.includes(l.value(Y))===!1);n("update:selected",z)}return{hasSelectionMode:c,singleSelection:h,multipleSelection:f,allRowsSelected:v,someRowsSelected:y,rowsSelectedNumber:m,isRowSelected:w,clearSelection:T,updateSelection:S}}function Os(t){return Array.isArray(t)?t.slice():[]}const _w={expanded:Array},pw=["update:expanded"];function gw(t,n){const o=oe(Os(t.expanded));Ee(()=>t.expanded,h=>{o.value=Os(h)});function l(h){return o.value.includes(h)}function s(h){t.expanded!==void 0?n("update:expanded",h):o.value=h}function c(h,f){const v=o.value.slice(),y=v.indexOf(h);f===!0?y===-1&&(v.push(h),s(v)):y!==-1&&(v.splice(y,1),s(v))}return{isRowExpanded:l,setExpanded:s,updateExpanded:c}}const yw={visibleColumns:Array};function bw(t,n,o){const l=g(()=>{if(t.columns!==void 0)return t.columns;const f=t.rows[0];return f!==void 0?Object.keys(f).map(v=>({name:v,label:v.toUpperCase(),field:v,align:da(f[v])?"right":"left",sortable:!0})):[]}),s=g(()=>{const{sortBy:f,descending:v}=n.value;return(t.visibleColumns!==void 0?l.value.filter(m=>m.required===!0||t.visibleColumns.includes(m.name)===!0):l.value).map(m=>{const w=m.align||"right",T=`text-${w}`;return{...m,align:w,__iconClass:`q-table__sort-icon q-table__sort-icon--${w}`,__thClass:T+(m.headerClasses!==void 0?" "+m.headerClasses:"")+(m.sortable===!0?" sortable":"")+(m.name===f?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:m.style!==void 0?typeof m.style!="function"?()=>m.style:m.style:()=>null,__tdClass:m.classes!==void 0?typeof m.classes!="function"?()=>T+" "+m.classes:S=>T+" "+m.classes(S):()=>T}})}),c=g(()=>{const f={};return s.value.forEach(v=>{f[v.name]=v}),f}),h=g(()=>t.tableColspan!==void 0?t.tableColspan:s.value.length+(o.value===!0?1:0));return{colList:l,computedCols:s,computedColsMap:c,computedColspan:h}}const aa="q-table__bottom row items-center",Vl={};fl.forEach(t=>{Vl[t]={}});var ww=Ke({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Vl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Bt,...tw,...yw,...sw,...cw,..._w,...fw,...ow},emits:["request","virtual-scroll",...iw,...pw,...vw],setup(t,{slots:n,emit:o}){const l=et(),{proxy:{$q:s}}=l,c=zt(t,s),{inFullscreen:h,toggleFullscreen:f}=nw(),v=g(()=>typeof t.rowKey=="function"?t.rowKey:P=>P[t.rowKey]),y=oe(null),m=oe(null),w=g(()=>t.grid!==!0&&t.virtualScroll===!0),T=g(()=>" q-table__card"+(c.value===!0?" q-table__card--dark q-dark":"")+(t.square===!0?" q-table--square":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")),S=g(()=>`q-table__container q-table--${t.separator}-separator column no-wrap`+(t.grid===!0?" q-table--grid":T.value)+(c.value===!0?" q-table--dark":"")+(t.dense===!0?" q-table--dense":"")+(t.wrapCells===!1?" q-table--no-wrap":"")+(h.value===!0?" fullscreen scroll":"")),M=g(()=>S.value+(t.loading===!0?" q-table--loading":""));Ee(()=>t.tableStyle+t.tableClass+t.tableHeaderStyle+t.tableHeaderClass+S.value,()=>{w.value===!0&&m.value!==null&&m.value.reset()});const{innerPagination:E,computedPagination:O,isServerSide:J,requestServerInteraction:z,setPagination:Y}=hw(l,yt),{computedFilterMethod:$}=lw(t,Y),{isRowExpanded:Q,setExpanded:_e,updateExpanded:Me}=gw(t,o),ye=g(()=>{let P=t.rows;if(J.value===!0||P.length===0)return P;const{sortBy:j,descending:te}=O.value;return t.filter&&(P=$.value(P,t.filter,A.value,yt)),H.value!==null&&(P=ee.value(t.rows===P?P.slice():P,j,te)),P}),Re=g(()=>ye.value.length),be=g(()=>{let P=ye.value;if(J.value===!0)return P;const{rowsPerPage:j}=O.value;return j!==0&&(G.value===0&&t.rows!==P?P.length>ve.value&&(P=P.slice(0,ve.value)):P=P.slice(G.value,ve.value)),P}),{hasSelectionMode:ne,singleSelection:R,multipleSelection:ie,allRowsSelected:re,someRowsSelected:he,rowsSelectedNumber:se,isRowSelected:we,clearSelection:D,updateSelection:Pe}=mw(t,o,be,v),{colList:k,computedCols:A,computedColsMap:V,computedColspan:W}=bw(t,O,ne),{columnToSort:H,computedSortMethod:ee,sort:F}=rw(t,O,k,Y),{firstRowIndex:G,lastRowIndex:ve,isFirstPage:q,isLastPage:K,pagesNumber:Be,computedRowsPerPageOptions:Qe,computedRowsNumber:ze,firstPage:pt,prevPage:at,nextPage:nt,lastPage:lt}=dw(l,E,O,J,Y,Re),ht=g(()=>be.value.length===0),it=g(()=>{const P={};return fl.forEach(j=>{P[j]=t[j]}),P.virtualScrollItemSize===void 0&&(P.virtualScrollItemSize=t.dense===!0?28:48),P});function Ne(){w.value===!0&&m.value.reset()}function dt(){if(t.grid===!0)return Ai();const P=t.hideHeader!==!0?Se:null;if(w.value===!0){const te=n["top-row"],ce=n["bottom-row"],de={default:Ze=>At(Ze.item,n.body,Ze.index)};if(te!==void 0){const Ze=x("tbody",te({cols:A.value}));de.before=P===null?()=>Ze:()=>[P()].concat(Ze)}else P!==null&&(de.before=P);return ce!==void 0&&(de.after=()=>x("tbody",ce({cols:A.value}))),x(jb,{ref:m,class:t.tableClass,style:t.tableStyle,...it.value,scrollTarget:t.virtualScrollTarget,items:be.value,type:"__qtable",tableColspan:W.value,onVirtualScroll:si},de)}const j=[jt()];return P!==null&&j.unshift(P()),Zl({class:["q-table__middle scroll",t.tableClass],style:t.tableStyle},j)}function Mt(P,j){if(m.value!==null){m.value.scrollTo(P,j);return}P=parseInt(P,10);const te=y.value.querySelector(`tbody tr:nth-of-type(${P+1})`);if(te!==null){const ce=y.value.querySelector(".q-table__middle.scroll"),{offsetTop:de}=te,Ze=de<ce.scrollTop?"decrease":"increase";ce.scrollTop=de,o("virtual-scroll",{index:P,from:0,to:E.value.rowsPerPage-1,direction:Ze})}}function si(P){o("virtual-scroll",P)}function Ut(){return[x(Gb,{class:"q-table__linear-progress",color:t.color,dark:c.value,indeterminate:!0,trackColor:"transparent"})]}function At(P,j,te){const ce=v.value(P),de=we(ce);if(j!==void 0)return j(Tt({key:ce,row:P,pageIndex:te,__trClass:de?"selected":""}));const Ze=n["body-cell"],De=A.value.map(Z=>{const Wt=n[`body-cell-${Z.name}`],Gt=Wt!==void 0?Wt:Ze;return Gt!==void 0?Gt(ft({key:ce,row:P,pageIndex:te,col:Z})):x("td",{class:Z.__tdClass(P),style:Z.__tdStyle(P)},yt(Z,P))});if(ne.value===!0){const Z=n["body-selection"],Wt=Z!==void 0?Z(Ct({key:ce,row:P,pageIndex:te})):[x(mo,{modelValue:de,color:t.color,dark:c.value,dense:t.dense,"onUpdate:modelValue":(Gt,Ei)=>{Pe([ce],[P],Gt,Ei)}})];De.unshift(x("td",{class:"q-table--col-auto-width"},Wt))}const Ge={key:ce,class:{selected:de}};return t.onRowClick!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onClick=Z=>{o("RowClick",Z,P,te)}),t.onRowDblclick!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onDblclick=Z=>{o("RowDblclick",Z,P,te)}),t.onRowContextmenu!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onContextmenu=Z=>{o("RowContextmenu",Z,P,te)}),x("tr",Ge,De)}function jt(){const P=n.body,j=n["top-row"],te=n["bottom-row"];let ce=be.value.map((de,Ze)=>At(de,P,Ze));return j!==void 0&&(ce=j({cols:A.value}).concat(ce)),te!==void 0&&(ce=ce.concat(te({cols:A.value}))),x("tbody",ce)}function Tt(P){return gt(P),P.cols=P.cols.map(j=>{const te={...j};return gn(te,"value",()=>yt(j,P.row)),te}),P}function ft(P){return gt(P),gn(P,"value",()=>yt(P.col,P.row)),P}function Ct(P){return gt(P),P}function gt(P){Object.assign(P,{cols:A.value,colsMap:V.value,sort:F,rowIndex:G.value+P.pageIndex,color:t.color,dark:c.value,dense:t.dense}),ne.value===!0&&gn(P,"selected",()=>we(P.key),(j,te)=>{Pe([P.key],[P.row],j,te)}),gn(P,"expand",()=>Q(P.key),j=>{Me(P.key,j)})}function yt(P,j){const te=typeof P.field=="function"?P.field(j):j[P.field];return P.format!==void 0?P.format(te,j):te}const vt=g(()=>({pagination:O.value,pagesNumber:Be.value,isFirstPage:q.value,isLastPage:K.value,firstPage:pt,prevPage:at,nextPage:nt,lastPage:lt,inFullscreen:h.value,toggleFullscreen:f}));function I(){const P=n.top,j=n["top-left"],te=n["top-right"],ce=n["top-selection"],de=ne.value===!0&&ce!==void 0&&se.value>0,Ze="q-table__top relative-position row items-center";if(P!==void 0)return x("div",{class:Ze},[P(vt.value)]);let De;if(de===!0?De=ce(vt.value).slice():(De=[],j!==void 0?De.push(x("div",{class:"q-table-control"},[j(vt.value)])):t.title&&De.push(x("div",{class:"q-table__control"},[x("div",{class:["q-table__title",t.titleClass]},t.title)]))),te!==void 0&&(De.push(x("div",{class:"q-table__separator col"})),De.push(x("div",{class:"q-table__control"},[te(vt.value)]))),De.length!==0)return x("div",{class:Ze},De)}const ue=g(()=>he.value===!0?null:re.value);function Se(){const P=Ae();return t.loading===!0&&n.loading===void 0&&P.push(x("tr",{class:"q-table__progress"},[x("th",{class:"relative-position",colspan:W.value},Ut())])),x("thead",P)}function Ae(){const P=n.header,j=n["header-cell"];if(P!==void 0)return P(Oe({header:!0})).slice();const te=A.value.map(ce=>{const de=n[`header-cell-${ce.name}`],Ze=de!==void 0?de:j,De=Oe({col:ce});return Ze!==void 0?Ze(De):x(qb,{key:ce.name,props:De},()=>ce.label)});if(R.value===!0&&t.grid!==!0)te.unshift(x("th",{class:"q-table--col-auto-width"}," "));else if(ie.value===!0){const ce=n["header-selection"],de=ce!==void 0?ce(Oe({})):[x(mo,{color:t.color,modelValue:ue.value,dark:c.value,dense:t.dense,"onUpdate:modelValue":ot})];te.unshift(x("th",{class:"q-table--col-auto-width"},de))}return[x("tr",{class:t.tableHeaderClass,style:t.tableHeaderStyle},te)]}function Oe(P){return Object.assign(P,{cols:A.value,sort:F,colsMap:V.value,color:t.color,dark:c.value,dense:t.dense}),ie.value===!0&&gn(P,"selected",()=>ue.value,ot),P}function ot(P){he.value===!0&&(P=!1),Pe(be.value.map(v.value),be.value,P)}const bt=g(()=>{const P=[t.iconFirstPage||s.iconSet.table.firstPage,t.iconPrevPage||s.iconSet.table.prevPage,t.iconNextPage||s.iconSet.table.nextPage,t.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?P.reverse():P});function $t(){if(t.hideBottom===!0)return;if(ht.value===!0){if(t.hideNoData===!0)return;const te=t.loading===!0?t.loadingLabel||s.lang.table.loading:t.filter?t.noResultsLabel||s.lang.table.noResults:t.noDataLabel||s.lang.table.noData,ce=n["no-data"],de=ce!==void 0?[ce({message:te,icon:s.iconSet.table.warning,filter:t.filter})]:[x(fi,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),te];return x("div",{class:aa+" q-table__bottom--nodata"},de)}const P=n.bottom;if(P!==void 0)return x("div",{class:aa},[P(vt.value)]);const j=t.hideSelectedBanner!==!0&&ne.value===!0&&se.value>0?[x("div",{class:"q-table__control"},[x("div",[(t.selectedRowsLabel||s.lang.table.selectedRecords)(se.value)])])]:[];if(t.hidePagination!==!0)return x("div",{class:aa+" justify-end"},vi(j));if(j.length>0)return x("div",{class:aa},j)}function Mi(P){Y({page:1,rowsPerPage:P.value})}function vi(P){let j;const{rowsPerPage:te}=O.value,ce=t.paginationLabel||s.lang.table.pagination,de=n.pagination,Ze=t.rowsPerPageOptions.length>1;if(P.push(x("div",{class:"q-table__separator col"})),Ze===!0&&P.push(x("div",{class:"q-table__control"},[x("span",{class:"q-table__bottom-item"},[t.rowsPerPageLabel||s.lang.table.recordsPerPage]),x(wa,{class:"q-table__select inline q-table__bottom-item",color:t.color,modelValue:te,options:Qe.value,displayValue:te===0?s.lang.table.allRows:te,dark:c.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Mi})])),de!==void 0)j=de(vt.value);else if(j=[x("span",te!==0?{class:"q-table__bottom-item"}:{},[te?ce(G.value+1,Math.min(ve.value,ze.value),ze.value):ce(1,Re.value,ze.value)])],te!==0&&Be.value>1){const De={color:t.color,round:!0,dense:!0,flat:!0};t.dense===!0&&(De.size="sm"),Be.value>2&&j.push(x(xt,{key:"pgFirst",...De,icon:bt.value[0],disable:q.value,onClick:pt})),j.push(x(xt,{key:"pgPrev",...De,icon:bt.value[1],disable:q.value,onClick:at}),x(xt,{key:"pgNext",...De,icon:bt.value[2],disable:K.value,onClick:nt})),Be.value>2&&j.push(x(xt,{key:"pgLast",...De,icon:bt.value[3],disable:K.value,onClick:lt}))}return P.push(x("div",{class:"q-table__control"},j)),P}function nn(){const P=t.gridHeader===!0?[x("table",{class:"q-table"},[Se()])]:t.loading===!0&&n.loading===void 0?Ut():void 0;return x("div",{class:"q-table__middle"},P)}function Ai(){const P=n.item!==void 0?n.item:j=>{const te=j.cols.map(de=>x("div",{class:"q-table__grid-item-row"},[x("div",{class:"q-table__grid-item-title"},[de.label]),x("div",{class:"q-table__grid-item-value"},[de.value])]));if(ne.value===!0){const de=n["body-selection"],Ze=de!==void 0?de(j):[x(mo,{modelValue:j.selected,color:t.color,dark:c.value,dense:t.dense,"onUpdate:modelValue":(De,Ge)=>{Pe([j.key],[j.row],De,Ge)}})];te.unshift(x("div",{class:"q-table__grid-item-row"},Ze),x(Fb,{dark:c.value}))}const ce={class:["q-table__grid-item-card"+T.value,t.cardClass],style:t.cardStyle};return(t.onRowClick!==void 0||t.onRowDblclick!==void 0)&&(ce.class[0]+=" cursor-pointer",t.onRowClick!==void 0&&(ce.onClick=de=>{o("RowClick",de,j.row,j.pageIndex)}),t.onRowDblclick!==void 0&&(ce.onDblclick=de=>{o("RowDblclick",de,j.row,j.pageIndex)})),x("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(j.selected===!0?" q-table__grid-item--selected":"")},[x("div",ce,te)])};return x("div",{class:["q-table__grid-content row",t.cardContainerClass],style:t.cardContainerStyle},be.value.map((j,te)=>P(Tt({key:v.value(j),row:j,pageIndex:te}))))}return Object.assign(l.proxy,{requestServerInteraction:z,setPagination:Y,firstPage:pt,prevPage:at,nextPage:nt,lastPage:lt,isRowSelected:we,clearSelection:D,isRowExpanded:Q,setExpanded:_e,sort:F,resetVirtualScroll:Ne,scrollTo:Mt,getCellValue:yt}),rc(l.proxy,{filteredSortedRows:()=>ye.value,computedRows:()=>be.value,computedRowsNumber:()=>ze.value}),()=>{const P=[I()],j={ref:y,class:M.value};return t.grid===!0?P.push(nn()):Object.assign(j,{class:[j.class,t.cardClass],style:t.cardStyle}),P.push(dt(),$t()),t.loading===!0&&n.loading!==void 0&&P.push(n.loading()),x("div",j,P)}}});const Sw=["top","middle","bottom"];var _o=Ke({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>Sw.includes(t)}},setup(t,{slots:n}){const o=g(()=>t.align!==void 0?{verticalAlign:t.align}:null),l=g(()=>{const s=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(s!==void 0?` text-${s}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>x("div",{class:l.value,style:o.value,role:"alert","aria-label":t.label},An(n.default,t.label!==void 0?[t.label]:[]))}});const Jo={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},xw=Object.keys(Jo);Jo.all=!0;function Is(t){const n={};for(const o of xw)t[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?Jo:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}function Bs(t,n){return n.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof n.handler=="function"&&t.target.nodeName.toUpperCase()!=="INPUT"&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(n.uid)===-1)}function po(t,n,o){const l=Ln(t);let s,c=l.left-n.event.x,h=l.top-n.event.y,f=Math.abs(c),v=Math.abs(h);const y=n.direction;y.horizontal===!0&&y.vertical!==!0?s=c<0?"left":"right":y.horizontal!==!0&&y.vertical===!0?s=h<0?"up":"down":y.up===!0&&h<0?(s="up",f>v&&(y.left===!0&&c<0?s="left":y.right===!0&&c>0&&(s="right"))):y.down===!0&&h>0?(s="down",f>v&&(y.left===!0&&c<0?s="left":y.right===!0&&c>0&&(s="right"))):y.left===!0&&c<0?(s="left",f<v&&(y.up===!0&&h<0?s="up":y.down===!0&&h>0&&(s="down"))):y.right===!0&&c>0&&(s="right",f<v&&(y.up===!0&&h<0?s="up":y.down===!0&&h>0&&(s="down")));let m=!1;if(s===void 0&&o===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};s=n.event.lastDir,m=!0,s==="left"||s==="right"?(l.left-=c,f=0,c=0):(l.top-=h,v=0,h=0)}return{synthetic:m,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:l,direction:s,isFirst:n.event.isFirst,isFinal:o===!0,duration:Date.now()-n.event.time,distance:{x:f,y:v},offset:{x:c,y:h},delta:{x:l.left-n.event.lastX,y:l.top-n.event.lastY}}}}let Tw=0;var Cw=qs({name:"touch-pan",beforeMount(t,{value:n,modifiers:o}){if(o.mouse!==!0&&mt.has.touch!==!0)return;function l(c,h){o.mouse===!0&&h===!0?ut(c):(o.stop===!0&&ii(c),o.prevent===!0&&Ti(c))}const s={uid:"qvtp_"+Tw++,handler:n,modifiers:o,direction:Is(o),noop:Ns,mouseStart(c){Bs(c,s)&&sc(c)&&(di(s,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),s.start(c,!0))},touchStart(c){if(Bs(c,s)){const h=c.target;di(s,"temp",[[h,"touchmove","move","notPassiveCapture"],[h,"touchcancel","end","passiveCapture"],[h,"touchend","end","passiveCapture"]]),s.start(c)}},start(c,h){if(mt.is.firefox===!0&&ao(t,!0),s.lastEvt=c,h===!0||o.stop===!0){if(s.direction.all!==!0&&(h!==!0||s.modifiers.mouseAllDir!==!0)){const y=c.type.indexOf("mouse")>-1?new MouseEvent(c.type,c):new TouchEvent(c.type,c);c.defaultPrevented===!0&&Ti(y),c.cancelBubble===!0&&ii(y),Object.assign(y,{qKeyEvent:c.qKeyEvent,qClickOutside:c.qClickOutside,qAnchorHandled:c.qAnchorHandled,qClonedBy:c.qClonedBy===void 0?[s.uid]:c.qClonedBy.concat(s.uid)}),s.initialEvent={target:c.target,event:y}}ii(c)}const{left:f,top:v}=Ln(c);s.event={x:f,y:v,time:Date.now(),mouse:h===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:f,lastY:v}},move(c){if(s.event===void 0)return;const h=Ln(c),f=h.left-s.event.x,v=h.top-s.event.y;if(f===0&&v===0)return;s.lastEvt=c;const y=s.event.mouse===!0,m=()=>{l(c,y),o.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),y===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),fa(),s.styleCleanup=S=>{if(s.styleCleanup=void 0,o.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),y===!0){const M=()=>{document.body.classList.remove("no-pointer-events--children")};S!==void 0?setTimeout(()=>{M(),S()},50):M()}else S!==void 0&&S()}};if(s.event.detected===!0){s.event.isFirst!==!0&&l(c,s.event.mouse);const{payload:S,synthetic:M}=po(c,s,!1);S!==void 0&&(s.handler(S)===!1?s.end(c):(s.styleCleanup===void 0&&s.event.isFirst===!0&&m(),s.event.lastX=S.position.left,s.event.lastY=S.position.top,s.event.lastDir=M===!0?void 0:S.direction,s.event.isFirst=!1));return}if(s.direction.all===!0||y===!0&&s.modifiers.mouseAllDir===!0){m(),s.event.detected=!0,s.move(c);return}const w=Math.abs(f),T=Math.abs(v);w!==T&&(s.direction.horizontal===!0&&w>T||s.direction.vertical===!0&&w<T||s.direction.up===!0&&w<T&&v<0||s.direction.down===!0&&w<T&&v>0||s.direction.left===!0&&w>T&&f<0||s.direction.right===!0&&w>T&&f>0?(s.event.detected=!0,s.move(c)):s.end(c,!0))},end(c,h){if(s.event!==void 0){if(Hi(s,"temp"),mt.is.firefox===!0&&ao(t,!1),h===!0)s.styleCleanup!==void 0&&s.styleCleanup(),s.event.detected!==!0&&s.initialEvent!==void 0&&s.initialEvent.target.dispatchEvent(s.initialEvent.event);else if(s.event.detected===!0){s.event.isFirst===!0&&s.handler(po(c===void 0?s.lastEvt:c,s).payload);const{payload:f}=po(c===void 0?s.lastEvt:c,s,!0),v=()=>{s.handler(f)};s.styleCleanup!==void 0?s.styleCleanup(v):v()}s.event=void 0,s.initialEvent=void 0,s.lastEvt=void 0}}};t.__qtouchpan=s,o.mouse===!0&&di(s,"main",[[t,"mousedown","mouseStart",`passive${o.mouseCapture===!0?"Capture":""}`]]),mt.has.touch===!0&&di(s,"main",[[t,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const o=t.__qtouchpan;o!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&o.end(),o.handler=n.value),o.direction=Is(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Hi(n,"main"),Hi(n,"temp"),mt.is.firefox===!0&&ao(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});const zs="q-slider__marker-labels",Pw=t=>({value:t}),Lw=({marker:t})=>x("div",{key:t.value,style:t.style,class:t.classes},t.label),Hl=[34,37,40,33,39,38],kw={...Bt,...Bo,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Mw=["pan","update:modelValue","change"];function Aw({updateValue:t,updatePosition:n,getDragging:o,formAttrs:l}){const{props:s,emit:c,slots:h,proxy:{$q:f}}=et(),v=zt(s,f),y=Ys(l),m=oe(!1),w=oe(!1),T=oe(!1),S=oe(!1),M=g(()=>s.vertical===!0?"--v":"--h"),E=g(()=>"-"+(s.switchLabelSide===!0?"switched":"standard")),O=g(()=>s.vertical===!0?s.reverse===!0:s.reverse!==(f.lang.rtl===!0)),J=g(()=>isNaN(s.innerMin)===!0||s.innerMin<s.min?s.min:s.innerMin),z=g(()=>isNaN(s.innerMax)===!0||s.innerMax>s.max?s.max:s.innerMax),Y=g(()=>s.disable!==!0&&s.readonly!==!0&&J.value<z.value),$=g(()=>(String(s.step).trim().split(".")[1]||"").length),Q=g(()=>s.step===0?1:s.step),_e=g(()=>Y.value===!0?s.tabindex||0:-1),Me=g(()=>s.max-s.min),ye=g(()=>z.value-J.value),Re=g(()=>Be(J.value)),be=g(()=>Be(z.value)),ne=g(()=>s.vertical===!0?O.value===!0?"bottom":"top":O.value===!0?"right":"left"),R=g(()=>s.vertical===!0?"height":"width"),ie=g(()=>s.vertical===!0?"width":"height"),re=g(()=>s.vertical===!0?"vertical":"horizontal"),he=g(()=>{const I={role:"slider","aria-valuemin":J.value,"aria-valuemax":z.value,"aria-orientation":re.value,"data-step":s.step};return s.disable===!0?I["aria-disabled"]="true":s.readonly===!0&&(I["aria-readonly"]="true"),I}),se=g(()=>`q-slider q-slider${M.value} q-slider--${m.value===!0?"":"in"}active inline no-wrap `+(s.vertical===!0?"row":"column")+(s.disable===!0?" disabled":" q-slider--enabled"+(Y.value===!0?" q-slider--editable":""))+(T.value==="both"?" q-slider--focus":"")+(s.label||s.labelAlways===!0?" q-slider--label":"")+(s.labelAlways===!0?" q-slider--label-always":"")+(v.value===!0?" q-slider--dark":"")+(s.dense===!0?" q-slider--dense q-slider--dense"+M.value:""));function we(I){const ue="q-slider__"+I;return`${ue} ${ue}${M.value} ${ue}${M.value}${E.value}`}function D(I){const ue="q-slider__"+I;return`${ue} ${ue}${M.value}`}const Pe=g(()=>{const I=s.selectionColor||s.color;return"q-slider__selection absolute"+(I!==void 0?` text-${I}`:"")}),k=g(()=>D("markers")+" absolute overflow-hidden"),A=g(()=>D("track-container")),V=g(()=>we("pin")),W=g(()=>we("label")),H=g(()=>we("text-container")),ee=g(()=>we("marker-labels-container")+(s.markerLabelsClass!==void 0?` ${s.markerLabelsClass}`:"")),F=g(()=>"q-slider__track relative-position no-outline"+(s.trackColor!==void 0?` bg-${s.trackColor}`:"")),G=g(()=>{const I={[ie.value]:s.trackSize};return s.trackImg!==void 0&&(I.backgroundImage=`url(${s.trackImg}) !important`),I}),ve=g(()=>"q-slider__inner absolute"+(s.innerTrackColor!==void 0?` bg-${s.innerTrackColor}`:"")),q=g(()=>{const I={[ne.value]:`${100*Re.value}%`,[R.value]:`${100*(be.value-Re.value)}%`};return s.innerTrackImg!==void 0&&(I.backgroundImage=`url(${s.innerTrackImg}) !important`),I});function K(I){const{min:ue,max:Se,step:Ae}=s;let Oe=ue+I*(Se-ue);if(Ae>0){const ot=(Oe-ue)%Ae;Oe+=(Math.abs(ot)>=Ae/2?(ot<0?-1:1)*Ae:0)-ot}return $.value>0&&(Oe=parseFloat(Oe.toFixed($.value))),Zt(Oe,J.value,z.value)}function Be(I){return Me.value===0?0:(I-s.min)/Me.value}function Qe(I,ue){const Se=Ln(I),Ae=s.vertical===!0?Zt((Se.top-ue.top)/ue.height,0,1):Zt((Se.left-ue.left)/ue.width,0,1);return Zt(O.value===!0?1-Ae:Ae,Re.value,be.value)}const ze=g(()=>da(s.markers)===!0?s.markers:Q.value),pt=g(()=>{const I=[],ue=ze.value,Se=s.max;let Ae=s.min;do I.push(Ae),Ae+=ue;while(Ae<Se);return I.push(Se),I}),at=g(()=>{const I=` ${zs}${M.value}-`;return zs+`${I}${s.switchMarkerLabelsSide===!0?"switched":"standard"}${I}${O.value===!0?"rtl":"ltr"}`}),nt=g(()=>s.markerLabels===!1?null:it(s.markerLabels).map((I,ue)=>({index:ue,value:I.value,label:I.label||I.value,classes:at.value+(I.classes!==void 0?" "+I.classes:""),style:{...Ne(I.value),...I.style||{}}}))),lt=g(()=>({markerList:nt.value,markerMap:dt.value,classes:at.value,getStyle:Ne})),ht=g(()=>{if(ye.value!==0){const I=100*ze.value/ye.value;return{...q.value,backgroundSize:s.vertical===!0?`2px ${I}%`:`${I}% 2px`}}return null});function it(I){if(I===!1)return null;if(I===!0)return pt.value.map(Pw);if(typeof I=="function")return pt.value.map(Se=>{const Ae=I(Se);return sa(Ae)===!0?{...Ae,value:Se}:{value:Se,label:Ae}});const ue=({value:Se})=>Se>=s.min&&Se<=s.max;return Array.isArray(I)===!0?I.map(Se=>sa(Se)===!0?Se:{value:Se}).filter(ue):Object.keys(I).map(Se=>{const Ae=I[Se],Oe=Number(Se);return sa(Ae)===!0?{...Ae,value:Oe}:{value:Oe,label:Ae}}).filter(ue)}function Ne(I){return{[ne.value]:`${100*(I-s.min)/Me.value}%`}}const dt=g(()=>{if(s.markerLabels===!1)return null;const I={};return nt.value.forEach(ue=>{I[ue.value]=ue}),I});function Mt(){if(h["marker-label-group"]!==void 0)return h["marker-label-group"](lt.value);const I=h["marker-label"]||Lw;return nt.value.map(ue=>I({marker:ue,...lt.value}))}const si=g(()=>[[Cw,Ut,void 0,{[re.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ut(I){I.isFinal===!0?(S.value!==void 0&&(n(I.evt),I.touch===!0&&t(!0),S.value=void 0,c("pan","end")),m.value=!1,T.value=!1):I.isFirst===!0?(S.value=o(I.evt),n(I.evt),t(),m.value=!0,c("pan","start")):(n(I.evt),t())}function At(){T.value=!1}function jt(I){n(I,o(I)),t(),w.value=!0,m.value=!0,document.addEventListener("mouseup",Tt,!0)}function Tt(){w.value=!1,m.value=!1,t(!0),At(),document.removeEventListener("mouseup",Tt,!0)}function ft(I){n(I,o(I)),t(!0)}function Ct(I){Hl.includes(I.keyCode)&&t(!0)}function gt(I){if(s.vertical===!0)return null;const ue=f.lang.rtl!==s.reverse?1-I:I;return{transform:`translateX(calc(${2*ue-1} * ${s.thumbSize} / 2 + ${50-100*ue}%))`}}function yt(I){const ue=g(()=>w.value===!1&&(T.value===I.focusValue||T.value==="both")?" q-slider--focus":""),Se=g(()=>`q-slider__thumb q-slider__thumb${M.value} q-slider__thumb${M.value}-${O.value===!0?"rtl":"ltr"} absolute non-selectable`+ue.value+(I.thumbColor.value!==void 0?` text-${I.thumbColor.value}`:"")),Ae=g(()=>({width:s.thumbSize,height:s.thumbSize,[ne.value]:`${100*I.ratio.value}%`,zIndex:T.value===I.focusValue?2:void 0})),Oe=g(()=>I.labelColor.value!==void 0?` text-${I.labelColor.value}`:""),ot=g(()=>gt(I.ratio.value)),bt=g(()=>"q-slider__text"+(I.labelTextColor.value!==void 0?` text-${I.labelTextColor.value}`:""));return()=>{const $t=[x("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[x("path",{d:s.thumbPath})]),x("div",{class:"q-slider__focus-ring fit"})];return(s.label===!0||s.labelAlways===!0)&&($t.push(x("div",{class:V.value+" absolute fit no-pointer-events"+Oe.value},[x("div",{class:W.value,style:{minWidth:s.thumbSize}},[x("div",{class:H.value,style:ot.value},[x("span",{class:bt.value},I.label.value)])])])),s.name!==void 0&&s.disable!==!0&&y($t,"push")),x("div",{class:Se.value,style:Ae.value,...I.getNodeData()},$t)}}function vt(I,ue,Se,Ae){const Oe=[];s.innerTrackColor!=="transparent"&&Oe.push(x("div",{key:"inner",class:ve.value,style:q.value})),s.selectionColor!=="transparent"&&Oe.push(x("div",{key:"selection",class:Pe.value,style:I.value})),s.markers!==!1&&Oe.push(x("div",{key:"marker",class:k.value,style:ht.value})),Ae(Oe);const ot=[Ds("div",{key:"trackC",class:A.value,tabindex:ue.value,...Se.value},[x("div",{class:F.value,style:G.value},Oe)],"slide",Y.value,()=>si.value)];if(s.markerLabels!==!1){const bt=s.switchMarkerLabelsSide===!0?"unshift":"push";ot[bt](x("div",{key:"markerL",class:ee.value},Mt()))}return ot}return _t(()=>{document.removeEventListener("mouseup",Tt,!0)}),{state:{active:m,focus:T,preventFocus:w,dragging:S,editable:Y,classes:se,tabindex:_e,attributes:he,step:Q,decimals:$,trackLen:Me,innerMin:J,innerMinRatio:Re,innerMax:z,innerMaxRatio:be,positionProp:ne,sizeProp:R,isReversed:O},methods:{onActivate:jt,onMobileClick:ft,onBlur:At,onKeyup:Ct,getContent:vt,getThumbRenderFn:yt,convertRatioToModel:K,convertModelToRatio:Be,getDraggingRatio:Qe}}}const hi={MIN:0,RANGE:1,MAX:2};var go=Ke({name:"QRange",props:{...kw,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:t=>"min"in t&&"max"in t},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:Mw,setup(t,{emit:n}){const{proxy:{$q:o}}=et(),{state:l,methods:s}=Aw({updateValue:ye,updatePosition:be,getDragging:Re,formAttrs:g(()=>({type:"hidden",name:t.name,value:`${t.modelValue.min}|${t.modelValue.max}`}))}),c=oe(null),h=oe(0),f=oe(0),v=oe({min:0,max:0});function y(){v.value.min=t.modelValue.min===null?l.innerMin.value:Zt(t.modelValue.min,l.innerMin.value,l.innerMax.value),v.value.max=t.modelValue.max===null?l.innerMax.value:Zt(t.modelValue.max,l.innerMin.value,l.innerMax.value)}Ee(()=>`${t.modelValue.min}|${t.modelValue.max}|${l.innerMin.value}|${l.innerMax.value}`,y),y();const m=g(()=>s.convertModelToRatio(v.value.min)),w=g(()=>s.convertModelToRatio(v.value.max)),T=g(()=>l.active.value===!0?h.value:m.value),S=g(()=>l.active.value===!0?f.value:w.value),M=g(()=>{const R={[l.positionProp.value]:`${100*T.value}%`,[l.sizeProp.value]:`${100*(S.value-T.value)}%`};return t.selectionImg!==void 0&&(R.backgroundImage=`url(${t.selectionImg}) !important`),R}),E=g(()=>{if(l.editable.value!==!0)return{};if(o.platform.is.mobile===!0)return{onClick:s.onMobileClick};const R={onMousedown:s.onActivate};return(t.dragRange===!0||t.dragOnlyRange===!0)&&Object.assign(R,{onFocus:()=>{l.focus.value="both"},onBlur:s.onBlur,onKeydown:ne,onKeyup:s.onKeyup}),R});function O(R){return o.platform.is.mobile!==!0&&l.editable.value===!0&&t.dragOnlyRange!==!0?{onFocus:()=>{l.focus.value=R},onBlur:s.onBlur,onKeydown:ne,onKeyup:s.onKeyup}:{}}const J=g(()=>t.dragOnlyRange!==!0?l.tabindex.value:null),z=g(()=>o.platform.is.mobile!==!0&&(t.dragRange||t.dragOnlyRange===!0)?l.tabindex.value:null),Y=oe(null),$=g(()=>O("min")),Q=s.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:Y,key:"tmin",...$.value,tabindex:J.value}),ratio:T,label:g(()=>t.leftLabelValue!==void 0?t.leftLabelValue:v.value.min),thumbColor:g(()=>t.leftThumbColor||t.thumbColor||t.color),labelColor:g(()=>t.leftLabelColor||t.labelColor),labelTextColor:g(()=>t.leftLabelTextColor||t.labelTextColor)}),_e=g(()=>O("max")),Me=s.getThumbRenderFn({focusValue:"max",getNodeData:()=>({..._e.value,key:"tmax",tabindex:J.value}),ratio:S,label:g(()=>t.rightLabelValue!==void 0?t.rightLabelValue:v.value.max),thumbColor:g(()=>t.rightThumbColor||t.thumbColor||t.color),labelColor:g(()=>t.rightLabelColor||t.labelColor),labelTextColor:g(()=>t.rightLabelTextColor||t.labelTextColor)});function ye(R){(v.value.min!==t.modelValue.min||v.value.max!==t.modelValue.max)&&n("update:modelValue",{...v.value}),R===!0&&n("change",{...v.value})}function Re(R){const{left:ie,top:re,width:he,height:se}=c.value.getBoundingClientRect(),we=t.dragOnlyRange===!0?0:t.vertical===!0?Y.value.offsetHeight/(2*se):Y.value.offsetWidth/(2*he),D={left:ie,top:re,width:he,height:se,valueMin:v.value.min,valueMax:v.value.max,ratioMin:m.value,ratioMax:w.value},Pe=s.getDraggingRatio(R,D);return t.dragOnlyRange!==!0&&Pe<D.ratioMin+we?D.type=hi.MIN:t.dragOnlyRange===!0||Pe<D.ratioMax-we?t.dragRange===!0||t.dragOnlyRange===!0?(D.type=hi.RANGE,Object.assign(D,{offsetRatio:Pe,offsetModel:s.convertRatioToModel(Pe),rangeValue:D.valueMax-D.valueMin,rangeRatio:D.ratioMax-D.ratioMin})):D.type=D.ratioMax-Pe<Pe-D.ratioMin?hi.MAX:hi.MIN:D.type=hi.MAX,D}function be(R,ie=l.dragging.value){let re;const he=s.getDraggingRatio(R,ie),se=s.convertRatioToModel(he);switch(ie.type){case hi.MIN:he<=ie.ratioMax?(re={minR:he,maxR:ie.ratioMax,min:se,max:ie.valueMax},l.focus.value="min"):(re={minR:ie.ratioMax,maxR:he,min:ie.valueMax,max:se},l.focus.value="max");break;case hi.MAX:he>=ie.ratioMin?(re={minR:ie.ratioMin,maxR:he,min:ie.valueMin,max:se},l.focus.value="max"):(re={minR:he,maxR:ie.ratioMin,min:se,max:ie.valueMin},l.focus.value="min");break;case hi.RANGE:const we=he-ie.offsetRatio,D=Zt(ie.ratioMin+we,0,1-ie.rangeRatio),Pe=se-ie.offsetModel,k=Zt(ie.valueMin+Pe,t.min,t.max-ie.rangeValue);re={minR:D,maxR:D+ie.rangeRatio,min:parseFloat(k.toFixed(l.decimals.value)),max:parseFloat((k+ie.rangeValue).toFixed(l.decimals.value))},l.focus.value="both";break}v.value=v.value.min===null||v.value.max===null?{min:re.min||t.min,max:re.max||t.max}:{min:re.min,max:re.max},t.snap!==!0||t.step===0?(h.value=re.minR,f.value=re.maxR):(h.value=s.convertModelToRatio(v.value.min),f.value=s.convertModelToRatio(v.value.max))}function ne(R){if(!Hl.includes(R.keyCode))return;ut(R);const ie=([34,33].includes(R.keyCode)?10:1)*l.step.value,re=([34,37,40].includes(R.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*ie;if(l.focus.value==="both"){const he=v.value.max-v.value.min,se=Zt(parseFloat((v.value.min+re).toFixed(l.decimals.value)),l.innerMin.value,l.innerMax.value-he);v.value={min:se,max:parseFloat((se+he).toFixed(l.decimals.value))}}else{if(l.focus.value===!1)return;{const he=l.focus.value;v.value={...v.value,[he]:Zt(parseFloat((v.value[he]+re).toFixed(l.decimals.value)),he==="min"?l.innerMin.value:v.value.min,he==="max"?l.innerMax.value:v.value.max)}}}ye()}return()=>{const R=s.getContent(M,z,E,ie=>{ie.push(Q(),Me())});return x("div",{ref:c,class:"q-range "+l.classes.value+(t.modelValue.min===null||t.modelValue.max===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":t.modelValue.min+"|"+t.modelValue.max},R)}}}),Ew=Ke({name:"QCardActions",props:{...lc,vertical:Boolean},setup(t,{slots:n}){const o=uc(t),l=g(()=>`q-card__actions ${o.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>x("div",{class:l.value},kt(n.default))}}),Ow={name:"table-filters",data(){return{numBathRange:[1,2,3,4,5],numRange:[1,2,3,4,5,6,7,8]}},methods:{},computed:{filters(){return this.$store.state.filters}}};const Iw={class:"table-filters"},Bw=ge("div",{class:"text-h6"},"Filter Options",-1),zw=ge("label",{class:"label label-1"},"Finished Sq. Foot:",-1),$w={class:"q-pa-sm"},Rw=ge("label",{class:"label label-1"},"Price Per Sq. Foot:",-1),qw={class:"q-pa-sm"},Dw=ge("label",{class:"label label-1"},"Last Sale Amount:",-1),Fw={class:"q-pa-sm"},Nw=ge("label",{class:"label"},"# of Beds",-1),Zw=ge("label",{class:"label"},"# of Bathrooms",-1);function Vw(t,n,o,l,s,c){return qe(),We("div",Iw,[ae(Qs,{style:{width:"500px",height:"auto"}},{default:He(()=>[ae(Si,{class:"bg-primary text-white q-mb-lg"},{default:He(()=>[Bw]),_:1}),ae(Si,{class:"sqftRange no-wrap"},{default:He(()=>[zw,ge("div",$w,[ae(_o,{color:"secondary"},{default:He(()=>[Ui(St(t.filters.finishedSquareFtRange.min)+" to "+St(t.filters.finishedSquareFtRange.max),1)]),_:1}),ae(go,{modelValue:t.filters.finishedSquareFtRange,"onUpdate:modelValue":n[0]||(n[0]=h=>t.filters.finishedSquareFtRange=h),min:0,max:9500,step:10},null,8,["modelValue"])])]),_:1}),ae(Si,{class:"sqftRange no-wrap"},{default:He(()=>[Rw,ge("div",qw,[ae(_o,{color:"secondary"},{default:He(()=>[Ui(St(t.filters.squareFtRange.min)+" to "+St(t.filters.squareFtRange.max),1)]),_:1}),ae(go,{modelValue:t.filters.squareFtRange,"onUpdate:modelValue":n[1]||(n[1]=h=>t.filters.squareFtRange=h),min:0,max:500,step:1},null,8,["modelValue"])])]),_:1}),ae(Si,{class:"lastPriceRange no-wrap"},{default:He(()=>[Dw,ge("div",Fw,[ae(_o,{color:"secondary"},{default:He(()=>[Ui(St(t.filters.lastPriceRange.min)+" to "+St(t.filters.lastPriceRange.max),1)]),_:1}),ae(go,{modelValue:t.filters.lastPriceRange,"onUpdate:modelValue":n[2]||(n[2]=h=>t.filters.lastPriceRange=h),min:2e4,max:1e6,step:1e4},null,8,["modelValue"])])]),_:1}),ae(Si,{class:"beds no-wrap"},{default:He(()=>[Nw,ae(wa,{square:"",outlined:"",modelValue:t.filters.numOfBeds,"onUpdate:modelValue":n[3]||(n[3]=h=>t.filters.numOfBeds=h),options:t.numRange,label:"Beds"},null,8,["modelValue","options"])]),_:1}),ae(Si,{class:"bathrooms no-wrap"},{default:He(()=>[Zw,ae(wa,{square:"",outlined:"",modelValue:t.filters.numOfBathrooms,"onUpdate:modelValue":n[4]||(n[4]=h=>t.filters.numOfBathrooms=h),options:t.numBathRange,label:"Bathrooms"},null,8,["modelValue","options"])]),_:1}),ae(Ew,{class:"q-mt-md actions"},{default:He(()=>[ae(xt,{label:"Apply",color:"blue",onClick:n[5]||(n[5]=h=>t.$emit("update:filters",t.filters))}),ae(xt,{label:"Clear",color:"black",onClick:n[6]||(n[6]=h=>t.$emit("clear:filters"))})]),_:1})]),_:1})])}var Ul=ai(Ow,[["render",Vw]]),Hw={name:"table",data(){return{filterDialog:!1,maximizedToggle:!1,columns:[{name:"address",required:!0,label:"Address",align:"left",field:t=>t.address,format:t=>`${t}`,sortable:!0},{name:"finishedSqFt",label:"Finished SqFt",field:t=>t.finishedSqFt,format:t=>`${t}`,sortable:!0},{name:"rhcPsf",label:"RHC Price per SqFt",field:t=>t.rhcPsf,sortable:!0},{name:"lastSaleAmount",label:"Last Sale Amount",field:"lastSaleAmount",format:t=>"$"+t.toLocaleString("en-Us"),sortable:!0},{name:"lastSaleDate",label:"Last Sale Date",field:"lastSaleDate",sortable:!0},{name:"appraisalSale",label:"Appraisal Sale Amount",field:t=>t.appraisalSale,format:t=>"$"+t.toLocaleString("en-Us"),sortable:!0},{name:"appraisalDate",label:"Last Appraisal Date",field:"appraisalDate",sortable:!0},{label:"Zip Code",field:"zipCode"},{name:"bedrooms",label:"BedRooms",field:t=>t.bedrooms,sortable:!0},{name:"fullBath",label:"Baths",field:t=>t.fullBath,sortable:!0},{label:"Auditor Link",field:"parcelId",dataFormat:this.parcelLink}],excelData:[],filteredFeatures:this.$store.state.features,searchText:null,sheet:{}}},components:{TableFilters:Ul},mounted(){ha.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,o=[],l=0,s=n.length;for(;l<s;)o.push({id:l,name:n[l]}),l++;this.autoAddress=o}).catch(()=>{console.log("----ERROR----")})},methods:{clearFilters(){this.filteredFeatures=this.$store.state.features,this.filterDialog=!1},customSort(t,n,o){const l=[...t];return n&&l.sort((s,c)=>{const h=o?c:s,f=o?s:c;return n==="name"?h[n]>f[n]?1:h[n]<f[n]?-1:0:parseFloat(h[n])-parseFloat(f[n])}),l},exportAsExcel(){},highLighter(t){if(this.searchText==t)return"featured-row"},setFeatureFromTable(t){const n=this.features.find(o=>t.some(l=>o.properties.parcelId===l.parcelId));this.setSelectedFeature(n)},parcelLink:function(t){return"https://wedge.hcauditor.org/view/re/"+t+"/2021/summary"},getPropertyValue(t,n){return t[n]},updateTable(t){this.filterDialog=!1,t.dateRange.from.split("/");const[n,o,l]=t.dateRange.to.split("/"),s=`${n}-${l}-${o}`,c=new Date(s);this.filteredFeatures=this.$store.state.features.filter(h=>(console.log("date",c),h.bedrooms===t.numOfBeds&&h.fullBath===t.numOfBathrooms&&h.lastSaleAmount>=t.lastPriceRange.min&&h.lastSaleAmount<=t.lastPriceRange.max&&h.rhcPsf>=t.squareFtRange.min&&h.finishedSqFt>=t.finishedSquareFtRange.min&&h.finishedSqFt<=t.finishedSquareFtRange.max))},_filter:Lo},computed:{tableData(){return this.filteredFeatures}}};const Uw={class:"result-table"},jw={class:"result-table_btns"},Ww={class:"table_btns_search"};function Gw(t,n,o,l,s,c){const h=Vt("TableFilters");return qe(),We("div",Uw,[ae(fi,{name:"fas fa-filter",color:"secondary",size:"1.5rem",style:{float:"left","margin-bottom":"1rem"},class:"filter-icon",onClick:n[0]||(n[0]=f=>t.filterDialog=!t.filterDialog)}),ae(Vo,{class:"search-popup",dark:!0,modelValue:t.filterDialog,"onUpdate:modelValue":n[1]||(n[1]=f=>t.filterDialog=f),maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:He(()=>[ae(h,{"onUpdate:filters":t.updateTable,"onClear:filters":t.clearFilters},null,8,["onUpdate:filters","onClear:filters"])]),_:1},8,["modelValue","maximized"]),ae(ww,{class:"my-sticky-header-table",title:"Results",rows:t.tableData,columns:t.columns,"rows-per-page-options":[10],"row-key":t.name,pagination:t.pagination,"onUpdate:pagination":n[2]||(n[2]=f=>t.pagination=f),flat:"",bordered:""},null,8,["rows","columns","row-key","pagination"]),ge("div",jw,[ge("div",Ww,[ae(xt,{flattened:"",color:"primary",size:t.md,label:"Search",onClick:n[3]||(n[3]=f=>t.$emit("openSearch"))},null,8,["size"])])])])}var Kw=ai(Hw,[["render",Gw]]),Yw={name:"dashboard",data(){return{coords:[],dialog:!0,maximizedToggle:!1,searchType:null,tableData:[]}},components:{MapTest:gl,SearchBar:xb,Summary:Rb,Table:Kw,TableFilters:Ul},methods:{handleSearchRequest(t){this.dialog=!1,this.tableData=t.tableData,this.searchType=t.searchType},updateMarkers(t){console.log("updateMarkers",t),this.coords=t}}};const Qw={class:"dashboard"},Xw=Ui("Minimize"),Jw=Ui("Maximize"),e0=Ui("Close"),t0={key:0};function i0(t,n,o,l,s,c){const h=Vt("search-bar"),f=Vt("Summary"),v=Vt("Table"),y=Vt("map-test");return qe(),We("div",Qw,[ae(Vo,{class:"search-popup",modelValue:t.dialog,"onUpdate:modelValue":n[3]||(n[3]=m=>t.dialog=m),persistent:"","full-width":"",maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:He(()=>[ae(Qs,null,{default:He(()=>[ae(Pc,{class:"bg-primary"},{default:He(()=>[ae(yc),ae(xt,{dense:"",flat:"",icon:"minimize",onClick:n[0]||(n[0]=m=>t.maximizedToggle=!1),disable:!t.maximizedToggle},{default:He(()=>[t.maximizedToggle?(qe(),ra(oo,{key:0,class:"bg-black text-white"},{default:He(()=>[Xw]),_:1})):ni("",!0)]),_:1},8,["disable"]),ae(xt,{dense:"",flat:"",icon:"crop_square",onClick:n[1]||(n[1]=m=>t.maximizedToggle=!0),disable:t.maximizedToggle},{default:He(()=>[t.maximizedToggle?ni("",!0):(qe(),ra(oo,{key:0,class:"bg-black text-white"},{default:He(()=>[Jw]),_:1}))]),_:1},8,["disable"]),Eo((qe(),ra(xt,{dense:"",flat:"",icon:"close"},{default:He(()=>[ae(oo,{class:"bg-black text-white"},{default:He(()=>[e0]),_:1})]),_:1})),[[$c]])]),_:1}),ae(Si,{class:"q-pt-none q-mt-lg"},{default:He(()=>[ae(h,{onCloseDialog:t.handleSearchRequest,onCoordUpdate:n[2]||(n[2]=m=>t.updateMarkers(m))},null,8,["onCloseDialog"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),t.dialog?ni("",!0):(qe(),We("div",t0,[ae(f),ae(v,{propyData:"tableData",selectedSearchOptionType:"searchType",onOpenSearch:n[4]||(n[4]=m=>t.dialog=!0)}),ae(y,{class:"dashboard-map",latlong:t.coords},null,8,["latlong"])]))])}var s0=ai(Yw,[["render",i0]]);export{s0 as default};
