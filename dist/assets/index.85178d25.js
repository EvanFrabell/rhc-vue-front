var Nu=Object.defineProperty;var Zu=(t,n,a)=>n in t?Nu(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var xi=(t,n,a)=>(Zu(t,typeof n!="symbol"?n+"":n,a),a);import{U as Vu,V as $r,q as S,n as Ke,W as Hu,x as ae,X as An,H as Ti,C as st,Y as hi,j as ze,F as Po,k as vt,m as et,Z as Hi,$ as kt,a0 as Rs,a1 as ao,a2 as Uu,a3 as ju,a4 as Wu,a5 as Gu,h as _,M as mt,T as uo,I as Lt,B as ut,a6 as co,a7 as Ku,a8 as qs,a9 as Ds,u as La,p as Aa,aa as $s,J as fi,v as Yu,ab as Qu,ac as Xu,ad as Ju,ae as Fs,af as kn,ag as Ns,y as ec,ah as Ma,D as Zs,E as Vs,ai as vn,A as tc,aj as ic,N as ii,L as nc,ak as Mn,_ as oi,o as De,c as We,a as oe,al as ct,t as wt,e as ni,am as za,an as Hs,b as _e,ao as Ln,ap as Ea,aq as Us,ar as Sn,as as ho,at as gn,au as Fr,av as oc,aw as Vt,w as He,ax as ro,ay as ac,Q as St,az as Ni,aA as fo,aB as Nr,aC as so,aD as rc,z as _n,aE as sc,aF as aa,aG as lc,aH as uc,f as Ui}from"./index.46b29080.js";import{r as Zr,b as cc,u as It,a as Bt,c as js,d as Oa,e as Ws,f as Gs,g as Ks,h as Ia,i as dc,j as Vr,k as hc,n as Hr,Q as Ci,l as Ys,m as Zt}from"./QInput.4a951190.js";import{Q as Qs,a as wi}from"./QCard.4a694610.js";const fc=[null,document,document.body,document.scrollingElement,document.documentElement];function Ba(t,n){let a=Vu(n);if(a===void 0){if(t==null)return window;a=t.closest(".scroll,.scroll-y,.overflow-auto")}return fc.includes(a)?window:a}function pc(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function mc(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let Jn;function vc(){if(Jn!==void 0)return Jn;const t=document.createElement("p"),n=document.createElement("div");$r(t,{width:"100%",height:"200px"}),$r(n,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(t),document.body.appendChild(n);const a=t.offsetWidth;n.style.overflow="scroll";let l=t.offsetWidth;return a===l&&(l=n.clientWidth),n.remove(),Jn=a-l,Jn}function gc(t,n=!0){return!t||t.nodeType!==Node.ELEMENT_NODE?!1:n?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"]))}const _c=S("div",{class:"q-space"});var bc=Ke({name:"QSpace",setup(){return()=>_c}});function po(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),Hu.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Xs={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Js({showing:t,avoidEmit:n,configureAnchorEl:a}){const{props:l,proxy:s,emit:c}=et(),d=ae(null);let f;function p(w){return d.value===null?!1:w===void 0||w.touches===void 0||w.touches.length<=1}const b={};a===void 0&&(Object.assign(b,{hide(w){s.hide(w)},toggle(w){s.toggle(w),w.qAnchorHandled=!0},toggleKey(w){An(w,13)===!0&&b.toggle(w)},contextClick(w){s.hide(w),Ti(w),st(()=>{s.show(w),w.qAnchorHandled=!0})},prevent:Ti,mobileTouch(w){if(b.mobileCleanup(w),p(w)!==!0)return;s.hide(w),d.value.classList.add("non-selectable");const A=w.target;hi(b,"anchor",[[A,"touchmove","mobileCleanup","passive"],[A,"touchend","mobileCleanup","passive"],[A,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{s.show(w),w.qAnchorHandled=!0},300)},mobileCleanup(w){d.value.classList.remove("non-selectable"),clearTimeout(f),t.value===!0&&w!==void 0&&po()}}),a=function(w=l.contextMenu){if(l.noParentEvent===!0||d.value===null)return;let A;w===!0?s.$q.platform.is.mobile===!0?A=[[d.value,"touchstart","mobileTouch","passive"]]:A=[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:A=[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],hi(b,"anchor",A)});function m(){Hi(b,"anchor")}function x(w){for(d.value=w;d.value.classList.contains("q-anchor--skip");)d.value=d.value.parentNode;a()}function T(){if(l.target===!1||l.target===""||s.$el.parentNode===null)d.value=null;else if(l.target===!0)x(s.$el.parentNode);else{let w=l.target;if(typeof l.target=="string")try{w=document.querySelector(l.target)}catch{w=void 0}w!=null?(d.value=w.$el||w,a()):(d.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return ze(()=>l.contextMenu,w=>{d.value!==null&&(m(),a(w))}),ze(()=>l.target,()=>{d.value!==null&&m(),T()}),ze(()=>l.noParentEvent,w=>{d.value!==null&&(w===!0?m():a())}),Po(()=>{T(),n!==!0&&l.modelValue===!0&&d.value===null&&c("update:modelValue",!1)}),vt(()=>{clearTimeout(f),m()}),{anchorEl:d,canShow:p,anchorEvents:b}}function el(t,n){const a=ae(null);let l;function s(f,p){const b=`${p!==void 0?"add":"remove"}EventListener`,m=p!==void 0?p:l;f!==window&&f[b]("scroll",m,kt.passive),window[b]("scroll",m,kt.passive),l=p}function c(){a.value!==null&&(s(a.value),a.value=null)}const d=ze(()=>t.noParentEvent,()=>{a.value!==null&&(c(),n())});return vt(d),{localScrollTarget:a,unconfigureScrollTarget:c,changeScrollEvent:s}}const Ra={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},qa=["before-show","show","before-hide","hide"];function Da({showing:t,canShow:n,hideOnRouteChange:a,handleShow:l,handleHide:s,processOnMount:c}){const d=et(),{props:f,emit:p,proxy:b}=d;let m;function x(B){t.value===!0?A(B):T(B)}function T(B){if(f.disable===!0||B!==void 0&&B.qAnchorHandled===!0||n!==void 0&&n(B)!==!0)return;const Y=f["onUpdate:modelValue"]!==void 0;Y===!0&&(p("update:modelValue",!0),m=B,st(()=>{m===B&&(m=void 0)})),(f.modelValue===null||Y===!1)&&w(B)}function w(B){t.value!==!0&&(t.value=!0,p("before-show",B),l!==void 0?l(B):p("show",B))}function A(B){if(f.disable===!0)return;const Y=f["onUpdate:modelValue"]!==void 0;Y===!0&&(p("update:modelValue",!1),m=B,st(()=>{m===B&&(m=void 0)})),(f.modelValue===null||Y===!1)&&z(B)}function z(B){t.value!==!1&&(t.value=!1,p("before-hide",B),s!==void 0?s(B):p("hide",B))}function E(B){f.disable===!0&&B===!0?f["onUpdate:modelValue"]!==void 0&&p("update:modelValue",!1):B===!0!==t.value&&(B===!0?w:z)(m)}ze(()=>f.modelValue,E),a!==void 0&&Rs(d)===!0&&ze(()=>b.$route.fullPath,()=>{a.value===!0&&t.value===!0&&A()}),c===!0&&Po(()=>{E(f.modelValue)});const J={show:T,hide:A,toggle:x};return Object.assign(b,J),J}const ji=[];function yc(t){return ji.find(n=>n.__qPortalInnerRef.value!==null&&n.__qPortalInnerRef.value.contains(t))}function tl(t,n){do{if(t.$options.name==="QMenu"){if(t.hide(n),t.$props.separateClosePopup===!0)return ao(t)}else if(t.__qPortalInnerRef!==void 0){const a=ao(t);return a!==void 0&&a.$options.name==="QPopupProxy"?(t.hide(n),a):t}t=ao(t)}while(t!=null)}function xc(t,n,a){for(;a!==0&&t!==void 0&&t!==null;){if(t.__qPortalInnerRef!==void 0){if(a--,t.$options.name==="QMenu"){t=tl(t,n);continue}t.hide(n)}t=ao(t)}}function wc(t){for(t=t.parent;t!=null;){if(t.type.name==="QGlobalDialog")return!0;if(t.type.name==="QDialog"||t.type.name==="QMenu")return!1;t=t.parent}return!1}function $a(t,n,a,l){const s=ae(!1),c=ae(!1);let d=null;const f={},p=l===!0&&wc(t);function b(x){if(x===!0){Zr(f),c.value=!0;return}c.value=!1,s.value===!1&&(p===!1&&d===null&&(d=Wu()),s.value=!0,ji.push(t.proxy),cc(f))}function m(x){if(c.value=!1,x!==!0)return;Zr(f),s.value=!1;const T=ji.indexOf(t.proxy);T>-1&&ji.splice(T,1),d!==null&&(Gu(d),d=null)}return Uu(()=>{m(!0)}),Object.assign(t.proxy,{__qPortalInnerRef:n}),{showPortal:b,hidePortal:m,portalIsActive:s,portalIsAccessible:c,renderPortal:()=>p===!0?a():s.value===!0?[S(ju,{to:d},a())]:void 0}}const Fa={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function il(t,n){const a=ae(n.value);return ze(n,l=>{st(()=>{a.value=l})}),{transition:_(()=>"q-transition--"+(a.value===!0?t.transitionHide:t.transitionShow)),transitionStyle:_(()=>`--q-transition-duration: ${t.transitionDuration}ms`)}}function Na(){let t;return vt(()=>{t=void 0}),{registerTick(n){t=n,st(()=>{t===n&&(t(),t=void 0)})},removeTick(){t=void 0}}}function Za(){let t;return vt(()=>{clearTimeout(t)}),{registerTimeout(n,a){clearTimeout(t),t=setTimeout(n,a)},removeTimeout(){clearTimeout(t)}}}let nl;const{notPassiveCapture:mo}=kt,Pi=[];function vo(t){clearTimeout(nl);const n=t.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let a=ji.length-1;for(;a>=0;){const l=ji[a].$;if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;a--}for(let l=Pi.length-1;l>=0;l--){const s=Pi[l];if((s.anchorEl.value===null||s.anchorEl.value.contains(n)===!1)&&(n===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(n)===!1))t.qClickOutside=!0,s.onClickOutside(t);else return}}function ol(t){Pi.push(t),Pi.length===1&&(document.addEventListener("mousedown",vo,mo),document.addEventListener("touchstart",vo,mo))}function go(t){const n=Pi.findIndex(a=>a===t);n>-1&&(Pi.splice(n,1),Pi.length===0&&(clearTimeout(nl),document.removeEventListener("mousedown",vo,mo),document.removeEventListener("touchstart",vo,mo)))}let Ur,jr;function _o(t){const n=t.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function al(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const ba={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{ba[`${t}#ltr`]=t,ba[`${t}#rtl`]=t});function bo(t,n){const a=t.split(" ");return{vertical:a[0],horizontal:ba[`${a[1]}#${n===!0?"rtl":"ltr"}`]}}function Sc(t,n){let{top:a,left:l,right:s,bottom:c,width:d,height:f}=t.getBoundingClientRect();return n!==void 0&&(a-=n[1],l-=n[0],c+=n[1],s+=n[0],d+=n[0],f+=n[1]),{top:a,left:l,right:s,bottom:c,width:d,height:f,middle:l+(s-l)/2,center:a+(c-a)/2}}function Tc(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function rl(t){if(mt.is.ios===!0&&window.visualViewport!==void 0){const f=document.body.style,{offsetLeft:p,offsetTop:b}=window.visualViewport;p!==Ur&&(f.setProperty("--q-pe-left",p+"px"),Ur=p),b!==jr&&(f.setProperty("--q-pe-top",b+"px"),jr=b)}let n;const{scrollLeft:a,scrollTop:l}=t.el;if(t.absoluteOffset===void 0)n=Sc(t.anchorEl,t.cover===!0?[0,0]:t.offset);else{const{top:f,left:p}=t.anchorEl.getBoundingClientRect(),b=f+t.absoluteOffset.top,m=p+t.absoluteOffset.left;n={top:b,left:m,width:1,height:1,right:m+1,center:b,middle:m,bottom:b+1}}let s={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};(t.fit===!0||t.cover===!0)&&(s.minWidth=n.width+"px",t.cover===!0&&(s.minHeight=n.height+"px")),Object.assign(t.el.style,s);const c=Tc(t.el),d={top:n[t.anchorOrigin.vertical]-c[t.selfOrigin.vertical],left:n[t.anchorOrigin.horizontal]-c[t.selfOrigin.horizontal]};Cc(d,n,c,t.anchorOrigin,t.selfOrigin),s={top:d.top+"px",left:d.left+"px"},d.maxHeight!==void 0&&(s.maxHeight=d.maxHeight+"px",n.height>d.maxHeight&&(s.minHeight=s.maxHeight)),d.maxWidth!==void 0&&(s.maxWidth=d.maxWidth+"px",n.width>d.maxWidth&&(s.minWidth=s.maxWidth)),Object.assign(t.el.style,s),t.el.scrollTop!==l&&(t.el.scrollTop=l),t.el.scrollLeft!==a&&(t.el.scrollLeft=a)}function Cc(t,n,a,l,s){const c=a.bottom,d=a.right,f=vc(),p=window.innerHeight-f,b=document.body.clientWidth;if(t.top<0||t.top+c>p)if(s.vertical==="center")t.top=n[l.vertical]>p/2?Math.max(0,p-c):0,t.maxHeight=Math.min(c,p);else if(n[l.vertical]>p/2){const m=Math.min(p,l.vertical==="center"?n.center:l.vertical===s.vertical?n.bottom:n.top);t.maxHeight=Math.min(c,m),t.top=Math.max(0,m-c)}else t.top=Math.max(0,l.vertical==="center"?n.center:l.vertical===s.vertical?n.top:n.bottom),t.maxHeight=Math.min(c,p-t.top);if(t.left<0||t.left+d>b)if(t.maxWidth=Math.min(d,b),s.horizontal==="middle")t.left=n[l.horizontal]>b/2?Math.max(0,b-d):0;else if(n[l.horizontal]>b/2){const m=Math.min(b,l.horizontal==="middle"?n.middle:l.horizontal===s.horizontal?n.right:n.left);t.maxWidth=Math.min(d,m),t.left=Math.max(0,m-t.maxWidth)}else t.left=Math.max(0,l.horizontal==="middle"?n.middle:l.horizontal===s.horizontal?n.left:n.right),t.maxWidth=Math.min(d,b-t.left)}var ra=Ke({name:"QTooltip",inheritAttrs:!1,props:{...Xs,...Ra,...Fa,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:_o},self:{type:String,default:"top middle",validator:_o},offset:{type:Array,default:()=>[14,14],validator:al},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...qa],setup(t,{slots:n,emit:a,attrs:l}){let s,c;const d=et(),{proxy:{$q:f}}=d,p=ae(null),b=ae(!1),m=_(()=>bo(t.anchor,f.lang.rtl)),x=_(()=>bo(t.self,f.lang.rtl)),T=_(()=>t.persistent!==!0),{registerTick:w,removeTick:A}=Na(),{registerTimeout:z,removeTimeout:E}=Za(),{transition:J,transitionStyle:B}=il(t,b),{localScrollTarget:Y,changeScrollEvent:R,unconfigureScrollTarget:Q}=el(t,M),{anchorEl:ve,canShow:Ae,anchorEvents:be}=Js({showing:b,configureAnchorEl:k}),{show:qe,hide:ye}=Da({showing:b,canShow:Ae,handleShow:re,handleHide:de,hideOnRouteChange:T,processOnMount:!0});Object.assign(be,{delayShow:$,delayHide:Pe});const{showPortal:ne,hidePortal:q,renderPortal:ie}=$a(d,p,W);if(f.platform.is.mobile===!0){const H={anchorEl:ve,innerRef:p,onClickOutside(F){return ye(F),F.target.classList.contains("q-dialog__backdrop")&&ut(F),!0}},ee=_(()=>t.modelValue===null&&t.persistent!==!0&&b.value===!0);ze(ee,F=>{(F===!0?ol:go)(H)}),vt(()=>{go(H)})}function re(H){A(),E(),ne(),w(()=>{c=new MutationObserver(()=>xe()),c.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),xe(),M()}),s===void 0&&(s=ze(()=>f.screen.width+"|"+f.screen.height+"|"+t.self+"|"+t.anchor+"|"+f.lang.rtl,xe)),z(()=>{ne(!0),a("show",H)},t.transitionDuration)}function de(H){A(),E(),q(),se(),z(()=>{q(!0),a("hide",H)},t.transitionDuration)}function se(){c!==void 0&&(c.disconnect(),c=void 0),s!==void 0&&(s(),s=void 0),Q(),Hi(be,"tooltipTemp")}function xe(){const H=p.value;ve.value===null||!H||rl({el:H,offset:t.offset,anchorEl:ve.value,anchorOrigin:m.value,selfOrigin:x.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function $(H){if(f.platform.is.mobile===!0){po(),document.body.classList.add("non-selectable");const ee=ve.value,F=["touchmove","touchcancel","touchend","click"].map(G=>[ee,G,"delayHide","passiveCapture"]);hi(be,"tooltipTemp",F)}z(()=>{qe(H)},t.delay)}function Pe(H){E(),f.platform.is.mobile===!0&&(Hi(be,"tooltipTemp"),po(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),z(()=>{ye(H)},t.hideDelay)}function k(){if(t.noParentEvent===!0||ve.value===null)return;const H=f.platform.is.mobile===!0?[[ve.value,"touchstart","delayShow","passive"]]:[[ve.value,"mouseenter","delayShow","passive"],[ve.value,"mouseleave","delayHide","passive"]];hi(be,"anchor",H)}function M(){if(ve.value!==null||t.scrollTarget!==void 0){Y.value=Ba(ve.value,t.scrollTarget);const H=t.noParentEvent===!0?xe:ye;R(Y.value,H)}}function V(){return b.value===!0?S("div",{...l,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,B.value],role:"complementary"},Lt(n.default)):null}function W(){return S(uo,{name:J.value,appear:!0},V)}return vt(se),Object.assign(d.proxy,{updatePosition:xe}),ie}}),Pc=Ke({name:"QBar",props:{...It,dense:Boolean},setup(t,{slots:n}){const a=et(),l=Bt(t,a.proxy.$q),s=_(()=>`q-bar row no-wrap items-center q-bar--${t.dense===!0?"dense":"standard"}  q-bar--${l.value===!0?"dark":"light"}`);return()=>S("div",{class:s.value,role:"toolbar"},Lt(n.default))}});function kc(t,n,a){let l;function s(){l!==void 0&&(co.remove(l),l=void 0)}return vt(()=>{t.value===!0&&s()}),{removeFromHistory:s,addToHistory(){l={condition:()=>a.value===!0,handler:n},co.add(l)}}}let bn=0,sa,la,Tn,ua=!1,Wr,Gr,Zi;function Lc(t){Ac(t)&&ut(t)}function Ac(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const n=Ku(t),a=t.shiftKey&&!t.deltaX,l=!a&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),s=a||l?t.deltaY:t.deltaX;for(let c=0;c<n.length;c++){const d=n[c];if(gc(d,l))return l?s<0&&d.scrollTop===0?!0:s>0&&d.scrollTop+d.clientHeight===d.scrollHeight:s<0&&d.scrollLeft===0?!0:s>0&&d.scrollLeft+d.clientWidth===d.scrollWidth}return!0}function Kr(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function eo(t){ua!==!0&&(ua=!0,requestAnimationFrame(()=>{ua=!1;const{height:n}=t.target,{clientHeight:a,scrollTop:l}=document.scrollingElement;(Tn===void 0||n!==window.innerHeight)&&(Tn=a-n,document.scrollingElement.scrollTop=l),l>Tn&&(document.scrollingElement.scrollTop-=Math.ceil((l-Tn)/8))}))}function Yr(t){const n=document.body,a=window.visualViewport!==void 0;if(t==="add"){const{overflowY:l,overflowX:s}=window.getComputedStyle(n);sa=mc(window),la=pc(window),Wr=n.style.left,Gr=n.style.top,n.style.left=`-${sa}px`,n.style.top=`-${la}px`,s!=="hidden"&&(s==="scroll"||n.scrollWidth>window.innerWidth)&&n.classList.add("q-body--force-scrollbar-x"),l!=="hidden"&&(l==="scroll"||n.scrollHeight>window.innerHeight)&&n.classList.add("q-body--force-scrollbar-y"),n.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,mt.is.ios===!0&&(a===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",eo,kt.passiveCapture),window.visualViewport.addEventListener("scroll",eo,kt.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Kr,kt.passiveCapture))}mt.is.desktop===!0&&mt.is.mac===!0&&window[`${t}EventListener`]("wheel",Lc,kt.notPassive),t==="remove"&&(mt.is.ios===!0&&(a===!0?(window.visualViewport.removeEventListener("resize",eo,kt.passiveCapture),window.visualViewport.removeEventListener("scroll",eo,kt.passiveCapture)):window.removeEventListener("scroll",Kr,kt.passiveCapture)),n.classList.remove("q-body--prevent-scroll"),n.classList.remove("q-body--force-scrollbar-x"),n.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,n.style.left=Wr,n.style.top=Gr,window.scrollTo(sa,la),Tn=void 0)}function Mc(t){let n="add";if(t===!0){if(bn++,Zi!==void 0){clearTimeout(Zi),Zi=void 0;return}if(bn>1)return}else{if(bn===0||(bn--,bn>0))return;if(n="remove",mt.is.ios===!0&&mt.is.nativeMobile===!0){clearTimeout(Zi),Zi=setTimeout(()=>{Yr(n),Zi=void 0},100);return}}Yr(n)}function zc(){let t;return{preventBodyScroll(n){n!==t&&(t!==void 0||n===!0)&&(t=n,Mc(n))}}}const ki=[];let Ki;function Ec(t){Ki=t.keyCode===27}function Oc(){Ki===!0&&(Ki=!1)}function Ic(t){Ki===!0&&(Ki=!1,An(t,27)===!0&&ki[ki.length-1](t))}function sl(t){window[t]("keydown",Ec),window[t]("blur",Oc),window[t]("keyup",Ic),Ki=!1}function ll(t){mt.is.desktop===!0&&(ki.push(t),ki.length===1&&sl("addEventListener"))}function yo(t){const n=ki.indexOf(t);n>-1&&(ki.splice(n,1),ki.length===0&&sl("removeEventListener"))}const Li=[];function ul(t){Li[Li.length-1](t)}function cl(t){mt.is.desktop===!0&&(Li.push(t),Li.length===1&&document.body.addEventListener("focusin",ul))}function ya(t){const n=Li.indexOf(t);n>-1&&(Li.splice(n,1),Li.length===0&&document.body.removeEventListener("focusin",ul))}let to=0;const Bc={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Qr={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Va=Ke({name:"QDialog",inheritAttrs:!1,props:{...Ra,...Fa,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>t==="standard"||["top","bottom","left","right"].includes(t)}},emits:[...qa,"shake","click","escape-key"],setup(t,{slots:n,emit:a,attrs:l}){const s=et(),c=ae(null),d=ae(!1),f=ae(!1),p=ae(!1);let b,m=null,x,T;const w=_(()=>t.persistent!==!0&&t.noRouteDismiss!==!0&&t.seamless!==!0),{preventBodyScroll:A}=zc(),{registerTimeout:z,removeTimeout:E}=Za(),{registerTick:J,removeTick:B}=Na(),{showPortal:Y,hidePortal:R,portalIsAccessible:Q,renderPortal:ve}=$a(s,c,pe,!0),{hide:Ae}=Da({showing:d,hideOnRouteChange:w,handleShow:$,handleHide:Pe,processOnMount:!0}),{addToHistory:be,removeFromHistory:qe}=kc(d,Ae,w),ye=_(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${t.maximized===!0?"maximized":"minimized"} q-dialog__inner--${t.position} ${Bc[t.position]}`+(p.value===!0?" q-dialog__inner--animating":"")+(t.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(t.fullHeight===!0?" q-dialog__inner--fullheight":"")+(t.square===!0?" q-dialog__inner--square":"")),ne=_(()=>"q-transition--"+(t.transitionShow===void 0?Qr[t.position][0]:t.transitionShow)),q=_(()=>"q-transition--"+(t.transitionHide===void 0?Qr[t.position][1]:t.transitionHide)),ie=_(()=>f.value===!0?q.value:ne.value),re=_(()=>`--q-transition-duration: ${t.transitionDuration}ms`),de=_(()=>d.value===!0&&t.seamless!==!0),se=_(()=>t.autoClose===!0?{onClick:ee}:{}),xe=_(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${de.value===!0?"modal":"seamless"}`,l.class]);ze(d,D=>{st(()=>{f.value=D})}),ze(()=>t.maximized,D=>{d.value===!0&&H(D)}),ze(de,D=>{A(D),D===!0?(cl(G),ll(V)):(ya(G),yo(V))});function $(D){E(),B(),be(),m=t.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,H(t.maximized),Y(),p.value=!0,t.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),J(k)),z(()=>{if(s.proxy.$q.platform.is.ios===!0){if(t.seamless!==!0&&document.activeElement){const{top:K,bottom:Ie}=document.activeElement.getBoundingClientRect(),{innerHeight:Qe}=window,Be=window.visualViewport!==void 0?window.visualViewport.height:Qe;K>0&&Ie>Be/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Be,Ie>=Qe?1/0:Math.ceil(document.scrollingElement.scrollTop+Ie-Be/2))),document.activeElement.scrollIntoView()}T=!0,c.value.click(),T=!1}Y(!0),p.value=!1,a("show",D)},t.transitionDuration)}function Pe(D){E(),B(),qe(),W(!0),p.value=!0,R(),m!==null&&(m.focus(),m=null),z(()=>{R(!0),p.value=!1,a("hide",D)},t.transitionDuration)}function k(D){js(()=>{let K=c.value;K===null||K.contains(document.activeElement)===!0||(K=K.querySelector(D||"[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function M(){k(),a("shake");const D=c.value;D!==null&&(D.classList.remove("q-animate--scale"),D.classList.add("q-animate--scale"),clearTimeout(b),b=setTimeout(()=>{c.value!==null&&(D.classList.remove("q-animate--scale"),k())},170))}function V(){t.seamless!==!0&&(t.persistent===!0||t.noEscDismiss===!0?t.maximized!==!0&&t.noShake!==!0&&M():(a("escape-key"),Ae()))}function W(D){clearTimeout(b),(D===!0||d.value===!0)&&(H(!1),t.seamless!==!0&&(A(!1),ya(G),yo(V))),D!==!0&&(m=null)}function H(D){D===!0?x!==!0&&(to<1&&document.body.classList.add("q-body--dialog"),to++,x=!0):x===!0&&(to<2&&document.body.classList.remove("q-body--dialog"),to--,x=!1)}function ee(D){T!==!0&&(Ae(D),a("click",D))}function F(D){t.persistent!==!0&&t.noBackdropDismiss!==!0?Ae(D):t.noShake!==!0&&M()}function G(D){t.allowFocusOutside!==!0&&Q.value===!0&&qs(c.value,D.target)!==!0&&k('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:k,shake:M,__updateRefocusTarget(D){m=D||null}}),vt(W);function pe(){return S("div",{...l,class:xe.value},[S(uo,{name:"q-transition--fade",appear:!0},()=>de.value===!0?S("div",{class:"q-dialog__backdrop fixed-full",style:re.value,"aria-hidden":"true",onMousedown:F}):null),S(uo,{name:ie.value,appear:!0},()=>d.value===!0?S("div",{ref:c,class:ye.value,style:re.value,tabindex:-1,...se.value},Lt(n.default)):null)])}return ve}});function Xr(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const n=parseInt(t,10);return isNaN(n)?0:n}var Rc=Ds({name:"close-popup",beforeMount(t,{value:n}){const a={depth:Xr(n),handler(l){a.depth!==0&&setTimeout(()=>{const s=yc(t);s!==void 0&&xc(s,l,a.depth)})},handlerKey(l){An(l,13)===!0&&a.handler(l)}};t.__qclosepopup=a,t.addEventListener("click",a.handler),t.addEventListener("keyup",a.handlerKey)},updated(t,{value:n,oldValue:a}){n!==a&&(t.__qclosepopup.depth=Xr(n))},beforeUnmount(t){const n=t.__qclosepopup;t.removeEventListener("click",n.handler),t.removeEventListener("keyup",n.handlerKey),delete t.__qclosepopup}}),qc=Ke({name:"QField",inheritAttrs:!1,props:Oa,emits:Ws,setup(){return Gs(Ks())}});const Dc={xs:8,sm:10,md:14,lg:20,xl:24};var $c=Ke({name:"QChip",props:{...It,...La,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:n,emit:a}){const{proxy:{$q:l}}=et(),s=Bt(t,l),c=Aa(t,Dc),d=_(()=>t.selected===!0||t.icon!==void 0),f=_(()=>t.selected===!0?t.iconSelected||l.iconSet.chip.selected:t.icon),p=_(()=>t.iconRemove||l.iconSet.chip.remove),b=_(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),m=_(()=>{const E=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(E?` text-${E} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),x=_(()=>t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0});function T(E){E.keyCode===13&&w(E)}function w(E){t.disable||(a("update:selected",!t.selected),a("click",E))}function A(E){(E.keyCode===void 0||E.keyCode===13)&&(ut(E),t.disable===!1&&(a("update:modelValue",!1),a("remove")))}function z(){const E=[];b.value===!0&&E.push(S("div",{class:"q-focus-helper"})),d.value===!0&&E.push(S(fi,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const J=t.label!==void 0?[S("div",{class:"ellipsis"},[t.label])]:void 0;return E.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Yu(n.default,J))),t.iconRight&&E.push(S(fi,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&E.push(S(fi,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:p.value,...x.value,onClick:A,onKeyup:A})),E}return()=>{if(t.modelValue===!1)return;const E={class:m.value,style:c.value};return b.value===!0&&Object.assign(E,x.value,{onClick:w,onKeyup:T}),$s("div",E,z(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[Qu,t.ripple]])}}}),Fc=Ke({name:"QItem",props:{...It,...Xu,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:n,emit:a}){const{proxy:{$q:l}}=et(),s=Bt(t,l),{hasRouterLink:c,hasLink:d,linkProps:f,linkClass:p,linkTag:b,navigateToRouterLink:m}=Ju(),x=ae(null),T=ae(null),w=_(()=>t.clickable===!0||d.value===!0||t.tag==="label"),A=_(()=>t.disable!==!0&&w.value===!0),z=_(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(s.value===!0?" q-item--dark":"")+(d.value===!0&&t.active===null?p.value:t.active===!0?`${t.activeClass!==void 0?` ${t.activeClass}`:""} q-item--active`:"")+(t.disable===!0?" disabled":"")+(A.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),E=_(()=>{if(t.insetLevel===void 0)return null;const R=l.lang.rtl===!0?"Right":"Left";return{["padding"+R]:16+t.insetLevel*56+"px"}});function J(R){A.value===!0&&(T.value!==null&&(R.qKeyEvent!==!0&&document.activeElement===x.value?T.value.focus():document.activeElement===T.value&&x.value.focus()),c.value===!0&&m(R),a("click",R))}function B(R){if(A.value===!0&&An(R,13)===!0){ut(R),R.qKeyEvent=!0;const Q=new MouseEvent("click",R);Q.qKeyEvent=!0,x.value.dispatchEvent(Q)}a("keyup",R)}function Y(){const R=Fs(n.default,[]);return A.value===!0&&R.unshift(S("div",{class:"q-focus-helper",tabindex:-1,ref:T})),R}return()=>{const R={ref:x,class:z.value,style:E.value,onClick:J,onKeyup:B};return A.value===!0?(R.tabindex=t.tabindex||"0",Object.assign(R,f.value)):w.value===!0&&(R["aria-disabled"]="true"),S(b.value,R,Y())}}}),Nc=Ke({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:n}){const a=_(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>S("div",{class:a.value},Lt(n.default))}}),Zc=Ke({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:n}){const a=_(()=>parseInt(t.lines,10)),l=_(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),s=_(()=>t.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>S("div",{style:s.value,class:l.value},Lt(n.default))}}),Vc=Ke({name:"QMenu",inheritAttrs:!1,props:{...Xs,...Ra,...It,...Fa,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:_o},self:{type:String,validator:_o},offset:{type:Array,validator:al},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...qa,"click","escape-key"],setup(t,{slots:n,emit:a,attrs:l}){let s=null,c,d,f;const p=et(),{proxy:b}=p,{$q:m}=b,x=ae(null),T=ae(!1),w=_(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),A=Bt(t,m),{registerTick:z,removeTick:E}=Na(),{registerTimeout:J,removeTimeout:B}=Za(),{transition:Y,transitionStyle:R}=il(t,T),{localScrollTarget:Q,changeScrollEvent:ve,unconfigureScrollTarget:Ae}=el(t,H),{anchorEl:be,canShow:qe}=Js({showing:T}),{hide:ye}=Da({showing:T,canShow:qe,handleShow:M,handleHide:V,hideOnRouteChange:w,processOnMount:!0}),{showPortal:ne,hidePortal:q,renderPortal:ie}=$a(p,x,D),re={anchorEl:be,innerRef:x,onClickOutside(K){if(t.persistent!==!0&&T.value===!0)return ye(K),(K.type==="touchstart"||K.target.classList.contains("q-dialog__backdrop"))&&ut(K),!0}},de=_(()=>bo(t.anchor||(t.cover===!0?"center middle":"bottom start"),m.lang.rtl)),se=_(()=>t.cover===!0?de.value:bo(t.self||"top start",m.lang.rtl)),xe=_(()=>(t.square===!0?" q-menu--square":"")+(A.value===!0?" q-menu--dark q-dark":"")),$=_(()=>t.autoClose===!0?{onClick:ee}:{}),Pe=_(()=>T.value===!0&&t.persistent!==!0);ze(Pe,K=>{K===!0?(ll(G),ol(re)):(yo(G),go(re))});function k(){js(()=>{let K=x.value;K&&K.contains(document.activeElement)!==!0&&(K=K.querySelector("[autofocus], [data-autofocus]")||K,K.focus({preventScroll:!0}))})}function M(K){if(E(),B(),s=t.noRefocus===!1?document.activeElement:null,cl(F),ne(),H(),c=void 0,K!==void 0&&(t.touchPosition||t.contextMenu)){const Ie=kn(K);if(Ie.left!==void 0){const{top:Qe,left:Be}=be.value.getBoundingClientRect();c={left:Ie.left-Be,top:Ie.top-Qe}}}d===void 0&&(d=ze(()=>m.screen.width+"|"+m.screen.height+"|"+t.self+"|"+t.anchor+"|"+m.lang.rtl,pe)),t.noFocus!==!0&&document.activeElement.blur(),z(()=>{pe(),t.noFocus!==!0&&k()}),J(()=>{m.platform.is.ios===!0&&(f=t.autoClose,x.value.click()),pe(),ne(!0),a("show",K)},t.transitionDuration)}function V(K){E(),B(),q(),W(!0),s!==null&&(K===void 0||K.qClickOutside!==!0)&&(s.focus(),s=null),J(()=>{q(!0),a("hide",K)},t.transitionDuration)}function W(K){c=void 0,d!==void 0&&(d(),d=void 0),(K===!0||T.value===!0)&&(ya(F),Ae(),go(re),yo(G)),K!==!0&&(s=null)}function H(){(be.value!==null||t.scrollTarget!==void 0)&&(Q.value=Ba(be.value,t.scrollTarget),ve(Q.value,pe))}function ee(K){f!==!0?(tl(b,K),a("click",K)):f=!1}function F(K){Pe.value===!0&&t.noFocus!==!0&&qs(x.value,K.target)!==!0&&k()}function G(K){a("escape-key"),ye(K)}function pe(){const K=x.value;K===null||be.value===null||rl({el:K,offset:t.offset,anchorEl:be.value,anchorOrigin:de.value,selfOrigin:se.value,absoluteOffset:c,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function D(){return S(uo,{name:Y.value,appear:!0},()=>T.value===!0?S("div",{...l,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+xe.value,l.class],style:[l.style,R.value],...$.value},Lt(n.default)):null)}return vt(W),Object.assign(b,{focus:k,updatePosition:pe}),ie}});let xo=!1;{const t=document.createElement("div"),n=document.createElement("div");t.setAttribute("dir","rtl"),t.style.width="1px",t.style.height="1px",t.style.overflow="auto",n.style.width="1000px",n.style.height="1px",document.body.appendChild(t),t.appendChild(n),t.scrollLeft=-1e3,xo=t.scrollLeft>=0,t.remove()}const Ot=1e3,Hc=["start","center","end","start-force","center-force","end-force"],dl=Array.prototype.filter,Uc=window.getComputedStyle(document.body).overflowAnchor===void 0?Ns:function(t,n){t!==null&&(cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(t===null)return;const a=t.children||[];dl.call(a,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const l=a[n];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Wi(t,n){return t+n}function ca(t,n,a,l,s,c,d,f){const p=t===window?document.scrollingElement||document.documentElement:t,b=s===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-d-f,scrollMaxSize:0,offsetStart:-d,offsetEnd:-f};if(s===!0?(t===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=p.scrollLeft,m.scrollViewSize+=p.clientWidth),m.scrollMaxSize=p.scrollWidth,c===!0&&(m.scrollStart=(xo===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(t===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=p.scrollTop,m.scrollViewSize+=p.clientHeight),m.scrollMaxSize=p.scrollHeight),a!==null)for(let x=a.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=x[b]);if(l!==null)for(let x=l.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=x[b]);if(n!==t){const x=p.getBoundingClientRect(),T=n.getBoundingClientRect();s===!0?(m.offsetStart+=T.left-x.left,m.offsetEnd-=T.width):(m.offsetStart+=T.top-x.top,m.offsetEnd-=T.height),t!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function Jr(t,n,a,l){n==="end"&&(n=(t===window?document.body:t)[a===!0?"scrollWidth":"scrollHeight"]),t===window?a===!0?(l===!0&&(n=(xo===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):a===!0?(l===!0&&(n=(xo===!0?t.scrollWidth-t.offsetWidth:0)-n),t.scrollLeft=n):t.scrollTop=n}function yn(t,n,a,l){if(a>=l)return 0;const s=n.length,c=Math.floor(a/Ot),d=Math.floor((l-1)/Ot)+1;let f=t.slice(c,d).reduce(Wi,0);return a%Ot!==0&&(f-=n.slice(c*Ot,a).reduce(Wi,0)),l%Ot!==0&&l!==s&&(f-=n.slice(l,d*Ot).reduce(Wi,0)),f}const hl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},fl=Object.keys(hl),pl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...hl};function ml({virtualScrollLength:t,getVirtualScrollTarget:n,getVirtualScrollEl:a,virtualScrollItemSizeComputed:l}){const s=et(),{props:c,emit:d,proxy:f}=s,{$q:p}=f;let b,m,x,T=[],w;const A=ae(0),z=ae(0),E=ae({}),J=ae(null),B=ae(null),Y=ae(null),R=ae({from:0,to:0}),Q=_(()=>c.tableColspan!==void 0?c.tableColspan:100);l===void 0&&(l=_(()=>c.virtualScrollItemSize));const ve=_(()=>l.value+";"+c.virtualScrollHorizontal),Ae=_(()=>ve.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);ze(Ae,()=>{se()}),ze(ve,be);function be(){de(m,!0)}function qe(M){de(M===void 0?m:M)}function ye(M,V){const W=n();if(W==null||W.nodeType===8)return;const H=ca(W,a(),J.value,B.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);x!==H.scrollViewSize&&se(H.scrollViewSize),q(W,H,Math.min(t.value-1,Math.max(0,parseInt(M,10)||0)),0,Hc.indexOf(V)>-1?V:m>-1&&M>m?"end":"start")}function ne(){const M=n();if(M==null||M.nodeType===8)return;const V=ca(M,a(),J.value,B.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),W=t.value-1,H=V.scrollMaxSize-V.offsetStart-V.offsetEnd-z.value;if(b===V.scrollStart)return;if(V.scrollMaxSize<=0){q(M,V,0,0);return}x!==V.scrollViewSize&&se(V.scrollViewSize),ie(R.value.from);const ee=Math.floor(V.scrollMaxSize-Math.max(V.scrollViewSize,V.offsetEnd)-Math.min(w[W],V.scrollViewSize/2));if(ee>0&&Math.ceil(V.scrollStart)>=ee){q(M,V,W,V.scrollMaxSize-V.offsetEnd-T.reduce(Wi,0));return}let F=0,G=V.scrollStart-V.offsetStart,pe=G;if(G<=H&&G+V.scrollViewSize>=A.value)G-=A.value,F=R.value.from,pe=G;else for(let D=0;G>=T[D]&&F<W;D++)G-=T[D],F+=Ot;for(;G>0&&F<W;)G-=w[F],G>-V.scrollViewSize?(F++,pe=G):pe=w[F]+G;q(M,V,F,pe)}function q(M,V,W,H,ee){const F=typeof ee=="string"&&ee.indexOf("-force")>-1,G=F===!0?ee.replace("-force",""):ee,pe=G!==void 0?G:"start";let D=Math.max(0,W-E.value[pe]),K=D+E.value.total;K>t.value&&(K=t.value,D=Math.max(0,K-E.value.total)),b=V.scrollStart;const Ie=D!==R.value.from||K!==R.value.to;if(Ie===!1&&G===void 0){$(W);return}const{activeElement:Qe}=document,Be=Y.value;Ie===!0&&Be!==null&&Be!==Qe&&Be.contains(Qe)===!0&&(Be.addEventListener("focusout",re),setTimeout(()=>{Be!==null&&Be.removeEventListener("focusout",re)})),Uc(Be,W-D);const gt=G!==void 0?w.slice(D,W).reduce(Wi,0):0;if(Ie===!0){const ot=K>=R.value.from&&D<=R.value.to?R.value.to:K;R.value={from:D,to:ot},A.value=yn(T,w,0,D),z.value=yn(T,w,K,t.value),requestAnimationFrame(()=>{R.value.to!==K&&b===V.scrollStart&&(R.value={from:R.value.from,to:K},z.value=yn(T,w,K,t.value))})}requestAnimationFrame(()=>{if(b!==V.scrollStart)return;Ie===!0&&ie(D);const ot=w.slice(D,W).reduce(Wi,0),nt=ot+V.offsetStart+A.value,lt=nt+w[W];let dt=nt+H;if(G!==void 0){const it=ot-gt,Ne=V.scrollStart+it;dt=F!==!0&&Ne<nt&&lt<Ne+V.scrollViewSize?Ne:G==="end"?lt-V.scrollViewSize:nt-(G==="start"?0:Math.round((V.scrollViewSize-w[W])/2))}b=dt,Jr(M,dt,c.virtualScrollHorizontal,p.lang.rtl),$(W)})}function ie(M){const V=Y.value;if(V){const W=dl.call(V.children,D=>D.classList&&D.classList.contains("q-virtual-scroll--skip")===!1),H=W.length,ee=c.virtualScrollHorizontal===!0?D=>D.getBoundingClientRect().width:D=>D.offsetHeight;let F=M,G,pe;for(let D=0;D<H;){for(G=ee(W[D]),D++;D<H&&W[D].classList.contains("q-virtual-scroll--with-prev")===!0;)G+=ee(W[D]),D++;pe=G-w[F],pe!==0&&(w[F]+=pe,T[Math.floor(F/Ot)]+=pe),F++}}}function re(){Y.value!==null&&Y.value!==void 0&&Y.value.focus()}function de(M,V){const W=1*l.value;(V===!0||Array.isArray(w)===!1)&&(w=[]);const H=w.length;w.length=t.value;for(let F=t.value-1;F>=H;F--)w[F]=W;const ee=Math.floor((t.value-1)/Ot);T=[];for(let F=0;F<=ee;F++){let G=0;const pe=Math.min((F+1)*Ot,t.value);for(let D=F*Ot;D<pe;D++)G+=w[D];T.push(G)}m=-1,b=void 0,A.value=yn(T,w,0,R.value.from),z.value=yn(T,w,R.value.to,t.value),M>=0?(ie(R.value.from),st(()=>{ye(M)})):Pe()}function se(M){if(M===void 0&&typeof window!="undefined"){const G=n();G!=null&&G.nodeType!==8&&(M=ca(G,a(),J.value,B.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}x=M;const V=parseFloat(c.virtualScrollSliceRatioBefore)||0,W=parseFloat(c.virtualScrollSliceRatioAfter)||0,H=1+V+W,ee=M===void 0||M<=0?1:Math.ceil(M/l.value),F=Math.max(1,ee,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/H));E.value={total:Math.ceil(F*H),start:Math.ceil(F*V),center:Math.ceil(F*(.5+V)),end:Math.ceil(F*(1+V)),view:ee}}function xe(M,V){const W=c.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+W]:l.value+"px"};return[M==="tbody"?S(M,{class:"q-virtual-scroll__padding",key:"before",ref:J},[S("tr",[S("td",{style:{[W]:`${A.value}px`,...H},colspan:Q.value})])]):S(M,{class:"q-virtual-scroll__padding",key:"before",ref:J,style:{[W]:`${A.value}px`,...H}}),S(M,{class:"q-virtual-scroll__content",key:"content",ref:Y,tabindex:-1},V.flat()),M==="tbody"?S(M,{class:"q-virtual-scroll__padding",key:"after",ref:B},[S("tr",[S("td",{style:{[W]:`${z.value}px`,...H},colspan:Q.value})])]):S(M,{class:"q-virtual-scroll__padding",key:"after",ref:B,style:{[W]:`${z.value}px`,...H}})]}function $(M){m!==M&&(c.onVirtualScroll!==void 0&&d("virtual-scroll",{index:M,from:R.value.from,to:R.value.to-1,direction:M<m?"decrease":"increase",ref:f}),m=M)}se();const Pe=ec(ne,p.platform.is.ios===!0?120:35);Ma(()=>{se()});let k=!1;return Zs(()=>{k=!0}),Vs(()=>{if(k!==!0)return;const M=n();b!==void 0&&M!==void 0&&M!==null&&M.nodeType!==8?Jr(M,b,c.virtualScrollHorizontal,p.lang.rtl):ye(m)}),vt(()=>{Pe.cancel()}),Object.assign(f,{scrollTo:ye,reset:be,refresh:qe}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:E,setVirtualScrollSize:se,onVirtualScrollEvt:Pe,localResetVirtualScroll:de,padVirtualScroll:xe,scrollTo:ye,reset:be,refresh:qe}}const es=t=>["add","add-unique","toggle"].includes(t),jc=".*+?^${}()|[]\\",Wc=Object.keys(Oa);var wo=Ke({name:"QSelect",inheritAttrs:!1,props:{...pl,...Ia,...Oa,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:es},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ws,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(t,{slots:n,emit:a}){const{proxy:l}=et(),{$q:s}=l,c=ae(!1),d=ae(!1),f=ae(-1),p=ae(""),b=ae(!1),m=ae(!1);let x,T,w,A,z,E,J,B,Y;const R=ae(null),Q=ae(null),ve=ae(null),Ae=ae(null),be=ae(null),qe=dc(t),ye=hc(Mi),ne=_(()=>Array.isArray(t.options)?t.options.length:0),q=_(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:ie,virtualScrollSliceSizeComputed:re,localResetVirtualScroll:de,padVirtualScroll:se,onVirtualScrollEvt:xe,scrollTo:$,setVirtualScrollSize:Pe}=ml({virtualScrollLength:ne,getVirtualScrollTarget:Rt,getVirtualScrollEl:yt,virtualScrollItemSizeComputed:q}),k=Ks(),M=_(()=>{const g=t.mapOptions===!0&&t.multiple!==!0,U=t.modelValue!==void 0&&(t.modelValue!==null||g===!0)?t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue]:[];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const N=t.mapOptions===!0&&T!==void 0?T:[],le=U.map(Re=>bt(Re,N));return t.modelValue===null&&g===!0?le.filter(Re=>Re!==null):le}return U}),V=_(()=>{const g={};return Wc.forEach(U=>{const N=t[U];N!==void 0&&(g[U]=N)}),g}),W=_(()=>t.optionsDark===null?k.isDark.value:t.optionsDark),H=_(()=>Vr(M.value)),ee=_(()=>{let g="q-field__input q-placeholder col";return t.hideSelected===!0||M.value.length===0?[g,t.inputClass]:(g+=" q-field__input--padding",t.inputClass===void 0?g:[g,t.inputClass])}),F=_(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),G=_(()=>ne.value===0),pe=_(()=>M.value.map(g=>Ne.value(g)).join(", ")),D=_(()=>t.optionsHtml===!0?()=>!0:g=>g!=null&&g.html===!0),K=_(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||M.value.some(D.value))),Ie=_(()=>k.focused.value===!0?t.tabindex:-1),Qe=_(()=>{const g={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-owns":`${k.targetUid.value}_lb`,"aria-controls":`${k.targetUid.value}_lb`};return f.value>=0&&(g["aria-activedescendant"]=`${k.targetUid.value}_${f.value}`),g}),Be=_(()=>{const g={id:`${k.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"};return f.value>=0&&(g["aria-activedescendant"]=`${k.targetUid.value}_${f.value}`),g}),gt=_(()=>M.value.map((g,U)=>({index:U,opt:g,html:D.value(g),selected:!0,removeAtIndex:jt,toggleOption:ft,tabindex:Ie.value}))),ot=_(()=>{if(ne.value===0)return[];const{from:g,to:U}=ie.value;return t.options.slice(g,U).map((N,le)=>{const Re=ht.value(N)===!0,Le=g+le,Ue={clickable:!0,active:!1,activeClass:dt.value,manualFocus:!0,focused:!1,disable:Re,tabindex:-1,dense:t.optionsDense,dark:W.value,role:"option",id:`${k.targetUid.value}_${Le}`,onClick:()=>{ft(N)}};return Re!==!0&&(O(N)===!0&&(Ue.active=!0),f.value===Le&&(Ue.focused=!0),Ue["aria-selected"]=Ue.active===!0?"true":"false",s.platform.is.desktop===!0&&(Ue.onMousemove=()=>{c.value===!0&&Ct(Le)})),{index:Le,opt:N,html:D.value(N),label:Ne.value(N),selected:Ue.active,focused:Ue.focused,toggleOption:ft,setOptionIndex:Ct,itemProps:Ue}})}),nt=_(()=>t.dropdownIcon!==void 0?t.dropdownIcon:s.iconSet.arrow.dropdown),lt=_(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),dt=_(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),it=_(()=>pt(t.optionValue,"value")),Ne=_(()=>pt(t.optionLabel,"label")),ht=_(()=>pt(t.optionDisable,"disable")),At=_(()=>M.value.map(g=>it.value(g))),si=_(()=>{const g={onInput:Mi,onChange:ye,onKeydown:at,onKeyup:Me,onKeypress:Ee,onFocus:ue,onClick(U){w===!0&&ii(U)}};return g.onCompositionstart=g.onCompositionupdate=g.onCompositionend=ye,g});ze(M,g=>{T=g,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&k.innerLoading.value!==!0&&(d.value!==!0&&c.value!==!0||H.value!==!0)&&(A!==!0&&xt(),(d.value===!0||c.value===!0)&&te(""))},{immediate:!0}),ze(()=>t.fillInput,xt),ze(c,Ei),ze(ne,Oo);function Ut(g){return t.emitValue===!0?it.value(g):g}function Mt(g){if(g>-1&&g<M.value.length)if(t.multiple===!0){const U=t.modelValue.slice();a("remove",{index:g,value:U.splice(g,1)[0]}),a("update:modelValue",U)}else a("update:modelValue",null)}function jt(g){Mt(g),k.focus()}function Tt(g,U){const N=Ut(g);if(t.multiple!==!0){t.fillInput===!0&&j(Ne.value(g),!0,!0),a("update:modelValue",N);return}if(M.value.length===0){a("add",{index:0,value:N}),a("update:modelValue",t.multiple===!0?[N]:N);return}if(U===!0&&O(g)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const le=t.modelValue.slice();a("add",{index:le.length,value:N}),le.push(N),a("update:modelValue",le)}function ft(g,U){if(k.editable.value!==!0||g===void 0||ht.value(g)===!0)return;const N=it.value(g);if(t.multiple!==!0){U!==!0&&(j(t.fillInput===!0?Ne.value(g):"",!0,!0),Dt()),Q.value!==null&&Q.value.focus(),(M.value.length===0||vn(it.value(M.value[0]),N)!==!0)&&a("update:modelValue",t.emitValue===!0?N:g);return}if((w!==!0||b.value===!0)&&k.focus(),ue(),M.value.length===0){const Le=t.emitValue===!0?N:g;a("add",{index:0,value:Le}),a("update:modelValue",t.multiple===!0?[Le]:Le);return}const le=t.modelValue.slice(),Re=At.value.findIndex(Le=>vn(Le,N));if(Re>-1)a("remove",{index:Re,value:le.splice(Re,1)[0]});else{if(t.maxValues!==void 0&&le.length>=t.maxValues)return;const Le=t.emitValue===!0?N:g;a("add",{index:le.length,value:Le}),le.push(Le)}a("update:modelValue",le)}function Ct(g){if(s.platform.is.desktop!==!0)return;const U=g>-1&&g<ne.value?g:-1;f.value!==U&&(f.value=U)}function _t(g=1,U){if(c.value===!0){let N=f.value;do N=Hr(N+g,-1,ne.value-1);while(N!==-1&&N!==f.value&&ht.value(t.options[N])===!0);f.value!==N&&(Ct(N),$(N),U!==!0&&t.useInput===!0&&t.fillInput===!0&&P(N>=0?Ne.value(t.options[N]):E))}}function bt(g,U){const N=le=>vn(it.value(le),g);return t.options.find(N)||U.find(N)||g}function pt(g,U){const N=g!==void 0?g:U;return typeof N=="function"?N:le=>le!==null&&typeof le=="object"&&N in le?le[N]:le}function O(g){const U=it.value(g);return At.value.find(N=>vn(N,U))!==void 0}function ue(g){t.useInput===!0&&Q.value!==null&&(g===void 0||Q.value===g.target&&g.target.value===pe.value)&&Q.value.select()}function we(g){An(g,27)===!0&&c.value===!0&&(ii(g),Dt(),xt()),a("keyup",g)}function Me(g){const{value:U}=g.target;if(g.keyCode!==void 0){we(g);return}if(g.target.value="",clearTimeout(x),xt(),typeof U=="string"&&U.length>0){const N=U.toLocaleLowerCase(),le=Le=>{const Ue=t.options.find(tt=>Le.value(tt).toLocaleLowerCase()===N);return Ue===void 0?!1:(M.value.indexOf(Ue)===-1?ft(Ue):Dt(),!0)},Re=Le=>{le(it)!==!0&&(le(Ne)===!0||Le===!0||te(U,!0,()=>Re(!0)))};Re()}else k.clearValue(g)}function Ee(g){a("keypress",g)}function at(g){if(a("keydown",g),nc(g)===!0)return;const U=p.value.length>0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),N=g.shiftKey!==!0&&t.multiple!==!0&&(f.value>-1||U===!0);if(g.keyCode===27){Ti(g);return}if(g.keyCode===9&&N===!1){Kt();return}if(g.target===void 0||g.target.id!==k.targetUid.value)return;if(g.keyCode===40&&k.innerLoading.value!==!0&&c.value===!1){ut(g),qt();return}if(g.keyCode===8&&t.hideSelected!==!0&&p.value.length===0){t.multiple===!0&&Array.isArray(t.modelValue)===!0?Mt(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&a("update:modelValue",null);return}(g.keyCode===35||g.keyCode===36)&&(typeof p.value!="string"||p.value.length===0)&&(ut(g),f.value=-1,_t(g.keyCode===36?1:-1,t.multiple)),(g.keyCode===33||g.keyCode===34)&&re.value!==void 0&&(ut(g),f.value=Math.max(-1,Math.min(ne.value,f.value+(g.keyCode===33?-1:1)*re.value.view)),_t(g.keyCode===33?1:-1,t.multiple)),(g.keyCode===38||g.keyCode===40)&&(ut(g),_t(g.keyCode===38?-1:1,t.multiple));const le=ne.value;if((B===void 0||Y<Date.now())&&(B=""),le>0&&t.useInput!==!0&&g.key!==void 0&&g.key.length===1&&g.altKey===g.ctrlKey&&(g.keyCode!==32||B.length>0)){c.value!==!0&&qt(g);const Re=g.key.toLocaleLowerCase(),Le=B.length===1&&B[0]===Re;Y=Date.now()+1500,Le===!1&&(ut(g),B+=Re);const Ue=new RegExp("^"+B.split("").map(Yt=>jc.indexOf(Yt)>-1?"\\"+Yt:Yt).join(".*"),"i");let tt=f.value;if(Le===!0||tt<0||Ue.test(Ne.value(t.options[tt]))!==!0)do tt=Hr(tt+1,-1,le-1);while(tt!==f.value&&(ht.value(t.options[tt])===!0||Ue.test(Ne.value(t.options[tt]))!==!0));f.value!==tt&&st(()=>{Ct(tt),$(tt),tt>=0&&t.useInput===!0&&t.fillInput===!0&&P(Ne.value(t.options[tt]))});return}if(!(g.keyCode!==13&&(g.keyCode!==32||t.useInput===!0||B!=="")&&(g.keyCode!==9||N===!1))){if(g.keyCode!==9&&ut(g),f.value>-1&&f.value<le){ft(t.options[f.value]);return}if(U===!0){const Re=(Le,Ue)=>{if(Ue){if(es(Ue)!==!0)return}else Ue=t.newValueMode;if(Le==null)return;j("",t.multiple!==!0,!0),(Ue==="toggle"?ft:Tt)(Le,Ue==="add-unique"),t.multiple!==!0&&(Q.value!==null&&Q.value.focus(),Dt())};if(t.onNewValue!==void 0?a("new-value",p.value,Re):Re(p.value),t.multiple!==!0)return}c.value===!0?Kt():k.innerLoading.value!==!0&&qt()}}function yt(){return w===!0?be.value:ve.value!==null&&ve.value.__qPortalInnerRef.value!==null?ve.value.__qPortalInnerRef.value:void 0}function Rt(){return yt()}function Ai(){return t.hideSelected===!0?[]:n["selected-item"]!==void 0?gt.value.map(g=>n["selected-item"](g)).slice():n.selected!==void 0?[].concat(n.selected()):t.useChips===!0?gt.value.map((g,U)=>S($c,{key:"option-"+U,removable:k.editable.value===!0&&ht.value(g.opt)!==!0,dense:!0,textColor:t.color,tabindex:Ie.value,onRemove(){g.removeAtIndex(U)}},()=>S("span",{class:"ellipsis",[g.html===!0?"innerHTML":"textContent"]:Ne.value(g.opt)}))):[S("span",{[K.value===!0?"innerHTML":"textContent"]:t.displayValue!==void 0?t.displayValue:pe.value})]}function pi(){if(G.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:p.value}):void 0;const g=n.option!==void 0?n.option:N=>S(Fc,{key:N.index,...N.itemProps},()=>S(Nc,()=>S(Zc,()=>S("span",{[N.html===!0?"innerHTML":"textContent"]:N.label}))));let U=se("div",ot.value.map(g));return n["before-options"]!==void 0&&(U=n["before-options"]().concat(U)),Mn(n["after-options"],U)}function nn(g,U){const N=U===!0?{...Qe.value,...k.splitAttrs.attributes.value}:void 0,le={ref:U===!0?Q:void 0,key:"i_t",class:ee.value,style:t.inputStyle,value:p.value!==void 0?p.value:"",type:"search",...N,id:U===!0?k.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":g!==!0&&t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...si.value};return g!==!0&&w===!0&&(Array.isArray(le.class)===!0?le.class=[...le.class,"no-pointer-events"]:le.class+=" no-pointer-events"),S("input",le)}function Mi(g){clearTimeout(x),!(g&&g.target&&g.target.qComposing===!0)&&(P(g.target.value||""),A=!0,E=p.value,k.focused.value!==!0&&(w!==!0||b.value===!0)&&k.focus(),t.onFilter!==void 0&&(x=setTimeout(()=>{te(p.value)},t.inputDebounce)))}function P(g){p.value!==g&&(p.value=g,a("input-value",g))}function j(g,U,N){A=N!==!0,t.useInput===!0&&(P(g),(U===!0||N!==!0)&&(E=g),U!==!0&&te(g))}function te(g,U,N){if(t.onFilter===void 0||U!==!0&&k.focused.value!==!0)return;k.innerLoading.value===!0?a("filter-abort"):(k.innerLoading.value=!0,m.value=!0),g!==""&&t.multiple!==!0&&M.value.length>0&&A!==!0&&g===Ne.value(M.value[0])&&(g="");const le=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);clearTimeout(z),z=le,a("filter",g,(Re,Le)=>{(U===!0||k.focused.value===!0)&&z===le&&(clearTimeout(z),typeof Re=="function"&&Re(),m.value=!1,st(()=>{k.innerLoading.value=!1,k.editable.value===!0&&(U===!0?c.value===!0&&Dt():c.value===!0?Ei(!0):c.value=!0),typeof Le=="function"&&st(()=>{Le(l)}),typeof N=="function"&&st(()=>{N(l)})}))},()=>{k.focused.value===!0&&z===le&&(clearTimeout(z),k.innerLoading.value=!1,m.value=!1),c.value===!0&&(c.value=!1)})}function ce(){return S(Vc,{ref:ve,class:F.value,style:t.popupContentStyle,modelValue:c.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&G.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:W.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:lt.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...Be.value,onScrollPassive:xe,onBeforeShow:In,onBeforeHide:he,onShow:Ze},pi)}function he(g){Bn(g),Kt()}function Ze(){Pe()}function $e(g){ii(g),Q.value!==null&&Q.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ge(g){ii(g),st(()=>{b.value=!1})}function Z(){const g=[S(qc,{class:`col-auto ${k.fieldClass.value}`,...V.value,for:k.targetUid.value,dark:W.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:p.value.length>0,...k.splitAttrs.listeners.value,onFocus:$e,onBlur:Ge},{...n,rawControl:()=>k.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&g.push(S("div",{ref:be,class:F.value+" scroll",style:t.popupContentStyle,...Be.value,onClick:Ti,onScrollPassive:xe},pi())),S(Va,{ref:Ae,modelValue:d.value,position:t.useInput===!0?"top":void 0,transitionShow:J,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:In,onBeforeHide:Wt,onHide:Gt,onShow:zi},()=>S("div",{class:"q-select__dialog"+(W.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},g))}function Wt(g){Bn(g),Ae.value!==null&&Ae.value.__updateRefocusTarget(k.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),k.focused.value=!1}function Gt(g){Dt(),k.focused.value===!1&&a("blur",g),xt()}function zi(){const g=document.activeElement;(g===null||g.id!==k.targetUid.value)&&Q.value!==null&&Q.value!==g&&Q.value.focus(),Pe()}function Kt(){d.value!==!0&&(f.value=-1,c.value===!0&&(c.value=!1),k.focused.value===!1&&(clearTimeout(z),z=void 0,k.innerLoading.value===!0&&(a("filter-abort"),k.innerLoading.value=!1,m.value=!1)))}function qt(g){k.editable.value===!0&&(w===!0?(k.onControlFocusin(g),d.value=!0,st(()=>{k.focus()})):k.focus(),t.onFilter!==void 0?te(p.value):(G.value!==!0||n["no-option"]!==void 0)&&(c.value=!0))}function Dt(){d.value=!1,Kt()}function xt(){t.useInput===!0&&j(t.multiple!==!0&&t.fillInput===!0&&M.value.length>0&&Ne.value(M.value[0])||"",!0,!0)}function Ei(g){let U=-1;if(g===!0){if(M.value.length>0){const N=it.value(M.value[0]);U=t.options.findIndex(le=>vn(it.value(le),N))}de(U)}Ct(U)}function Oo(g,U){c.value===!0&&k.innerLoading.value===!1&&(de(-1,!0),st(()=>{c.value===!0&&k.innerLoading.value===!1&&(g>U?de():Ei(!0))}))}function On(){d.value===!1&&ve.value!==null&&ve.value.updatePosition()}function In(g){g!==void 0&&ii(g),a("popup-show",g),k.hasPopupOpen=!0,k.onControlFocusin(g)}function Bn(g){g!==void 0&&ii(g),a("popup-hide",g),k.hasPopupOpen=!1,k.onControlFocusout(g)}function on(){w=s.platform.is.mobile!==!0&&t.behavior!=="dialog"?!1:t.behavior!=="menu"&&(t.useInput===!0?n["no-option"]!==void 0||t.onFilter!==void 0||G.value===!1:!0),J=s.platform.is.ios===!0&&w===!0&&t.useInput===!0?"fade":t.transitionShow}return tc(on),ic(On),on(),vt(()=>{clearTimeout(x)}),Object.assign(l,{showPopup:qt,hidePopup:Dt,removeAtIndex:Mt,add:Tt,toggleOption:ft,getOptionIndex:()=>f.value,setOptionIndex:Ct,moveOptionSelection:_t,filter:te,updateMenuPosition:On,updateInputValue:j,isOptionSelected:O,getEmittingOptionValue:Ut,isOptionDisabled:(...g)=>ht.value.apply(null,g)===!0,getOptionValue:(...g)=>it.value.apply(null,g),getOptionLabel:(...g)=>Ne.value.apply(null,g)}),Object.assign(k,{innerValue:M,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:R,targetRef:Q,hasValue:H,showPopup:qt,floatingLabel:_(()=>t.hideSelected!==!0&&H.value===!0||p.value.length>0||Vr(t.displayValue)),getControlChild:()=>{if(k.editable.value!==!1&&(d.value===!0||G.value!==!0||n["no-option"]!==void 0))return w===!0?Z():ce();k.hasPopupOpen===!0&&(k.hasPopupOpen=!1)},controlEvents:{onFocusin(g){k.onControlFocusin(g)},onFocusout(g){k.onControlFocusout(g,()=>{xt(),Kt()})},onClick(g){if(Ti(g),w!==!0&&c.value===!0){Kt(),Q.value!==null&&Q.value.focus();return}qt(g)}},getControl:g=>{const U=Ai(),N=g===!0||d.value!==!0||w!==!0;if(t.useInput===!0)U.push(nn(g,N));else if(k.editable.value===!0){const Re=N===!0?Qe.value:void 0;U.push(S("input",{ref:N===!0?Q:void 0,key:"d_t",class:"q-select__focus-target",id:N===!0?k.targetUid.value:void 0,readonly:!0,...Re,onKeydown:at,onKeyup:we,onKeypress:Ee})),N===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length>0&&U.push(S("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,onKeyup:Me}))}if(qe.value!==void 0&&t.disable!==!0&&At.value.length>0){const Re=At.value.map(Le=>S("option",{value:Le,selected:!0}));U.push(S("select",{class:"hidden",name:qe.value,multiple:t.multiple},Re))}const le=t.useInput===!0||N!==!0?void 0:k.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",...le},U)},getInnerAppend:()=>t.loading!==!0&&m.value!==!0&&t.hideDropdownIcon!==!0?[S(fi,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:nt.value})]:null}),Gs(k)}}),Gc={props:{items:{default(){return[]},type:Array},filterby:{type:String},shouldReset:{type:Boolean,default:!0}},data(){return{itemHeight:39,selectedItem:null,selected:0,query:"",visible:!1}},methods:{toggleVisible(){this.visible=!this.visible,setTimeout(()=>{this.$refs.input.focus()},50)},itemClicked(t){this.selected=t,this.selectItem()},selectItem(){!this.matches.length||(this.selectedItem=this.matches[this.selected],this.visible=!1,this.shouldReset&&(this.query="",this.selected=0),this.$emit("selected",JSON.parse(JSON.stringify(this.selectedItem))))},up(){this.selected!=0&&(this.selected-=1,this.scrollToItem())},down(){this.selected>=this.matches.length-1||(this.selected+=1,this.scrollToItem())},scrollToItem(){this.$refs.optionsList.scrollTop=this.selected*this.itemHeight}},computed:{matches(){return this.$emit("change",this.query),console.log(`This query: ${this.query}`),this.query==""?[]:this.query.length>7?this.items.filter(t=>t[this.filterby].toLowerCase().includes(this.query.toLowerCase())):[]}}};const Kc={class:"autocomplete"},Yc=["textContent"],Qc={class:"popover"},Xc={class:"options",ref:"optionsList"},Jc=["onClick","textContent"];function ed(t,n,a,l,s,c){return De(),We("div",Kc,[oe(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[0]||(n[0]=d=>t.query=d),label:"By Address",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],ref:"input"},null,8,["modelValue","onKeydown"]),t.selectedItem==null?(De(),We("div",{key:0,class:"placeholder",textContent:wt(t.title)},null,8,Yc)):ni("",!0),t.selectedItem?(De(),We("button",{key:1,class:"close",onClick:n[1]||(n[1]=d=>t.selectedItem=null)}," x ")):ni("",!0),za(_e("div",Qc,[oe(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[2]||(n[2]=d=>t.query=d),placeholder:"Start Typing...",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],type:"text",ref:"input"},null,8,["modelValue","onKeydown"]),_e("div",Xc,[_e("ul",null,[(De(!0),We(Ln,null,Ea(t.matches,(d,f)=>(De(),We("li",{key:f,class:Us({selected:t.selected==f}),onClick:p=>t.itemClicked(f),textContent:wt(d[t.filterby])},null,10,Jc))),128))])],512)],512),[[Hs,t.visible]])])}var td=oi(Gc,[["render",ed]]);var Gi={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(a,l){l(n)})(Sn,function(a){var l="1.8.0";function s(e){var i,o,r,u;for(o=1,r=arguments.length;o<r;o++){u=arguments[o];for(i in u)e[i]=u[i]}return e}var c=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function d(e,i){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var r=o.call(arguments,2);return function(){return e.apply(i,r.length?r.concat(o.call(arguments)):arguments)}}var f=0;function p(e){return"_leaflet_id"in e||(e._leaflet_id=++f),e._leaflet_id}function b(e,i,o){var r,u,h,v;return v=function(){r=!1,u&&(h.apply(o,u),u=!1)},h=function(){r?u=arguments:(e.apply(o,arguments),setTimeout(v,i),r=!0)},h}function m(e,i,o){var r=i[1],u=i[0],h=r-u;return e===r&&o?e:((e-u)%h+h)%h+u}function x(){return!1}function T(e,i){if(i===!1)return e;var o=Math.pow(10,i===void 0?6:i);return Math.round(e*o)/o}function w(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return w(e).split(/\s+/)}function z(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var o in i)e.options[o]=i[o];return e.options}function E(e,i,o){var r=[];for(var u in e)r.push(encodeURIComponent(o?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!i||i.indexOf("?")===-1?"?":"&")+r.join("&")}var J=/\{ *([\w_ -]+) *\}/g;function B(e,i){return e.replace(J,function(o,r){var u=i[r];if(u===void 0)throw new Error("No value provided for variable "+o);return typeof u=="function"&&(u=u(i)),u})}var Y=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function R(e,i){for(var o=0;o<e.length;o++)if(e[o]===i)return o;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ve(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Ae=0;function be(e){var i=+new Date,o=Math.max(0,16-(i-Ae));return Ae=i+o,window.setTimeout(e,o)}var qe=window.requestAnimationFrame||ve("RequestAnimationFrame")||be,ye=window.cancelAnimationFrame||ve("CancelAnimationFrame")||ve("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ne(e,i,o){if(o&&qe===be)e.call(i);else return qe.call(window,d(e,i))}function q(e){e&&ye.call(window,e)}var ie={__proto__:null,extend:s,create:c,bind:d,get lastId(){return f},stamp:p,throttle:b,wrapNum:m,falseFn:x,formatNum:T,trim:w,splitWords:A,setOptions:z,getParamString:E,template:B,isArray:Y,indexOf:R,emptyImageUrl:Q,requestFn:qe,cancelFn:ye,requestAnimFrame:ne,cancelAnimFrame:q};function re(){}re.extend=function(e){var i=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,r=c(o);r.constructor=i,i.prototype=r;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(i[u]=this[u]);return e.statics&&s(i,e.statics),e.includes&&(de(e.includes),s.apply(null,[r].concat(e.includes))),s(r,e),delete r.statics,delete r.includes,r.options&&(r.options=o.options?c(o.options):{},s(r.options,e.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,v=r._initHooks.length;h<v;h++)r._initHooks[h].call(this)}},i},re.include=function(e){var i=this.prototype.options;return s(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},re.mergeOptions=function(e){return s(this.prototype.options,e),this},re.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function de(e){if(!(typeof L=="undefined"||!L||!L.Mixin)){e=Y(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(e,i,o){if(typeof e=="object")for(var r in e)this._on(r,e[r],i);else{e=A(e);for(var u=0,h=e.length;u<h;u++)this._on(e[u],i,o)}return this},off:function(e,i,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var r in e)this._off(r,e[r],i);else{e=A(e);for(var u=arguments.length===1,h=0,v=e.length;h<v;h++)u?this._off(e[h]):this._off(e[h],i,o)}return this},_on:function(e,i,o){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),o===this&&(o=void 0);for(var u={fn:i,ctx:o},h=r,v=0,y=h.length;v<y;v++)if(h[v].fn===i&&h[v].ctx===o)return;h.push(u)},_off:function(e,i,o){var r,u,h;if(!!this._events&&(r=this._events[e],!!r)){if(arguments.length===1){if(this._firingCount)for(u=0,h=r.length;u<h;u++)r[u].fn=x;delete this._events[e];return}if(o===this&&(o=void 0),typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}for(u=0,h=r.length;u<h;u++){var v=r[u];if(v.ctx===o&&v.fn===i){this._firingCount&&(v.fn=x,this._events[e]=r=r.slice()),r.splice(u,1);return}}console.warn("listener not found")}},fire:function(e,i,o){if(!this.listens(e,o))return this;var r=s({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var h=0,v=u.length;h<v;h++){var y=u[h];y.fn.call(y.ctx||this,r)}this._firingCount--}}return o&&this._propagateEvent(r),this},listens:function(e,i){typeof e!="string"&&console.warn('"string" type argument expected');var o=this._events&&this._events[e];if(o&&o.length)return!0;if(i){for(var r in this._eventParents)if(this._eventParents[r].listens(e,i))return!0}return!1},once:function(e,i,o){if(typeof e=="object"){for(var r in e)this.once(r,e[r],i);return this}var u=d(function(){this.off(e,i,o).off(e,u,o)},this);return this.on(e,i,o).on(e,u,o)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[p(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[p(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,s({layer:e.target,propagatedFrom:e.target},e),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var xe=re.extend(se);function $(e,i,o){this.x=o?Math.round(e):e,this.y=o?Math.round(i):i}var Pe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(e){return this.clone()._add(k(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(k(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new $(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new $(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(e){e=k(e);var i=e.x-this.x,o=e.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(e){return e=k(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=k(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function k(e,i,o){return e instanceof $?e:Y(e)?new $(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new $(e.x,e.y):new $(e,i,o)}function M(e,i){if(!!e)for(var o=i?[e,i]:e,r=0,u=o.length;r<u;r++)this.extend(o[r])}M.prototype={extend:function(e){return e=k(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new $(this.min.x,this.max.y)},getTopRight:function(){return new $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,o;return typeof e[0]=="number"||e instanceof $?e=k(e):e=V(e),e instanceof M?(i=e.min,o=e.max):i=o=e,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=V(e);var i=this.min,o=this.max,r=e.min,u=e.max,h=u.x>=i.x&&r.x<=o.x,v=u.y>=i.y&&r.y<=o.y;return h&&v},overlaps:function(e){e=V(e);var i=this.min,o=this.max,r=e.min,u=e.max,h=u.x>i.x&&r.x<o.x,v=u.y>i.y&&r.y<o.y;return h&&v},isValid:function(){return!!(this.min&&this.max)}};function V(e,i){return!e||e instanceof M?e:new M(e,i)}function W(e,i){if(!!e)for(var o=i?[e,i]:e,r=0,u=o.length;r<u;r++)this.extend(o[r])}W.prototype={extend:function(e){var i=this._southWest,o=this._northEast,r,u;if(e instanceof ee)r=e,u=e;else if(e instanceof W){if(r=e._southWest,u=e._northEast,!r||!u)return this}else return e?this.extend(F(e)||H(e)):this;return!i&&!o?(this._southWest=new ee(r.lat,r.lng),this._northEast=new ee(u.lat,u.lng)):(i.lat=Math.min(r.lat,i.lat),i.lng=Math.min(r.lng,i.lng),o.lat=Math.max(u.lat,o.lat),o.lng=Math.max(u.lng,o.lng)),this},pad:function(e){var i=this._southWest,o=this._northEast,r=Math.abs(i.lat-o.lat)*e,u=Math.abs(i.lng-o.lng)*e;return new W(new ee(i.lat-r,i.lng-u),new ee(o.lat+r,o.lng+u))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ee||"lat"in e?e=F(e):e=H(e);var i=this._southWest,o=this._northEast,r,u;return e instanceof W?(r=e.getSouthWest(),u=e.getNorthEast()):r=u=e,r.lat>=i.lat&&u.lat<=o.lat&&r.lng>=i.lng&&u.lng<=o.lng},intersects:function(e){e=H(e);var i=this._southWest,o=this._northEast,r=e.getSouthWest(),u=e.getNorthEast(),h=u.lat>=i.lat&&r.lat<=o.lat,v=u.lng>=i.lng&&r.lng<=o.lng;return h&&v},overlaps:function(e){e=H(e);var i=this._southWest,o=this._northEast,r=e.getSouthWest(),u=e.getNorthEast(),h=u.lat>i.lat&&r.lat<o.lat,v=u.lng>i.lng&&r.lng<o.lng;return h&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=H(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(e,i){return e instanceof W?e:new W(e,i)}function ee(e,i,o){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,o!==void 0&&(this.alt=+o)}ee.prototype={equals:function(e,i){if(!e)return!1;e=F(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return pe.distance(this,F(e))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,o=i/Math.cos(Math.PI/180*this.lat);return H([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function F(e,i,o){return e instanceof ee?e:Y(e)&&typeof e[0]!="object"?e.length===3?new ee(e[0],e[1],e[2]):e.length===2?new ee(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ee(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new ee(e,i,o)}var G={latLngToPoint:function(e,i){var o=this.projection.project(e),r=this.scale(i);return this.transformation._transform(o,r)},pointToLatLng:function(e,i){var o=this.scale(i),r=this.transformation.untransform(e,o);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(e),r=this.transformation.transform(i.min,o),u=this.transformation.transform(i.max,o);return new M(r,u)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new ee(o,i,r)},wrapLatLngBounds:function(e){var i=e.getCenter(),o=this.wrapLatLng(i),r=i.lat-o.lat,u=i.lng-o.lng;if(r===0&&u===0)return e;var h=e.getSouthWest(),v=e.getNorthEast(),y=new ee(h.lat-r,h.lng-u),C=new ee(v.lat-r,v.lng-u);return new W(y,C)}},pe=s({},G,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var o=Math.PI/180,r=e.lat*o,u=i.lat*o,h=Math.sin((i.lat-e.lat)*o/2),v=Math.sin((i.lng-e.lng)*o/2),y=h*h+Math.cos(r)*Math.cos(u)*v*v,C=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return this.R*C}}),D=6378137,K={R:D,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,o=this.MAX_LATITUDE,r=Math.max(Math.min(o,e.lat),-o),u=Math.sin(r*i);return new $(this.R*e.lng*i,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var i=180/Math.PI;return new ee((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=D*Math.PI;return new M([-e,-e],[e,e])}()};function Ie(e,i,o,r){if(Y(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=o,this._d=r}Ie.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new $((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function Qe(e,i,o,r){return new Ie(e,i,o,r)}var Be=s({},pe,{code:"EPSG:3857",projection:K,transformation:function(){var e=.5/(Math.PI*K.R);return Qe(e,.5,-e,.5)}()}),gt=s({},Be,{code:"EPSG:900913"});function ot(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function nt(e,i){var o="",r,u,h,v,y,C;for(r=0,h=e.length;r<h;r++){for(y=e[r],u=0,v=y.length;u<v;u++)C=y[u],o+=(u?"L":"M")+C.x+" "+C.y;o+=i?Z.svg?"z":"x":""}return o||"M0 0"}var lt=document.documentElement.style,dt="ActiveXObject"in window,it=dt&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),ht=Ge("webkit"),At=Ge("android"),si=Ge("android 2")||Ge("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mt=At&&Ge("Google")&&Ut<537&&!("AudioNode"in window),jt=!!window.opera,Tt=!Ne&&Ge("chrome"),ft=Ge("gecko")&&!ht&&!jt&&!dt,Ct=!Tt&&Ge("safari"),_t=Ge("phantom"),bt="OTransition"in lt,pt=navigator.platform.indexOf("Win")===0,O=dt&&"transition"in lt,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!si,we="MozPerspective"in lt,Me=!window.L_DISABLE_3D&&(O||ue||we)&&!bt&&!_t,Ee=typeof orientation!="undefined"||Ge("mobile"),at=Ee&&ht,yt=Ee&&ue,Rt=!window.PointerEvent&&window.MSPointerEvent,Ai=!!(window.PointerEvent||Rt),pi="ontouchstart"in window||!!window.TouchEvent,nn=!window.L_NO_TOUCH&&(pi||Ai),Mi=Ee&&jt,P=Ee&&ft,j=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,te=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",x,i),window.removeEventListener("testPassiveEventSupport",x,i)}catch{}return e}(),ce=function(){return!!document.createElement("canvas").getContext}(),he=!!(document.createElementNS&&ot("svg").createSVGRect),Ze=!!he&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!he&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}();function Ge(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Z={ie:dt,ielt9:it,edge:Ne,webkit:ht,android:At,android23:si,androidStock:Mt,opera:jt,chrome:Tt,gecko:ft,safari:Ct,phantom:_t,opera12:bt,win:pt,ie3d:O,webkit3d:ue,gecko3d:we,any3d:Me,mobile:Ee,mobileWebkit:at,mobileWebkit3d:yt,msPointer:Rt,pointer:Ai,touch:nn,touchNative:pi,mobileOpera:Mi,mobileGecko:P,retina:j,passiveEvents:te,canvas:ce,svg:he,vml:$e,inlineSvg:Ze},Wt=Z.msPointer?"MSPointerDown":"pointerdown",Gt=Z.msPointer?"MSPointerMove":"pointermove",zi=Z.msPointer?"MSPointerUp":"pointerup",Kt=Z.msPointer?"MSPointerCancel":"pointercancel",qt={touchstart:Wt,touchmove:Gt,touchend:zi,touchcancel:Kt},Dt={touchstart:N,touchmove:U,touchend:U,touchcancel:U},xt={},Ei=!1;function Oo(e,i,o){return i==="touchstart"&&g(),Dt[i]?(o=Dt[i].bind(this,o),e.addEventListener(qt[i],o,!1),o):(console.warn("wrong event specified:",i),L.Util.falseFn)}function On(e,i,o){if(!qt[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(qt[i],o,!1)}function In(e){xt[e.pointerId]=e}function Bn(e){xt[e.pointerId]&&(xt[e.pointerId]=e)}function on(e){delete xt[e.pointerId]}function g(){Ei||(document.addEventListener(Wt,In,!0),document.addEventListener(Gt,Bn,!0),document.addEventListener(zi,on,!0),document.addEventListener(Kt,on,!0),Ei=!0)}function U(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in xt)i.touches.push(xt[o]);i.changedTouches=[i],e(i)}}function N(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&rt(i),U(e,i)}function le(e){var i={},o,r;for(r in e)o=e[r],i[r]=o&&o.bind?o.bind(e):o;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Re=200;function Le(e,i){e.addEventListener("dblclick",i);var o=0,r;function u(h){if(h.detail!==1){r=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var v=Date.now();v-o<=Re?(r++,r===2&&i(le(h))):r=1,o=v}}return e.addEventListener("click",u),{dblclick:i,simDblclick:u}}function Ue(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var tt=Dn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yt=Dn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),er=Yt==="webkitTransition"||Yt==="OTransition"?Yt+"End":"transitionend";function tr(e){return typeof e=="string"?document.getElementById(e):e}function an(e,i){var o=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);o=r?r[i]:null}return o==="auto"?null:o}function ke(e,i,o){var r=document.createElement(e);return r.className=i||"",o&&o.appendChild(r),r}function je(e){var i=e.parentNode;i&&i.removeChild(e)}function Rn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Oi(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function Ii(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Io(e,i){if(e.classList!==void 0)return e.classList.contains(i);var o=qn(e);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function me(e,i){if(e.classList!==void 0)for(var o=A(i),r=0,u=o.length;r<u;r++)e.classList.add(o[r]);else if(!Io(e,i)){var h=qn(e);Bo(e,(h?h+" ":"")+i)}}function Ye(e,i){e.classList!==void 0?e.classList.remove(i):Bo(e,w((" "+qn(e)+" ").replace(" "+i+" "," ")))}function Bo(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function qn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Pt(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&jl(e,i)}function jl(e,i){var o=!1,r="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(r)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):e.style.filter+=" progid:"+r+"(opacity="+i+")"}function Dn(e){for(var i=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in i)return e[o];return!1}function mi(e,i,o){var r=i||new $(0,0);e.style[tt]=(Z.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(o?" scale("+o+")":"")}function Xe(e,i){e._leaflet_pos=i,Z.any3d?mi(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function vi(e){return e._leaflet_pos||new $(0,0)}var rn,sn,Ro;if("onselectstart"in document)rn=function(){fe(window,"selectstart",rt)},sn=function(){Fe(window,"selectstart",rt)};else{var ln=Dn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rn=function(){if(ln){var e=document.documentElement.style;Ro=e[ln],e[ln]="none"}},sn=function(){ln&&(document.documentElement.style[ln]=Ro,Ro=void 0)}}function qo(){fe(window,"dragstart",rt)}function Do(){Fe(window,"dragstart",rt)}var $n,$o;function Fo(e){for(;e.tabIndex===-1;)e=e.parentNode;!e.style||(Fn(),$n=e,$o=e.style.outline,e.style.outline="none",fe(window,"keydown",Fn))}function Fn(){!$n||($n.style.outline=$o,$n=void 0,$o=void 0,Fe(window,"keydown",Fn))}function ir(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function No(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Wl={__proto__:null,TRANSFORM:tt,TRANSITION:Yt,TRANSITION_END:er,get:tr,getStyle:an,create:ke,remove:je,empty:Rn,toFront:Oi,toBack:Ii,hasClass:Io,addClass:me,removeClass:Ye,setClass:Bo,getClass:qn,setOpacity:Pt,testProp:Dn,setTransform:mi,setPosition:Xe,getPosition:vi,get disableTextSelection(){return rn},get enableTextSelection(){return sn},disableImageDrag:qo,enableImageDrag:Do,preventOutline:Fo,restoreOutline:Fn,getSizedParentNode:ir,getScale:No};function fe(e,i,o,r){if(i&&typeof i=="object")for(var u in i)Vo(e,u,i[u],o);else{i=A(i);for(var h=0,v=i.length;h<v;h++)Vo(e,i[h],o,r)}return this}var $t="_leaflet_events";function Fe(e,i,o,r){if(arguments.length===1)nr(e),delete e[$t];else if(i&&typeof i=="object")for(var u in i)Ho(e,u,i[u],o);else if(i=A(i),arguments.length===2)nr(e,function(y){return R(i,y)!==-1});else for(var h=0,v=i.length;h<v;h++)Ho(e,i[h],o,r);return this}function nr(e,i){for(var o in e[$t]){var r=o.split(/\d/)[0];(!i||i(r))&&Ho(e,r,null,null,o)}}var Zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vo(e,i,o,r){var u=i+p(o)+(r?"_"+p(r):"");if(e[$t]&&e[$t][u])return this;var h=function(y){return o.call(r||e,y||window.event)},v=h;!Z.touchNative&&Z.pointer&&i.indexOf("touch")===0?h=Oo(e,i,h):Z.touch&&i==="dblclick"?h=Le(e,h):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(Zo[i]||i,h,Z.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(h=function(y){y=y||window.event,jo(e,y)&&v(y)},e.addEventListener(Zo[i],h,!1)):e.addEventListener(i,v,!1):e.attachEvent("on"+i,h),e[$t]=e[$t]||{},e[$t][u]=h}function Ho(e,i,o,r,u){u=u||i+p(o)+(r?"_"+p(r):"");var h=e[$t]&&e[$t][u];if(!h)return this;!Z.touchNative&&Z.pointer&&i.indexOf("touch")===0?On(e,i,h):Z.touch&&i==="dblclick"?Ue(e,h):"removeEventListener"in e?e.removeEventListener(Zo[i]||i,h,!1):e.detachEvent("on"+i,h),e[$t][u]=null}function gi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Uo(e){return Vo(e,"wheel",gi),this}function un(e){return fe(e,"mousedown touchstart dblclick contextmenu",gi),e._leaflet_disable_click=!0,this}function rt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function _i(e){return rt(e),gi(e),this}function or(e,i){if(!i)return new $(e.clientX,e.clientY);var o=No(i),r=o.boundingClientRect;return new $((e.clientX-r.left)/o.x-i.clientLeft,(e.clientY-r.top)/o.y-i.clientTop)}var Gl=Z.win&&Z.chrome?2*window.devicePixelRatio:Z.gecko?window.devicePixelRatio:1;function ar(e){return Z.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Gl:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function jo(e,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var Kl={__proto__:null,on:fe,off:Fe,stopPropagation:gi,disableScrollPropagation:Uo,disableClickPropagation:un,preventDefault:rt,stop:_i,getMousePosition:or,getWheelDelta:ar,isExternalTarget:jo,addListener:fe,removeListener:Fe},rr=xe.extend({run:function(e,i,o,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=vi(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var o=this._startPos.add(this._offset.multiplyBy(e));i&&o._round(),Xe(this._el,o),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Se=xe.extend({options:{crs:Be,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=z(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(F(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yt&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fe(this._proxy,er,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(F(e),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=s({animate:o.animate},o.zoom),o.pan=s({animate:o.animate,duration:o.duration},o.pan));var r=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,o.zoom):this._tryAnimatedPan(e,o.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,o){var r=this.getZoomScale(i),u=this.getSize().divideBy(2),h=e instanceof $?e:this.latLngToContainerPoint(e),v=h.subtract(u).multiplyBy(1-1/r),y=this.containerPointToLatLng(u.add(v));return this.setView(y,i,{zoom:o})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():H(e);var o=k(i.paddingTopLeft||i.padding||[0,0]),r=k(i.paddingBottomRight||i.padding||[0,0]),u=this.getBoundsZoom(e,!1,o.add(r));if(u=typeof i.maxZoom=="number"?Math.min(i.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var h=r.subtract(o).divideBy(2),v=this.project(e.getSouthWest(),u),y=this.project(e.getNorthEast(),u),C=this.unproject(v.add(y).divideBy(2).add(h),u);return{center:C,zoom:u}},fitBounds:function(e,i){if(e=H(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=k(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,o){if(o=o||{},o.animate===!1||!Z.any3d)return this.setView(e,i,o);this._stop();var r=this.project(this.getCenter()),u=this.project(e),h=this.getSize(),v=this._zoom;e=F(e),i=i===void 0?v:i;var y=Math.max(h.x,h.y),C=y*this.getZoomScale(v,i),I=u.distanceTo(r)||1,X=1.42,ge=X*X;function Te(Je){var Xn=Je?-1:1,qu=Je?C:y,Du=C*C-y*y+Xn*ge*ge*I*I,$u=2*qu*ge*I,oa=Du/$u,Dr=Math.sqrt(oa*oa+1)-oa,Fu=Dr<1e-9?-18:Math.log(Dr);return Fu}function ti(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function yi(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Qn(Je){return ti(Je)/yi(Je)}var ci=Te(0);function na(Je){return y*(yi(ci)/yi(ci+X*Je))}function Ou(Je){return y*(yi(ci)*Qn(ci+X*Je)-ti(ci))/ge}function Iu(Je){return 1-Math.pow(1-Je,1.5)}var Bu=Date.now(),Rr=(Te(1)-ci)/X,Ru=o.duration?1e3*o.duration:1e3*Rr*.8;function qr(){var Je=(Date.now()-Bu)/Ru,Xn=Iu(Je)*Rr;Je<=1?(this._flyToFrame=ne(qr,this),this._move(this.unproject(r.add(u.subtract(r).multiplyBy(Ou(Xn)/I)),v),this.getScaleZoom(y/na(Xn),v),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),qr.call(this),this},flyToBounds:function(e,i){var o=this._getBoundsCenterZoom(e,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(e){if(e=H(e),e.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var o=this.getCenter(),r=this._limitCenter(o,this._zoom,H(e));return o.equals(r)||this.panTo(r,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var o=k(i.paddingTopLeft||i.padding||[0,0]),r=k(i.paddingBottomRight||i.padding||[0,0]),u=this.project(this.getCenter()),h=this.project(e),v=this.getPixelBounds(),y=V([v.min.add(o),v.max.subtract(r)]),C=y.getSize();if(!y.contains(h)){this._enforcingBounds=!0;var I=h.subtract(y.getCenter()),X=y.extend(h).getSize().subtract(C);u.x+=I.x<0?-X.x:X.x,u.y+=I.y<0?-X.y:X.y,this.panTo(this.unproject(u),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=s({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=i.divideBy(2).round(),u=o.divideBy(2).round(),h=r.subtract(u);return!h.x&&!h.y?this:(e.animate&&e.pan?this.panBy(h):(e.pan&&this._rawPanBy(h),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=s({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=d(this._handleGeolocationResponse,this),o=d(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,e):navigator.geolocation.getCurrentPosition(i,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(!!this._container._leaflet_id){var i=e.code,o=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(!!this._container._leaflet_id){var i=e.coords.latitude,o=e.coords.longitude,r=new ee(i,o),u=r.toBounds(e.coords.accuracy*2),h=this._locateOptions;if(h.setView){var v=this.getBoundsZoom(u);this.setView(r,h.maxZoom?Math.min(v,h.maxZoom):v)}var y={latlng:r,bounds:u,timestamp:e.timestamp};for(var C in e.coords)typeof e.coords[C]=="number"&&(y[C]=e.coords[C]);this.fire("locationfound",y)}},addHandler:function(e,i){if(!i)return this;var o=this[e]=new i(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)je(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=ke("div",o,i||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new W(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,o){e=H(e),o=k(o||[0,0]);var r=this.getZoom()||0,u=this.getMinZoom(),h=this.getMaxZoom(),v=e.getNorthWest(),y=e.getSouthEast(),C=this.getSize().subtract(o),I=V(this.project(y,r),this.project(v,r)).getSize(),X=Z.any3d?this.options.zoomSnap:1,ge=C.x/I.x,Te=C.y/I.y,ti=i?Math.max(ge,Te):Math.min(ge,Te);return r=this.getScaleZoom(ti,r),X&&(r=Math.round(r/(X/100))*(X/100),r=i?Math.ceil(r/X)*X:Math.floor(r/X)*X),Math.max(u,Math.min(h,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var o=this._getTopLeftPoint(e,i);return new M(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(e)/o.scale(i)},getScaleZoom:function(e,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var r=o.zoom(e*o.scale(i));return isNaN(r)?1/0:r},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(F(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(k(e),i)},layerPointToLatLng:function(e){var i=k(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(F(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(H(e))},distance:function(e,i){return this.options.crs.distance(F(e),F(i))},containerPointToLayerPoint:function(e){return k(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return k(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(k(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return or(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=tr(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fe(i,"scroll",this._onScroll,this),this._containerId=p(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,me(e,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=an(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xe(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(e.markerPane,"leaflet-zoom-hide"),me(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i){Xe(this._mapPane,new $(0,0));var o=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var r=this._zoom!==i;this._moveStart(r,!1)._move(e,i)._moveEnd(r),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,o,r){i===void 0&&(i=this._zoom);var u=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?o&&o.pinch&&this.fire("zoom",o):((u||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Xe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[p(this._container)]=this;var i=e?Fe:fe;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var o=[],r,u=i==="mouseout"||i==="mouseover",h=e.target||e.srcElement,v=!1;h;){if(r=this._targets[p(h)],r&&(i==="click"||i==="preclick")&&this._draggableMoved(r)){v=!0;break}if(r&&r.listens(i,!0)&&(u&&!jo(h,e)||(o.push(r),u))||h===this._container)break;h=h.parentNode}return!o.length&&!v&&!u&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var o=e.type;o==="mousedown"&&Fo(i),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,o){if(e.type==="click"){var r=s({},e);r.type="preclick",this._fireDOMEvent(r,r.type,o)}var u=this._findEventTargets(e,i);if(o){for(var h=[],v=0;v<o.length;v++)o[v].listens(i,!0)&&h.push(o[v]);u=h.concat(u)}if(!!u.length){i==="contextmenu"&&rt(e);var y=u[0],C={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var I=y.getLatLng&&(!y._radius||y._radius<=10);C.containerPoint=I?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(e),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=I?y.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(v=0;v<u.length;v++)if(u[v].fire(i,C,!0),C.originalEvent._stopped||u[v].options.bubblingMouseEvents===!1&&R(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return vi(this._mapPane)||new $(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var o=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var o=this.getSize()._divideBy(2);return this.project(e,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,o){var r=this._getNewPixelOrigin(o,i);return this.project(e,i)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,i,o){var r=this._getNewPixelOrigin(o,i);return V([this.project(e.getSouthWest(),i)._subtract(r),this.project(e.getNorthWest(),i)._subtract(r),this.project(e.getSouthEast(),i)._subtract(r),this.project(e.getNorthEast(),i)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,o){if(!o)return e;var r=this.project(e,i),u=this.getSize().divideBy(2),h=new M(r.subtract(u),r.add(u)),v=this._getBoundsOffset(h,o,i);return v.round().equals([0,0])?e:this.unproject(r.add(v),i)},_limitOffset:function(e,i){if(!i)return e;var o=this.getPixelBounds(),r=new M(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(r,i))},_getBoundsOffset:function(e,i,o){var r=V(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),u=r.min.subtract(e.min),h=r.max.subtract(e.max),v=this._rebound(u.x,-h.x),y=this._rebound(u.y,-h.y);return new $(v,y)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),o=this.getMaxZoom(),r=Z.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(i,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var o=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var e=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var o=tt,r=this._proxy.style[o];mi(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),r===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();mi(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(i),u=this._getCenterOffset(e)._divideBy(1-1/r);return o.animate!==!0&&!this.getSize().contains(u)?!1:(ne(function(){this._moveStart(!0,!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,o,r){!this._mapPane||(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yl(e,i){return new Se(e,i)}var zt=re.extend({options:{position:"topright"},initialize:function(e){z(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),o=this.getPosition(),r=e._controlCorners[o];return me(i,"leaflet-control"),o.indexOf("bottom")!==-1?r.insertBefore(i,r.firstChild):r.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),cn=function(e){return new zt(e)};Se.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",o=this._controlContainer=ke("div",i+"control-container",this._container);function r(u,h){var v=i+u+" "+i+h;e[u+h]=ke("div",v,o)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)je(this._controlCorners[e]);je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sr=zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,o,r){return o<r?-1:r<o?1:0}},initialize:function(e,i,o){z(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in i)this._addLayer(i[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return zt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(p(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=ke("div",e),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),un(i),Uo(i);var r=this._section=ke("section",e+"-list");o&&(this._map.on("click",this.collapse,this),fe(i,{mouseenter:function(){fe(r,"click",rt),this.expand(),setTimeout(function(){Fe(r,"click",rt)})},mouseleave:this.collapse},this));var u=this._layersLink=ke("a",e+"-toggle",i);u.href="#",u.title="Layers",u.setAttribute("role","button"),fe(u,"click",rt),fe(u,"focus",this.expand,this),o||this.expand(),this._baseLayersList=ke("div",e+"-base",r),this._separator=ke("div",e+"-separator",r),this._overlaysList=ke("div",e+"-overlays",r),i.appendChild(r)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&p(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(d(function(r,u){return this.options.sortFunction(r.layer,u.layer,r.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rn(this._baseLayersList),Rn(this._overlaysList),this._layerControlInputs=[];var e,i,o,r,u=0;for(o=0;o<this._layers.length;o++)r=this._layers[o],this._addItem(r),i=i||r.overlay,e=e||!r.overlay,u+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(p(e.target)),o=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(e,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=o,r.firstChild},_addItem:function(e){var i=document.createElement("label"),o=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=o):r=this._createRadioElement("leaflet-base-layers_"+p(this),o),this._layerControlInputs.push(r),r.layerId=p(e.layer),fe(r,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var h=document.createElement("span");i.appendChild(h),h.appendChild(r),h.appendChild(u);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var e=this._layerControlInputs,i,o,r=[],u=[];this._handlingClick=!0;for(var h=e.length-1;h>=0;h--)i=e[h],o=this._getLayer(i.layerId).layer,i.checked?r.push(o):i.checked||u.push(o);for(h=0;h<u.length;h++)this._map.hasLayer(u[h])&&this._map.removeLayer(u[h]);for(h=0;h<r.length;h++)this._map.hasLayer(r[h])||this._map.addLayer(r[h]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,o,r=this._map.getZoom(),u=e.length-1;u>=0;u--)i=e[u],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&r<o.options.minZoom||o.options.maxZoom!==void 0&&r>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Ql=function(e,i,o){return new sr(e,i,o)},Wo=zt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",o=ke("div",i+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,o,r,u){var h=ke("a",o,r);return h.innerHTML=e,h.href="#",h.title=i,h.setAttribute("role","button"),h.setAttribute("aria-label",i),un(h),fe(h,"click",_i),fe(h,"click",u,this),fe(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";Ye(this._zoomInButton,i),Ye(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(me(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(me(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wo,this.addControl(this.zoomControl))});var Xl=function(e){return new Wo(e)},lr=zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",o=ke("div",i),r=this.options;return this._addScales(r,i+"-line",o),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,o){e.metric&&(this._mScale=ke("div",i,o)),e.imperial&&(this._iScale=ke("div",i,o))},_update:function(){var e=this._map,i=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/e)},_updateImperial:function(e){var i=e*3.2808399,o,r,u;i>5280?(o=i/5280,r=this._getRoundNum(o),this._updateScale(this._iScale,r+" mi",r/o)):(u=this._getRoundNum(i),this._updateScale(this._iScale,u+" ft",u/i))},_updateScale:function(e,i,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),o=e/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),Jl=function(e){return new lr(e)},eu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Go=zt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?eu+" ":"")+"Leaflet</a>"},initialize:function(e){z(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),un(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(!!this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new Go().addTo(this)});var tu=function(e){return new Go(e)};zt.Layers=sr,zt.Zoom=Wo,zt.Scale=lr,zt.Attribution=Go,cn.layers=Ql,cn.zoom=Xl,cn.scale=Jl,cn.attribution=tu;var Ft=re.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(e,i){return e.addHandler(i,this),this};var iu={Events:se},ur=Z.touch?"touchstart mousedown":"mousedown",li=xe.extend({options:{clickTolerance:3},initialize:function(e,i,o,r){z(this,r),this._element=e,this._dragStartTarget=i||e,this._preventOutline=o},enable:function(){this._enabled||(fe(this._dragStartTarget,ur,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(li._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!!this._enabled&&(this._moved=!1,!Io(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(li._dragging=this,this._preventOutline&&Fo(this._element),qo(),rn(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,o=ir(this._element);this._startPoint=new $(i.clientX,i.clientY),this._startPos=vi(this._element),this._parentScale=No(o);var r=e.type==="mousedown";fe(document,r?"mousemove":"touchmove",this._onMove,this),fe(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(!!this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,o=new $(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,rt(e),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Xe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(e){Ye(document.body,"leaflet-dragging"),this._lastTarget&&(Ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Do(),sn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,li._dragging=!1}});function cr(e,i){if(!i||!e.length)return e.slice();var o=i*i;return e=au(e,o),e=ou(e,o),e}function dr(e,i,o){return Math.sqrt(dn(e,i,o,!0))}function nu(e,i,o){return dn(e,i,o)}function ou(e,i){var o=e.length,r=typeof Uint8Array!=void 0+""?Uint8Array:Array,u=new r(o);u[0]=u[o-1]=1,Ko(e,u,i,0,o-1);var h,v=[];for(h=0;h<o;h++)u[h]&&v.push(e[h]);return v}function Ko(e,i,o,r,u){var h=0,v,y,C;for(y=r+1;y<=u-1;y++)C=dn(e[y],e[r],e[u],!0),C>h&&(v=y,h=C);h>o&&(i[v]=1,Ko(e,i,o,r,v),Ko(e,i,o,v,u))}function au(e,i){for(var o=[e[0]],r=1,u=0,h=e.length;r<h;r++)ru(e[r],e[u])>i&&(o.push(e[r]),u=r);return u<h-1&&o.push(e[h-1]),o}var hr;function fr(e,i,o,r,u){var h=r?hr:bi(e,o),v=bi(i,o),y,C,I;for(hr=v;;){if(!(h|v))return[e,i];if(h&v)return!1;y=h||v,C=Nn(e,i,y,o,u),I=bi(C,o),y===h?(e=C,h=I):(i=C,v=I)}}function Nn(e,i,o,r,u){var h=i.x-e.x,v=i.y-e.y,y=r.min,C=r.max,I,X;return o&8?(I=e.x+h*(C.y-e.y)/v,X=C.y):o&4?(I=e.x+h*(y.y-e.y)/v,X=y.y):o&2?(I=C.x,X=e.y+v*(C.x-e.x)/h):o&1&&(I=y.x,X=e.y+v*(y.x-e.x)/h),new $(I,X,u)}function bi(e,i){var o=0;return e.x<i.min.x?o|=1:e.x>i.max.x&&(o|=2),e.y<i.min.y?o|=4:e.y>i.max.y&&(o|=8),o}function ru(e,i){var o=i.x-e.x,r=i.y-e.y;return o*o+r*r}function dn(e,i,o,r){var u=i.x,h=i.y,v=o.x-u,y=o.y-h,C=v*v+y*y,I;return C>0&&(I=((e.x-u)*v+(e.y-h)*y)/C,I>1?(u=o.x,h=o.y):I>0&&(u+=v*I,h+=y*I)),v=e.x-u,y=e.y-h,r?v*v+y*y:new $(u,h)}function Qt(e){return!Y(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"}function pr(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(e)}var su={__proto__:null,simplify:cr,pointToSegmentDistance:dr,closestPointOnSegment:nu,clipSegment:fr,_getEdgeIntersection:Nn,_getBitCode:bi,_sqClosestPointOnSegment:dn,isFlat:Qt,_flat:pr};function mr(e,i,o){var r,u=[1,4,2,8],h,v,y,C,I,X,ge,Te;for(h=0,X=e.length;h<X;h++)e[h]._code=bi(e[h],i);for(y=0;y<4;y++){for(ge=u[y],r=[],h=0,X=e.length,v=X-1;h<X;v=h++)C=e[h],I=e[v],C._code&ge?I._code&ge||(Te=Nn(I,C,ge,i,o),Te._code=bi(Te,i),r.push(Te)):(I._code&ge&&(Te=Nn(I,C,ge,i,o),Te._code=bi(Te,i),r.push(Te)),r.push(C));e=r}return e}var lu={__proto__:null,clipPolygon:mr},Yo={project:function(e){return new $(e.lng,e.lat)},unproject:function(e){return new ee(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Qo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,o=this.R,r=e.lat*i,u=this.R_MINOR/o,h=Math.sqrt(1-u*u),v=h*Math.sin(r),y=Math.tan(Math.PI/4-r/2)/Math.pow((1-v)/(1+v),h/2);return r=-o*Math.log(Math.max(y,1e-10)),new $(e.lng*i*o,r)},unproject:function(e){for(var i=180/Math.PI,o=this.R,r=this.R_MINOR/o,u=Math.sqrt(1-r*r),h=Math.exp(-e.y/o),v=Math.PI/2-2*Math.atan(h),y=0,C=.1,I;y<15&&Math.abs(C)>1e-7;y++)I=u*Math.sin(v),I=Math.pow((1-I)/(1+I),u/2),C=Math.PI/2-2*Math.atan(h*I)-v,v+=C;return new ee(v*i,e.x*i/o)}},uu={__proto__:null,LonLat:Yo,Mercator:Qo,SphericalMercator:K},cu=s({},pe,{code:"EPSG:3395",projection:Qo,transformation:function(){var e=.5/(Math.PI*Qo.R);return Qe(e,.5,-e,.5)}()}),vr=s({},pe,{code:"EPSG:4326",projection:Yo,transformation:Qe(1/180,1,-1/180,.5)}),du=s({},G,{projection:Yo,transformation:Qe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var o=i.lng-e.lng,r=i.lat-e.lat;return Math.sqrt(o*o+r*r)},infinite:!0});G.Earth=pe,G.EPSG3395=cu,G.EPSG3857=Be,G.EPSG900913=gt,G.EPSG4326=vr,G.Simple=du;var Et=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[p(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[p(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(!!i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=p(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=p(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return p(e)in this._layers},eachLayer:function(e,i){for(var o in this._layers)e.call(i,this._layers[o]);return this},_addLayers:function(e){e=e?Y(e)?e:[e]:[];for(var i=0,o=e.length;i<o;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[p(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=p(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,o=this._getZoomSpan();for(var r in this._zoomBoundLayers){var u=this._zoomBoundLayers[r].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),i=u.maxZoom===void 0?i:Math.max(i,u.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=Et.extend({initialize:function(e,i){z(this,i),this._layers={};var o,r;if(e)for(o=0,r=e.length;o<r;o++)this.addLayer(e[o])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),o,r;for(o in this._layers)r=this._layers[o],r[e]&&r[e].apply(r,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var o in this._layers)e.call(i,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return p(e)}}),hu=function(e,i){return new Bi(e,i)},Ri=Bi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Bi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Bi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new W;for(var i in this._layers){var o=this._layers[i];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),fu=function(e,i){return new Ri(e,i)},qi=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){z(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(e,i){var o=this.options,r=o[i+"Size"];typeof r=="number"&&(r=[r,r]);var u=k(r),h=k(i==="shadow"&&o.shadowAnchor||o.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(o.className||""),h&&(e.style.marginLeft=-h.x+"px",e.style.marginTop=-h.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return Z.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function pu(e){return new qi(e)}var hn=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof hn.imagePath!="string"&&(hn.imagePath=this._detectIconPath()),(this.options.imagePath||hn.imagePath)+qi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(o,r,u){var h=r.exec(o);return h&&h[u]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ke("div","leaflet-default-icon-path",document.body),i=an(e,"background-image")||an(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),gr=Ft.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new li(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,o=i._map,r=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,h=vi(i._icon),v=o.getPixelBounds(),y=o.getPixelOrigin(),C=V(v.min._subtract(y).add(u),v.max._subtract(y).subtract(u));if(!C.contains(h)){var I=k((Math.max(C.max.x,h.x)-C.max.x)/(v.max.x-C.max.x)-(Math.min(C.min.x,h.x)-C.min.x)/(v.min.x-C.min.x),(Math.max(C.max.y,h.y)-C.max.y)/(v.max.y-C.max.y)-(Math.min(C.min.y,h.y)-C.min.y)/(v.min.y-C.min.y)).multiplyBy(r);o.panBy(I,{animate:!1}),this._draggable._newPos._add(I),this._draggable._startPos._add(I),Xe(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ne(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,o=i._shadow,r=vi(i._icon),u=i._map.layerPointToLatLng(r);o&&Xe(o,r),i._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Zn=Et.extend({options:{icon:new hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){z(this,i),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=F(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),r=!1;o!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),me(o,i),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(o,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),h=!1;u!==this._shadow&&(this._removeShadow(),h=!0),u&&(me(u,i),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&h&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&je(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Xe(this._icon,e),this._shadow&&Xe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(!!this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Pt(this._icon,e),this._shadow&&Pt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(!!e){var i=this.options.icon.options,o=i.iconSize?k(i.iconSize):k(0,0),r=i.iconAnchor?k(i.iconAnchor):k(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:o.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mu(e,i){return new Zn(e,i)}var ui=Et.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return z(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vn=ui.extend({options:{fill:!0,radius:10},initialize:function(e,i){z(this,i),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=F(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return ui.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,o=this._clickTolerance(),r=[e+o,i+o];this._pxBounds=new M(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vu(e,i){return new Vn(e,i)}var Xo=Vn.extend({initialize:function(e,i,o){if(typeof i=="number"&&(i=s({},o,{radius:i})),z(this,i),this._latlng=F(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ui.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,o=this._map,r=o.options.crs;if(r.distance===pe.distance){var u=Math.PI/180,h=this._mRadius/pe.R/u,v=o.project([i+h,e]),y=o.project([i-h,e]),C=v.add(y).divideBy(2),I=o.unproject(C).lat,X=Math.acos((Math.cos(h*u)-Math.sin(i*u)*Math.sin(I*u))/(Math.cos(i*u)*Math.cos(I*u)))/u;(isNaN(X)||X===0)&&(X=h/Math.cos(Math.PI/180*i)),this._point=C.subtract(o.getPixelOrigin()),this._radius=isNaN(X)?0:C.x-o.project([I,e-X]).x,this._radiusY=C.y-v.y}else{var ge=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(ge).x}this._updateBounds()}});function gu(e,i,o){return new Xo(e,i,o)}var Xt=ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){z(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,o=null,r=dn,u,h,v=0,y=this._parts.length;v<y;v++)for(var C=this._parts[v],I=1,X=C.length;I<X;I++){u=C[I-1],h=C[I];var ge=r(e,u,h,!0);ge<i&&(i=ge,o=r(e,u,h))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,i,o,r,u,h,v,y=this._rings[0],C=y.length;if(!C)return null;for(e=0,i=0;e<C-1;e++)i+=y[e].distanceTo(y[e+1])/2;if(i===0)return this._map.layerPointToLatLng(y[0]);for(e=0,r=0;e<C-1;e++)if(u=y[e],h=y[e+1],o=u.distanceTo(h),r+=o,r>i)return v=(r-i)/o,this._map.layerPointToLatLng([h.x-v*(h.x-u.x),h.y-v*(h.y-u.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=F(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new W,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],o=Qt(e),r=0,u=e.length;r<u;r++)o?(i[r]=F(e[r]),this._bounds.extend(i[r])):i[r]=this._convertLatLngs(e[r]);return i},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new $(e,e);!this._rawPxBounds||(this._pxBounds=new M([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,o){var r=e[0]instanceof ee,u=e.length,h,v;if(r){for(v=[],h=0;h<u;h++)v[h]=this._map.latLngToLayerPoint(e[h]),o.extend(v[h]);i.push(v)}else for(h=0;h<u;h++)this._projectLatlngs(e[h],i,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,r,u,h,v,y,C;for(o=0,u=0,h=this._rings.length;o<h;o++)for(C=this._rings[o],r=0,v=C.length;r<v-1;r++)y=fr(C[r],C[r+1],e,r,!0),y&&(i[u]=i[u]||[],i[u].push(y[0]),(y[1]!==C[r+1]||r===v-2)&&(i[u].push(y[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,o=0,r=e.length;o<r;o++)e[o]=cr(e[o],i)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var o,r,u,h,v,y,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,h=this._parts.length;o<h;o++)for(y=this._parts[o],r=0,v=y.length,u=v-1;r<v;u=r++)if(!(!i&&r===0)&&dr(e,y[u],y[r])<=C)return!0;return!1}});function _u(e,i){return new Xt(e,i)}Xt._flat=pr;var Di=Xt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,i,o,r,u,h,v,y,C,I=this._rings[0],X=I.length;if(!X)return null;for(h=v=y=0,e=0,i=X-1;e<X;i=e++)o=I[e],r=I[i],u=o.y*r.x-r.y*o.x,v+=(o.x+r.x)*u,y+=(o.y+r.y)*u,h+=u*3;return h===0?C=I[0]:C=[v/h,y/h],this._map.layerPointToLatLng(C)},_convertLatLngs:function(e){var i=Xt.prototype._convertLatLngs.call(this,e),o=i.length;return o>=2&&i[0]instanceof ee&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(e){Xt.prototype._setLatLngs.call(this,e),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,o=new $(i,i);if(e=new M(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,u=this._rings.length,h;r<u;r++)h=mr(this._rings[r],e,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,o,r,u,h,v,y,C,I;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(h=0,C=this._parts.length;h<C;h++)for(o=this._parts[h],v=0,I=o.length,y=I-1;v<I;y=v++)r=o[v],u=o[y],r.y>e.y!=u.y>e.y&&e.x<(u.x-r.x)*(e.y-r.y)/(u.y-r.y)+r.x&&(i=!i);return i||Xt.prototype._containsPoint.call(this,e,!0)}});function bu(e,i){return new Di(e,i)}var Jt=Ri.extend({initialize:function(e,i){z(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=Y(e)?e:e.features,o,r,u;if(i){for(o=0,r=i.length;o<r;o++)u=i[o],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var h=this.options;if(h.filter&&!h.filter(e))return this;var v=Jo(e,h);return v?(v.feature=jn(e),v.defaultOptions=v.options,this.resetStyle(v),h.onEachFeature&&h.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=s({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function Jo(e,i){var o=e.type==="Feature"?e.geometry:e,r=o?o.coordinates:null,u=[],h=i&&i.pointToLayer,v=i&&i.coordsToLatLng||ea,y,C,I,X;if(!r&&!o)return null;switch(o.type){case"Point":return y=v(r),_r(h,e,y,i);case"MultiPoint":for(I=0,X=r.length;I<X;I++)y=v(r[I]),u.push(_r(h,e,y,i));return new Ri(u);case"LineString":case"MultiLineString":return C=Hn(r,o.type==="LineString"?0:1,v),new Xt(C,i);case"Polygon":case"MultiPolygon":return C=Hn(r,o.type==="Polygon"?1:2,v),new Di(C,i);case"GeometryCollection":for(I=0,X=o.geometries.length;I<X;I++){var ge=Jo({geometry:o.geometries[I],type:"Feature",properties:e.properties},i);ge&&u.push(ge)}return new Ri(u);default:throw new Error("Invalid GeoJSON object.")}}function _r(e,i,o,r){return e?e(i,o):new Zn(o,r&&r.markersInheritOptions&&r)}function ea(e){return new ee(e[1],e[0],e[2])}function Hn(e,i,o){for(var r=[],u=0,h=e.length,v;u<h;u++)v=i?Hn(e[u],i-1,o):(o||ea)(e[u]),r.push(v);return r}function ta(e,i){return e=F(e),e.alt!==void 0?[T(e.lng,i),T(e.lat,i),T(e.alt,i)]:[T(e.lng,i),T(e.lat,i)]}function Un(e,i,o,r){for(var u=[],h=0,v=e.length;h<v;h++)u.push(i?Un(e[h],i-1,o,r):ta(e[h],r));return!i&&o&&u.push(u[0]),u}function $i(e,i){return e.feature?s({},e.feature,{geometry:i}):jn(i)}function jn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ia={toGeoJSON:function(e){return $i(this,{type:"Point",coordinates:ta(this.getLatLng(),e)})}};Zn.include(ia),Xo.include(ia),Vn.include(ia),Xt.include({toGeoJSON:function(e){var i=!Qt(this._latlngs),o=Un(this._latlngs,i?1:0,!1,e);return $i(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),Di.include({toGeoJSON:function(e){var i=!Qt(this._latlngs),o=i&&!Qt(this._latlngs[0]),r=Un(this._latlngs,o?2:i?1:0,!0,e);return i||(r=[r]),$i(this,{type:(o?"Multi":"")+"Polygon",coordinates:r})}}),Bi.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(e).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var o=i==="GeometryCollection",r=[];return this.eachLayer(function(u){if(u.toGeoJSON){var h=u.toGeoJSON(e);if(o)r.push(h.geometry);else{var v=jn(h);v.type==="FeatureCollection"?r.push.apply(r,v.features):r.push(v)}}}),o?$i(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function br(e,i){return new Jt(e,i)}var yu=br,Wn=Et.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,o){this._url=e,this._bounds=H(i),z(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=H(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:ke("img");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onload=d(this.fire,this,"load"),i.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;mi(this._image,o,i)},_reset:function(){var e=this._image,i=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();Xe(e,i.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){Pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),xu=function(e,i,o){return new Wn(e,i,o)},yr=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:ke("video");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=x,i.onmousemove=x,i.onloadeddata=d(this.fire,this,"load"),e){for(var o=i.getElementsByTagName("source"),r=[],u=0;u<o.length;u++)r.push(o[u].src);this._url=o.length>0?r:[i.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var v=ke("source");v.src=this._url[h],i.appendChild(v)}}});function wu(e,i,o){return new yr(e,i,o)}var xr=Wn.extend({_initImage:function(){var e=this._image=this._url;me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=x,e.onmousemove=x}});function Su(e,i,o){return new xr(e,i,o)}var Nt=Et.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,i){z(this,e),this._source=i},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Pt(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Pt(this._container,0),this._removeTimeout=setTimeout(d(je,void 0,this._container),200)):je(this._container),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof Ri){i=null;var o=this._source._layers;for(var r in o)if(o[r]._map){i=o[r];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=k(this.options.offset),o=this._getAnchor();this._zoomAnimated?Xe(this._container,e.add(o)):i=i.add(e).add(o);var r=this._containerBottom=-i.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=r+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(e,i,o,r){var u=i;return u instanceof e||(u=new e(r).setContent(i)),o&&u.setLatLng(o),u}}),Et.include({_initOverlay:function(e,i,o,r){var u=o;return u instanceof e?(z(u,r),u._source=this):(u=i&&!r?i:new e(r,this),u.setContent(o)),u}});var Gn=Nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Nt.prototype.openOn.call(this,e)},onAdd:function(e){Nt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ui||this._source.on("preclick",gi))},onRemove:function(e){Nt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ui||this._source.off("preclick",gi))},getEvents:function(){var e=Nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=ke("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ke("div",e+"-content-wrapper",i);if(this._contentNode=ke("div",e+"-content",o),un(i),Uo(this._contentNode),fe(i,"contextmenu",gi),this._tipContainer=ke("div",e+"-tip-container",i),this._tip=ke("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ke("a",e+"-close-button",i);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',fe(r,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var r=e.offsetHeight,u=this.options.maxHeight,h="leaflet-popup-scrolled";u&&r>u?(i.height=u+"px",me(e,h)):Ye(e,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();Xe(this._container,i.add(o))},_adjustPan:function(e){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var i=this._map,o=parseInt(an(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+o,u=this._containerWidth,h=new $(this._containerLeft,-r-this._containerBottom);h._add(vi(this._container));var v=i.layerPointToContainerPoint(h),y=k(this.options.autoPanPadding),C=k(this.options.autoPanPaddingTopLeft||y),I=k(this.options.autoPanPaddingBottomRight||y),X=i.getSize(),ge=0,Te=0;v.x+u+I.x>X.x&&(ge=v.x+u-X.x+I.x),v.x-ge-C.x<0&&(ge=v.x-C.x),v.y+r+I.y>X.y&&(Te=v.y+r-X.y+I.y),v.y-Te-C.y<0&&(Te=v.y-C.y),(ge||Te)&&i.fire("autopanstart").panBy([ge,Te],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tu=function(e,i){return new Gn(e,i)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(e,i,o){return this._initOverlay(Gn,e,i,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Et.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Gn,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){_i(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Kn=Nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Nt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Nt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Nt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",i)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,o,r=this._map,u=this._container,h=r.latLngToContainerPoint(r.getCenter()),v=r.layerPointToContainerPoint(e),y=this.options.direction,C=u.offsetWidth,I=u.offsetHeight,X=k(this.options.offset),ge=this._getAnchor();y==="top"?(i=C/2,o=I):y==="bottom"?(i=C/2,o=0):y==="center"?(i=C/2,o=I/2):y==="right"?(i=0,o=I/2):y==="left"?(i=C,o=I/2):v.x<h.x?(y="right",i=0,o=I/2):(y="left",i=C+(X.x+ge.x)*2,o=I/2),e=e.subtract(k(i,o,!0)).add(X).add(ge),Ye(u,"leaflet-tooltip-right"),Ye(u,"leaflet-tooltip-left"),Ye(u,"leaflet-tooltip-top"),Ye(u,"leaflet-tooltip-bottom"),me(u,"leaflet-tooltip-"+y),Xe(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Pt(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cu=function(e,i){return new Kn(e,i)};Se.include({openTooltip:function(e,i,o){return this._initOverlay(Kn,e,i,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Et.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kn,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var i=e.latlng,o,r;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(i)}});var wr=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Rn(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var r=k(o.bgPos);i.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Pu(e){return new wr(e)}qi.Default=hn;var fn=Et.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){z(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),je(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof $?e:new $(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,o=-e(-1/0,1/0),r=0,u=i.length,h;r<u;r++)h=i[r].style.zIndex,i[r]!==this._container&&h&&(o=e(o,+h));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!Z.ielt9){Pt(this._container,this.options.opacity);var e=+new Date,i=!1,o=!1;for(var r in this._tiles){var u=this._tiles[r];if(!(!u.current||!u.loaded)){var h=Math.min(1,(e-u.loaded)/200);Pt(u.el,h),h<1?i=!0:(u.active?o=!0:this._onOpaqueTile(u),u.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(q(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=i-Math.abs(e-o),this._onUpdateLevel(o)):(je(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var r=this._levels[e],u=this._map;return r||(r=this._levels[e]={},r.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=i,r.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,u.getCenter(),u.getZoom()),x(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(!!this._map){var e,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var r=i.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)je(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,o,r){var u=Math.floor(e/2),h=Math.floor(i/2),v=o-1,y=new $(+u,+h);y.z=+v;var C=this._tileCoordsToKey(y),I=this._tiles[C];return I&&I.active?(I.retain=!0,!0):(I&&I.loaded&&(I.retain=!0),v>r?this._retainParent(u,h,v,r):!1)},_retainChildren:function(e,i,o,r){for(var u=2*e;u<2*e+2;u++)for(var h=2*i;h<2*i+2;h++){var v=new $(u,h);v.z=o+1;var y=this._tileCoordsToKey(v),C=this._tiles[y];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);o+1<r&&this._retainChildren(u,h,o+1,r)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,o,r){var u=Math.round(i);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var h=this.options.updateWhenZooming&&u!==this._tileZoom;(!r||h)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,i)},_setZoomTransform:function(e,i,o){var r=this._map.getZoomScale(o,e.zoom),u=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(i,o)).round();Z.any3d?mi(e.el,u,r):Xe(e.el,u)},_resetGrid:function(){var e=this._map,i=e.options.crs,o=this._tileSize=this.getTileSize(),r=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],r).x/o.x),Math.ceil(e.project([0,i.wrapLng[1]],r).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],r).y/o.x),Math.ceil(e.project([i.wrapLat[1],0],r).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),r=i.getZoomScale(o,this._tileZoom),u=i.project(e,this._tileZoom).floor(),h=i.getSize().divideBy(r*2);return new M(u.subtract(h),u.add(h))},_update:function(e){var i=this._map;if(!!i){var o=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(r),h=u.getCenter(),v=[],y=this.options.keepBuffer,C=new M(u.getBottomLeft().subtract([y,-y]),u.getTopRight().add([y,-y]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var I in this._tiles){var X=this._tiles[I].coords;(X.z!==this._tileZoom||!C.contains(new $(X.x,X.y)))&&(this._tiles[I].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var ge=u.min.y;ge<=u.max.y;ge++)for(var Te=u.min.x;Te<=u.max.x;Te++){var ti=new $(Te,ge);if(ti.z=this._tileZoom,!!this._isValidTile(ti)){var yi=this._tiles[this._tileCoordsToKey(ti)];yi?yi.current=!0:v.push(ti)}}if(v.sort(function(ci,na){return ci.distanceTo(h)-na.distanceTo(h)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Te=0;Te<v.length;Te++)this._addTile(v[Te],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!i.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return H(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,o=this.getTileSize(),r=e.scaleBy(o),u=r.add(o),h=i.unproject(r,e.z),v=i.unproject(u,e.z);return[h,v]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),o=new W(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),o=new $(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(e){var i=this._tiles[e];!i||(je(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){me(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=x,e.onmousemove=x,Z.ielt9&&this.options.opacity<1&&Pt(e,this.options.opacity)},_addTile:function(e,i){var o=this._getTilePos(e),r=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),d(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&ne(d(this._tileReady,this,e,null,u)),Xe(u,o),this._tiles[r]={el:u,coords:e,current:!0},i.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:e});var r=this._tileCoordsToKey(e);o=this._tiles[r],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Pt(o.el,0),q(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(me(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new $(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new M(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function ku(e){return new fn(e)}var Fi=fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=z(this,i),i.detectRetina&&Z.retina&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var o=document.createElement("img");return fe(o,"load",d(this._tileOnLoad,this,i,o)),fe(o,"error",d(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.setAttribute("role","presentation"),o.src=this.getTileUrl(e),o},getTileUrl:function(e){var i={r:Z.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=o),i["-y"]=o}return B(this._url,s(i,this.options))},_tileOnLoad:function(e,i){Z.ielt9?setTimeout(d(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,o){var r=this.options.errorTileUrl;r&&i.getAttribute("src")!==r&&(i.src=r),e(o,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,r=this.options.zoomOffset;return o&&(e=i-e),e+r},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=x,i.onerror=x,!i.complete)){i.src=Q;var o=this._tiles[e].coords;je(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(e){var i=this._tiles[e];if(!!i)return i.el.setAttribute("src",Q),fn.prototype._removeTile.call(this,e)},_tileReady:function(e,i,o){if(!(!this._map||o&&o.getAttribute("src")===Q))return fn.prototype._tileReady.call(this,e,i,o)}});function Sr(e,i){return new Fi(e,i)}var Tr=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var o=s({},this.defaultWmsParams);for(var r in i)r in this.options||(o[r]=i[r]);i=z(this,i);var u=i.detectRetina&&Z.retina?2:1,h=this.getTileSize();o.width=h.x*u,o.height=h.y*u,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Fi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),o=this._crs,r=V(o.project(i[0]),o.project(i[1])),u=r.min,h=r.max,v=(this._wmsVersion>=1.3&&this._crs===vr?[u.y,u.x,h.y,h.x]:[u.x,u.y,h.x,h.y]).join(","),y=Fi.prototype.getTileUrl.call(this,e);return y+E(this.wmsParams,y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,i){return s(this.wmsParams,e),i||this.redraw(),this}});function Lu(e,i){return new Tr(e,i)}Fi.WMS=Tr,Sr.wms=Lu;var ei=Et.extend({options:{padding:.1},initialize:function(e){z(this,e),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var o=this._map.getZoomScale(i,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,i),h=r.multiplyBy(-o).add(u).subtract(this._map._getNewPixelOrigin(e,i));Z.any3d?mi(this._container,h,o):Xe(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new M(o,o.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cr=ei.extend({options:{tolerance:0},getEvents:function(){var e=ei.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");fe(e,"mousemove",this._onMouseMove,this),fe(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fe(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,je(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var e=this._bounds,i=this._container,o=e.getSize(),r=Z.retina?2:1;Xe(i,e.min),i.width=r*o.x,i.height=r*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[p(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,o=i.next,r=i.prev;o?o.prev=r:this._drawLast=r,r?r.next=o:this._drawFirst=o,delete e._order,delete this._layers[p(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),o=[],r,u;for(u=0;u<i.length;u++){if(r=Number(i[u]),isNaN(r))return;o.push(r)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){!this._map||(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(!!this._drawing){var o,r,u,h,v=e._parts,y=v.length,C=this._ctx;if(!!y){for(C.beginPath(),o=0;o<y;o++){for(r=0,u=v[o].length;r<u;r++)h=v[o][r],C[r?"lineTo":"moveTo"](h.x,h.y);i&&C.closePath()}this._fillStroke(C,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,o=this._ctx,r=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||r)/r;u!==1&&(o.save(),o.scale(1,u)),o.beginPath(),o.arc(i.x,i.y/u,r,0,Math.PI*2,!1),u!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,i){var o=i.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),o,r,u=this._drawFirst;u;u=u.next)o=u.layer,o.options.interactive&&o._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(r=o);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var o,r,u=this._drawFirst;u;u=u.next)o=u.layer,o.options.interactive&&o._containsPoint(i)&&(r=o);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(me(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,o){this._map._fireDOMEvent(i,o||i.type,e)},_bringToFront:function(e){var i=e._order;if(!!i){var o=i.next,r=i.prev;if(o)o.prev=r;else return;r?r.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(!!i){var o=i.next,r=i.prev;if(r)r.next=o;else return;o?o.prev=r:r&&(this._drawLast=r),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Pr(e){return Z.canvas?new Cr(e):null}var pn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Au={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=pn("shape");me(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=pn("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[p(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;je(i),e.removeInteractiveTarget(i),delete this._layers[p(e)]},_updateStyle:function(e){var i=e._stroke,o=e._fill,r=e.options,u=e._container;u.stroked=!!r.stroke,u.filled=!!r.fill,r.stroke?(i||(i=e._stroke=pn("stroke")),u.appendChild(i),i.weight=r.weight+"px",i.color=r.color,i.opacity=r.opacity,r.dashArray?i.dashStyle=Y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=r.lineCap.replace("butt","flat"),i.joinstyle=r.lineJoin):i&&(u.removeChild(i),e._stroke=null),r.fill?(o||(o=e._fill=pn("fill")),u.appendChild(o),o.color=r.fillColor||r.color,o.opacity=r.fillOpacity):o&&(u.removeChild(o),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),o=Math.round(e._radius),r=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+r+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){Oi(e._container)},_bringToBack:function(e){Ii(e._container)}},Yn=Z.vml?pn:ot,mn=ei.extend({_initContainer:function(){this._container=Yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){je(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var e=this._bounds,i=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),Xe(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Yn("path");e.options.className&&me(i,e.options.className),e.options.interactive&&me(i,"leaflet-interactive"),this._updateStyle(e),this._layers[p(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){je(e._path),e.removeInteractiveTarget(e._path),delete this._layers[p(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,o=e.options;!i||(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,nt(e._parts,i))},_updateCircle:function(e){var i=e._point,o=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||o,u="a"+o+","+r+" 0 1,0 ",h=e._empty()?"M0 0":"M"+(i.x-o)+","+i.y+u+o*2+",0 "+u+-o*2+",0 ";this._setPath(e,h)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){Oi(e._path)},_bringToBack:function(e){Ii(e._path)}});Z.vml&&mn.include(Au);function kr(e){return Z.svg||Z.vml?new mn(e):null}Se.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Pr(e)||kr(e)}});var Lr=Di.extend({initialize:function(e,i){Di.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=H(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Mu(e,i){return new Lr(e,i)}mn.create=Yn,mn.pointsToPath=nt,Jt.geometryToLayer=Jo,Jt.coordsToLatLng=ea,Jt.coordsToLatLngs=Hn,Jt.latLngToCoords=ta,Jt.latLngsToCoords=Un,Jt.getFeature=$i,Jt.asFeature=jn,Se.mergeOptions({boxZoom:!0});var Ar=Ft.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rn(),qo(),this._startPoint=this._map.mouseEventToContainerPoint(e),fe(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new M(this._point,this._startPoint),o=i.getSize();Xe(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(je(this._box),Ye(this._container,"leaflet-crosshair")),sn(),Do(),Fe(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var i=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",Ar),Se.mergeOptions({doubleClickZoom:!0});var Mr=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,o=i.getZoom(),r=i.options.zoomDelta,u=e.originalEvent.shiftKey?o-r:o+r;i.options.doubleClickZoom==="center"?i.setZoom(u):i.setZoomAround(e.containerPoint,u)}});Se.addInitHook("addHandler","doubleClickZoom",Mr),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zr=Ft.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new li(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ye(this._map._container,"leaflet-grab"),Ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=H(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),o=this._initialWorldOffset,r=this._draggable._newPos.x,u=(r-i+o)%e+i-o,h=(r+i+o)%e-i-o,v=Math.abs(u+o)<Math.abs(h+o)?u:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var i=this._map,o=i.options,r=!o.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),r)i.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,v=o.easeLinearity,y=u.multiplyBy(v/h),C=y.distanceTo([0,0]),I=Math.min(o.inertiaMaxSpeed,C),X=y.multiplyBy(I/C),ge=I/(o.inertiaDeceleration*v),Te=X.multiplyBy(-ge/2).round();!Te.x&&!Te.y?i.fire("moveend"):(Te=i._limitOffset(Te,i.options.maxBounds),ne(function(){i.panBy(Te,{duration:ge,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",zr),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Er=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),fe(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,o=e.scrollTop||i.scrollTop,r=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},o=this.keyCodes,r,u;for(r=0,u=o.left.length;r<u;r++)i[o.left[r]]=[-1*e,0];for(r=0,u=o.right.length;r<u;r++)i[o.right[r]]=[e,0];for(r=0,u=o.down.length;r<u;r++)i[o.down[r]]=[0,e];for(r=0,u=o.up.length;r<u;r++)i[o.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},o=this.keyCodes,r,u;for(r=0,u=o.zoomIn.length;r<u;r++)i[o.zoomIn[r]]=e;for(r=0,u=o.zoomOut.length;r<u;r++)i[o.zoomOut[r]]=-e},_addHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,o=this._map,r;if(i in this._panKeys)(!o._panAnim||!o._panAnim._inProgress)&&(r=this._panKeys[i],e.shiftKey&&(r=k(r).multiplyBy(3)),o.panBy(r),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds));else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;_i(e)}}});Se.addInitHook("addHandler","keyboard",Er),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Or=Ft.extend({addHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=ar(e),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),r),_i(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,h=o?Math.ceil(u/o)*o:u,v=e._limitZoom(i+(this._delta>0?h:-h))-i;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+v):e.setZoomAround(this._lastMousePos,i+v))}});Se.addInitHook("addHandler","scrollWheelZoom",Or);var zu=600;Se.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Ir=Ft.extend({addHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new $(i.clientX,i.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(fe(document,"touchend",rt),fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),zu),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Fe(document,"touchend",rt),Fe(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new $(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});Se.addInitHook("addHandler","tapHold",Ir),Se.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Br=Ft.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(e.touches[0]),r=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(r)._divideBy(2))),this._startDist=o.distanceTo(r),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),rt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(e.touches[0]),r=i.mouseEventToContainerPoint(e.touches[1]),u=o.distanceTo(r)/this._startDist;if(this._zoom=i.getScaleZoom(u,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&u<1||this._zoom>i.getMaxZoom()&&u>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var h=o._add(r)._divideBy(2)._subtract(this._centerPoint);if(u===1&&h.x===0&&h.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var v=d(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ne(v,this,!0),rt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",Br),Se.BoxZoom=Ar,Se.DoubleClickZoom=Mr,Se.Drag=zr,Se.Keyboard=Er,Se.ScrollWheelZoom=Or,Se.TapHold=Ir,Se.TouchZoom=Br,a.Bounds=M,a.Browser=Z,a.CRS=G,a.Canvas=Cr,a.Circle=Xo,a.CircleMarker=Vn,a.Class=re,a.Control=zt,a.DivIcon=wr,a.DivOverlay=Nt,a.DomEvent=Kl,a.DomUtil=Wl,a.Draggable=li,a.Evented=xe,a.FeatureGroup=Ri,a.GeoJSON=Jt,a.GridLayer=fn,a.Handler=Ft,a.Icon=qi,a.ImageOverlay=Wn,a.LatLng=ee,a.LatLngBounds=W,a.Layer=Et,a.LayerGroup=Bi,a.LineUtil=su,a.Map=Se,a.Marker=Zn,a.Mixin=iu,a.Path=ui,a.Point=$,a.PolyUtil=lu,a.Polygon=Di,a.Polyline=Xt,a.Popup=Gn,a.PosAnimation=rr,a.Projection=uu,a.Rectangle=Lr,a.Renderer=ei,a.SVG=mn,a.SVGOverlay=xr,a.TileLayer=Fi,a.Tooltip=Kn,a.Transformation=Ie,a.Util=ie,a.VideoOverlay=yr,a.bind=d,a.bounds=V,a.canvas=Pr,a.circle=gu,a.circleMarker=vu,a.control=cn,a.divIcon=Pu,a.extend=s,a.featureGroup=fu,a.geoJSON=br,a.geoJson=yu,a.gridLayer=ku,a.icon=pu,a.imageOverlay=xu,a.latLng=F,a.latLngBounds=H,a.layerGroup=hu,a.map=Yl,a.marker=mu,a.point=k,a.polygon=bu,a.polyline=_u,a.popup=Tu,a.rectangle=Mu,a.setOptions=z,a.stamp=p,a.svg=kr,a.svgOverlay=Su,a.tileLayer=Sr,a.tooltip=Cu,a.transformation=Qe,a.version=l,a.videoOverlay=wu;var Eu=window.L;a.noConflict=function(){return window.L=Eu,this},window.L=a})})(Gi,Gi.exports);var Ce=Gi.exports,lo={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-lo.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?lo.Bounce.In(t*2)*.5:lo.Bounce.Out(t*2-1)*.5+.5}}},Cn;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Cn=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Cn=self.performance.now.bind(self.performance):Date.now!==void 0?Cn=Date.now:Cn=function(){return new Date().getTime()};var Vi=Cn,id=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(a){return n._tweens[a]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},t.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},t.prototype.update=function(n,a){n===void 0&&(n=Vi()),a===void 0&&(a=!1);var l=Object.keys(this._tweens);if(l.length===0)return!1;for(;l.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<l.length;s++){var c=this._tweens[l[s]],d=!a;c&&c.update(n,d)===!1&&!a&&delete this._tweens[l[s]]}l=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Pn={Linear:function(t,n){var a=t.length-1,l=a*n,s=Math.floor(l),c=Pn.Utils.Linear;return n<0?c(t[0],t[1],l):n>1?c(t[a],t[a-1],a-l):c(t[s],t[s+1>a?a:s+1],l-s)},Bezier:function(t,n){for(var a=0,l=t.length-1,s=Math.pow,c=Pn.Utils.Bernstein,d=0;d<=l;d++)a+=s(1-n,l-d)*s(n,d)*t[d]*c(l,d);return a},CatmullRom:function(t,n){var a=t.length-1,l=a*n,s=Math.floor(l),c=Pn.Utils.CatmullRom;return t[0]===t[a]?(n<0&&(s=Math.floor(l=a*(1+n))),c(t[(s-1+a)%a],t[s],t[(s+1)%a],t[(s+2)%a],l-s)):n<0?t[0]-(c(t[0],t[0],t[1],t[1],-l)-t[0]):n>1?t[a]-(c(t[a],t[a],t[a-1],t[a-1],l-a)-t[a]):c(t[s?s-1:0],t[s],t[a<s+1?a:s+1],t[a<s+2?a:s+2],l-s)},Utils:{Linear:function(t,n,a){return(n-t)*a+t},Bernstein:function(t,n){var a=Pn.Utils.Factorial;return a(t)/a(n)/a(t-n)},Factorial:function(){var t=[1];return function(n){var a=1;if(t[n])return t[n];for(var l=n;l>1;l--)a*=l;return t[n]=a,a}}(),CatmullRom:function(t,n,a,l,s){var c=(a-t)*.5,d=(l-n)*.5,f=s*s,p=s*f;return(2*n-2*a+c+d)*p+(-3*n+3*a-2*c-d)*f+c*s+n}}},vl=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),gl=new id,io=function(){function t(n,a){a===void 0&&(a=gl),this._object=n,this._group=a,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=lo.Linear.None,this._interpolationFunction=Pn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=vl.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(n,a){return this._valuesEnd=Object.create(n),a!==void 0&&(this._duration=a),this},t.prototype.duration=function(n){return this._duration=n,this},t.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?Vi()+parseFloat(n):n:Vi(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(n,a,l,s){for(var c in l){var d=n[c],f=Array.isArray(d),p=f?"array":typeof d,b=!f&&Array.isArray(l[c]);if(!(p==="undefined"||p==="function")){if(b){var m=l[c];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,d)),l[c]=[d].concat(m)}if((p==="object"||f)&&d&&!b){a[c]=f?[]:{};for(var x in d)a[c][x]=d[x];s[c]=f?[]:{},this._setupProperties(d,a[c],l[c],s[c])}else typeof a[c]=="undefined"&&(a[c]=d),f||(a[c]*=1),b?s[c]=l[c].slice().reverse():s[c]=a[c]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(n){return n===void 0&&(n=Vi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},t.prototype.resume=function(n){return n===void 0&&(n=Vi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var n=0,a=this._chainedTweens.length;n<a;n++)this._chainedTweens[n].stop();return this},t.prototype.group=function(n){return this._group=n,this},t.prototype.delay=function(n){return this._delayTime=n,this},t.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},t.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},t.prototype.yoyo=function(n){return this._yoyo=n,this},t.prototype.easing=function(n){return this._easingFunction=n,this},t.prototype.interpolation=function(n){return this._interpolationFunction=n,this},t.prototype.chain=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return this._chainedTweens=n,this},t.prototype.onStart=function(n){return this._onStartCallback=n,this},t.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},t.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},t.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},t.prototype.onStop=function(n){return this._onStopCallback=n,this},t.prototype.update=function(n,a){if(n===void 0&&(n=Vi()),a===void 0&&(a=!0),this._isPaused)return!0;var l,s,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>c)return!1;a&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),s=(n-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var d=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(l in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[l]=="string"&&(this._valuesStartRepeat[l]=this._valuesStartRepeat[l]+parseFloat(this._valuesEnd[l])),this._yoyo&&this._swapEndStartRepeatValues(l),this._valuesStart[l]=this._valuesStartRepeat[l];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var f=0,p=this._chainedTweens.length;f<p;f++)this._chainedTweens[f].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(n,a,l,s){for(var c in l)if(a[c]!==void 0){var d=a[c]||0,f=l[c],p=Array.isArray(n[c]),b=Array.isArray(f),m=!p&&b;m?n[c]=this._interpolationFunction(f,s):typeof f=="object"&&f?this._updateProperties(n[c],d,f,s):(f=this._handleRelativeValue(d,f),typeof f=="number"&&(n[c]=d+(f-d)*s))}},t.prototype._handleRelativeValue=function(n,a){return typeof a!="string"?a:a.charAt(0)==="+"||a.charAt(0)==="-"?n+parseFloat(a):parseFloat(a)},t.prototype._swapEndStartRepeatValues=function(n){var a=this._valuesStartRepeat[n],l=this._valuesEnd[n];typeof l=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(l):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=a},t}();vl.nextId;var Ht=gl;Ht.getAll.bind(Ht);Ht.removeAll.bind(Ht);Ht.add.bind(Ht);Ht.remove.bind(Ht);Ht.update.bind(Ht);var Ha=function(){this._tweens={},this._tweensAddedDuringUpdate={}};Ha.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,n){var a=Object.keys(this._tweens);if(a.length===0)return!1;for(t=t!==void 0?t:Oe.now();a.length>0;){this._tweensAddedDuringUpdate={};for(var l=0;l<a.length;l++){var s=this._tweens[a[l]];s&&s.update(t)===!1&&(s._isPlaying=!1,n||delete this._tweens[a[l]])}a=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var Oe=new Ha;Oe.Group=Ha,Oe._nextId=0,Oe.nextId=function(){return Oe._nextId++},typeof window=="undefined"&&typeof process!="undefined"?Oe.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:typeof window!="undefined"&&window.performance!==void 0&&window.performance.now!==void 0?Oe.now=window.performance.now.bind(window.performance):Date.now!==void 0?Oe.now=Date.now:Oe.now=function(){return new Date().getTime()},Oe.Tween=function(t,n){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=Oe.Easing.Linear.None,this._interpolationFunction=Oe.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=n||Oe,this._id=Oe.nextId()},Oe.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,n){return this._valuesEnd=t,n!==void 0&&(this._duration=n),this},start:function(t){this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=t!==void 0?typeof t=="string"?Oe.now()+parseFloat(t):t:Oe.now(),this._startTime+=this._delayTime;for(var n in this._valuesEnd){if(this._valuesEnd[n]instanceof Array){if(this._valuesEnd[n].length===0)continue;this._valuesEnd[n]=[this._object[n]].concat(this._valuesEnd[n])}this._object[n]!==void 0&&(this._valuesStart[n]=this._object[n],!(this._valuesStart[n]instanceof Array)&&(this._valuesStart[n]*=1),this._valuesStartRepeat[n]=this._valuesStart[n]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._onStopCallback!==null&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var n,a,l;if(t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback!==null&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(t-this._startTime)/this._duration,a=this._duration===0||a>1?1:a,l=this._easingFunction(a);for(n in this._valuesEnd)if(this._valuesStart[n]!==void 0){var s=this._valuesStart[n]||0,c=this._valuesEnd[n];c instanceof Array?this._object[n]=this._interpolationFunction(c,l):(typeof c=="string"&&(c=c.charAt(0)==="+"||c.charAt(0)==="-"?s+parseFloat(c):parseFloat(c)),typeof c=="number"&&(this._object[n]=s+(c-s)*l))}if(this._onUpdateCallback!==null&&this._onUpdateCallback(this._object),a===1){if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat){if(typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo){var d=this._valuesStartRepeat[n];this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=d}this._valuesStart[n]=this._valuesStartRepeat[n]}return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}this._onCompleteCallback!==null&&this._onCompleteCallback(this._object);for(var f=0,p=this._chainedTweens.length;f<p;f++)this._chainedTweens[f].start(this._startTime+this._duration);return!1}return!0}},Oe.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-Oe.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*Oe.Easing.Bounce.In(2*t):.5*Oe.Easing.Bounce.Out(2*t-1)+.5}}},Oe.Interpolation={Linear:function(t,n){var a=t.length-1,l=a*n,s=Math.floor(l),c=Oe.Interpolation.Utils.Linear;return n<0?c(t[0],t[1],l):n>1?c(t[a],t[a-1],a-l):c(t[s],t[s+1>a?a:s+1],l-s)},Bezier:function(t,n){for(var a=0,l=t.length-1,s=Math.pow,c=Oe.Interpolation.Utils.Bernstein,d=0;d<=l;d++)a+=s(1-n,l-d)*s(n,d)*t[d]*c(l,d);return a},CatmullRom:function(t,n){var a=t.length-1,l=a*n,s=Math.floor(l),c=Oe.Interpolation.Utils.CatmullRom;return t[0]===t[a]?(n<0&&(s=Math.floor(l=a*(1+n))),c(t[(s-1+a)%a],t[s],t[(s+1)%a],t[(s+2)%a],l-s)):n<0?t[0]-(c(t[0],t[0],t[1],t[1],-l)-t[0]):n>1?t[a]-(c(t[a],t[a],t[a-1],t[a-1],l-a)-t[a]):c(t[s?s-1:0],t[s],t[a<s+1?a:s+1],t[a<s+2?a:s+2],l-s)},Utils:{Linear:function(t,n,a){return(n-t)*a+t},Bernstein:function(t,n){var a=Oe.Interpolation.Utils.Factorial;return a(t)/a(n)/a(t-n)},Factorial:function(){var t=[1];return function(n){var a=1;if(t[n])return t[n];for(var l=n;l>1;l--)a*=l;return t[n]=a,a}}(),CatmullRom:function(t,n,a,l,s){var c=.5*(a-t),d=.5*(l-n),f=s*s;return(2*n-2*a+c+d)*(s*f)+(-3*n+3*a-2*c-d)*f+c*s+n}}},function(t){typeof define=="function"&&define.amd?define([],function(){return Oe}):typeof module!="undefined"&&typeof exports=="object"?module.exports=Oe:t!==void 0&&(t.TWEEN=Oe)}(globalThis);Ce.Curve=Ce.Path.extend({options:{},initialize:function(t,n){Ce.setOptions(this,n),this._setPath(t)},setLatLngs:function(t){return this.setPath(t)},_updateBounds:function(){var t=this._clickTolerance(),n=new Ce.Point(t,t);this._pxBounds=new Ce.Bounds([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)])},getPath:function(){return this._coords},setPath:function(t){return this._setPath(t),this.redraw()},getBounds:function(){return this._bounds},_setPath:function(t){this._coords=t,this._bounds=this._computeBounds()},_computeBounds:function(){for(var t=new Ce.LatLngBounds,n,a,l,s=0;s<this._coords.length;s++)if(l=this._coords[s],typeof l=="string"||l instanceof String)a=l;else if(a=="H")t.extend([n.lat,l[0]]),n=new Ce.latLng(n.lat,l[0]);else if(a=="V")t.extend([l[0],n.lng]),n=new Ce.latLng(l[0],n.lng);else if(a=="C"){var c=new Ce.latLng(l[0],l[1]);l=this._coords[++s];var d=new Ce.latLng(l[0],l[1]);l=this._coords[++s];var f=new Ce.latLng(l[0],l[1]);t.extend(c),t.extend(d),t.extend(f),f.controlPoint1=c,f.controlPoint2=d,n=f}else if(a=="S"){if(d=new Ce.latLng(l[0],l[1]),l=this._coords[++s],f=new Ce.latLng(l[0],l[1]),c=n,n.controlPoint2){var p=n.lat-n.controlPoint2.lat,b=n.lng-n.controlPoint2.lng;c=new Ce.latLng(n.lat+p,n.lng+b)}t.extend(c),t.extend(d),t.extend(f),f.controlPoint1=c,f.controlPoint2=d,n=f}else if(a=="Q"){var m=new Ce.latLng(l[0],l[1]);l=this._coords[++s],f=new Ce.latLng(l[0],l[1]),t.extend(m),t.extend(f),f.controlPoint=m,n=f}else a=="T"?(f=new Ce.latLng(l[0],l[1]),m=n,n.controlPoint&&(p=n.lat-n.controlPoint.lat,b=n.lng-n.controlPoint.lng,m=new Ce.latLng(n.lat+p,n.lng+b)),t.extend(m),t.extend(f),f.controlPoint=m,n=f):(t.extend(l),n=new Ce.latLng(l[0],l[1]));return t},getCenter:function(){return this._bounds.getCenter()},_update:function(){!this._map||this._updatePath()},_updatePath:function(){this._usingCanvas?this._updateCurveCanvas():this._updateCurveSvg()},_project:function(){var t,n,a,l;this._points=[];for(var s=0;s<this._coords.length;s++)if(t=this._coords[s],typeof t=="string"||t instanceof String)this._points.push(t),a=t;else{switch(t.length){case 2:l=this._map.latLngToLayerPoint(t),n=t;break;case 1:a=="H"?(l=this._map.latLngToLayerPoint([n[0],t[0]]),n=[n[0],t[0]]):(l=this._map.latLngToLayerPoint([t[0],n[1]]),n=[t[0],n[1]]);break}this._points.push(l)}if(this._bounds.isValid()){var c=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),d=this._map.latLngToLayerPoint(this._bounds.getSouthEast());this._rawPxBounds=new Ce.Bounds(c,d),this._updateBounds()}},_curvePointsToPath:function(t){for(var n,a,l="",s=0;s<t.length;s++)if(n=t[s],typeof n=="string"||n instanceof String)a=n,l+=a;else switch(a){case"H":l+=n.x+" ";break;case"V":l+=n.y+" ";break;default:l+=n.x+","+n.y+" ";break}return l||"M0 0"},beforeAdd:function(t){Ce.Path.prototype.beforeAdd.call(this,t),this._usingCanvas=this._renderer instanceof Ce.Canvas,this._usingCanvas&&(this._pathSvgElement=document.createElementNS("http://www.w3.org/2000/svg","path"))},onAdd:function(t){if(this._usingCanvas&&(this._canvasSetDashArray=!this.options.dashArray),Ce.Path.prototype.onAdd.call(this,t),this._usingCanvas)this.options.animate&&typeof io=="object"?(this._normalizeCanvasAnimationOptions(),this._tweenedObject={offset:this._pathSvgElement.getTotalLength()},this._tween=new io.Tween(this._tweenedObject).to({offset:0},this.options.animate.duration).delay(this.options.animate.delay).repeat(this.options.animate.iterations-1).onComplete(function(a){return function(){a._canvasAnimating=!1}}(this)).start(),this._canvasAnimating=!0,this._animateCanvas()):this._canvasAnimating=!1;else if(this.options.animate&&this._path.animate){var n=this._svgSetDashArray();this._path.animate([{strokeDashoffset:n},{strokeDashoffset:0}],this.options.animate)}},_updateCurveSvg:function(){this._renderer._setPath(this,this._curvePointsToPath(this._points)),this.options.animate&&this._svgSetDashArray()},_svgSetDashArray:function(){var t=this._path,n=t.getTotalLength();return this.options.dashArray||(t.style.strokeDasharray=n+" "+n),n},_containsPoint:function(t){return this._bounds.contains(this._map.layerPointToLatLng(t))},_normalizeCanvasAnimationOptions:function(){var t={delay:0,duration:0,iterations:1};typeof this.options.animate=="number"?t.duration=this.options.animate:(this.options.animate.duration&&(t.duration=this.options.animate.duration),this.options.animate.delay&&(t.delay=this.options.animate.delay),this.options.animate.iterations&&(t.iterations=this.options.animate.iterations)),this.options.animate=t},_updateCurveCanvas:function(){var t=this._curvePointsToPath(this._points);this._pathSvgElement.setAttribute("d",t),this.options.animate&&typeof io=="object"&&this._canvasSetDashArray&&(this.options.dashArray=this._pathSvgElement.getTotalLength()+"",this._renderer._updateDashArray(this)),this._curveFillStroke(new Path2D(t),this._renderer._ctx)},_animateCanvas:function(){io.update(),this._renderer._updatePaths(),this._canvasAnimating&&(this._animationFrameId=Ce.Util.requestAnimFrame(this._animateCanvas,this))},_curveFillStroke:function(t,n){n.lineDashOffset=this._canvasAnimating?this._tweenedObject.offset:0;var a=this.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(t,a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(this.options&&this.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke(t))},trace:function(t){if(this._map===void 0||this._map===null)return[];t=t.filter(function(m){return m>=0&&m<=1});for(var n,a,l,s,c,d,f,p=[],b=0;b<this._points.length;b++)if(n=this._points[b],typeof n=="string"||n instanceof String)a=n,a=="Z"&&(p=p.concat(this._linearTrace(t,s,l)));else switch(a){case"M":l=n,s=n;break;case"L":case"H":case"V":p=p.concat(this._linearTrace(t,s,n)),s=n;break;case"C":c=n,d=this._points[++b],f=this._points[++b],p=p.concat(this._cubicTrace(t,s,c,d,f)),s=f;break;case"S":c=this._reflectPoint(d,s),d=n,f=this._points[++b],p=p.concat(this._cubicTrace(t,s,c,d,f)),s=f;break;case"Q":c=n,d=this._points[++b],p=p.concat(this._quadraticTrace(t,s,c,d)),s=d;break;case"T":c=this._reflectPoint(c,s),d=n,p=p.concat(this._quadraticTrace(t,s,c,d)),s=d;break}return p},_linearTrace:function(t,n,a){return t.map(l=>{var s=this._singleLinearTrace(l,n.x,a.x),c=this._singleLinearTrace(l,n.y,a.y);return this._map.layerPointToLatLng([s,c])})},_quadraticTrace:function(t,n,a,l){return t.map(s=>{var c=this._singleQuadraticTrace(s,n.x,a.x,l.x),d=this._singleQuadraticTrace(s,n.y,a.y,l.y);return this._map.layerPointToLatLng([c,d])})},_cubicTrace:function(t,n,a,l,s){return t.map(c=>{var d=this._singleCubicTrace(c,n.x,a.x,l.x,s.x),f=this._singleCubicTrace(c,n.y,a.y,l.y,s.y);return this._map.layerPointToLatLng([d,f])})},_singleLinearTrace:function(t,n,a){return n+t*(a-n)},_singleQuadraticTrace:function(t,n,a,l){var s=1-t;return Math.pow(s,2)*n+2*s*t*a+Math.pow(t,2)*l},_singleCubicTrace:function(t,n,a,l,s){var c=1-t;return Math.pow(c,3)*n+3*Math.pow(c,2)*t*a+3*c*Math.pow(t,2)*l+Math.pow(t,3)*s},_reflectPoint:function(t,n){var a=n.x+(n.x-t.x),l=n.y+(n.y-t.y);return Ce.point(a,l)}});Ce.curve=function(t,n){return new Ce.Curve(t,n)};const So={LAT:39.5,LONG:277};var nd={name:"map-test",props:{latlong:{type:Array,default:[]},hasReset:{type:Boolean,default:!1}},data(){return{map:null}},onBeforeUnmount(){this.map&&this.map.remove()},mounted(){this.map=Ce.map("mapContainer").setView([So.LAT,So.LONG],12),Ce.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);var t=this.map.createPane("customPane");Ce.canvas({pane:"customPane"}),t.style.zIndex=9999,this.latlong.forEach(({coords:n,id:a})=>Ce.marker([n[0],n[1]]).addTo(this.map).bindPopup(this.addPopups(this.$store.state.features[a])).openPopup())},methods:{addPopups(t){return"Address: "+t.address+"</br>Appraisal: $"+t.appraisalSale.toLocaleString("en-Us")+"</br>$/SqFt: $"+t.rhcPsf.toLocaleString("en-Us")+"</p>"}},watch:{latlong(t,n){if(t!==n){this.map.setView([t[0].coords[0],t[0].coords[1]],12),Ce.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);var a=this.map.createPane("customPane");if(Ce.canvas({pane:"customPane"}),a.style.zIndex=9999,!this.hasReset)t.forEach(({coords:l,id:s})=>Ce.marker([l[0],l[1]]).addTo(this.map).bindPopup(this.addPopups(this.$store.state.features[s])).openPopup());else if(this.hasReset){const l=document.querySelectorAll(".leaflet-marker-icon"),s=document.querySelectorAll(".leaflet-popup"),c=document.querySelectorAll(".leaflet-shadow-pane .leaflet-marker-shadow.leaflet-zoom-animated");l.forEach(d=>d.remove()),s.forEach(d=>d.remove()),c.forEach(d=>d.remove())}}}}};const od={class:"map"},ad=_e("div",{id:"mapContainer",class:"mapContainer",style:{"margin-top":"0"}},null,-1),rd=[ad];function sd(t,n,a,l,s,c){return De(),We("div",od,rd)}var _l=oi(nd,[["render",sd]]),ld={props:{items:{default(){return[]},type:Array},filterby:{type:String},shouldReset:{type:Boolean,default:!0}},data(){return{itemHeight:39,selectedItem:null,selected:0,query:"",visible:!1}},methods:{toggleVisible(){this.visible=!this.visible,setTimeout(()=>{this.$refs.input.focus()},50)},itemClicked(t){this.selected=t,this.selectItem()},selectItem(){!this.matches.length||(this.selectedItem=this.matches[this.selected],this.visible=!1,this.shouldReset&&(this.query="",this.selected=0),this.$emit("selected",JSON.parse(JSON.stringify(this.selectedItem))))},up(){this.selected!=0&&(this.selected-=1,this.scrollToItem())},down(){this.selected>=this.matches.length-1||(this.selected+=1,this.scrollToItem())},scrollToItem(){this.$refs.optionsList.scrollTop=this.selected*this.itemHeight}},computed:{matches(){return this.$emit("change",this.query),console.log(`This query: ${this.query}`),this.query==""?[]:this.query.length>7?this.items.filter(t=>t[this.filterby].toLowerCase().includes(this.query.toLowerCase())):[]}}};const ud={class:"autocomplete"},cd=["textContent"],dd={class:"popover"},hd={class:"options",ref:"optionsList"},fd=["onClick","textContent"];function pd(t,n,a,l,s,c){return De(),We("div",ud,[oe(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[0]||(n[0]=d=>t.query=d),label:"By Address",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],ref:"input"},null,8,["modelValue","onKeydown"]),t.selectedItem==null?(De(),We("div",{key:0,class:"placeholder",textContent:wt(t.title)},null,8,cd)):ni("",!0),t.selectedItem?(De(),We("button",{key:1,class:"close",onClick:n[1]||(n[1]=d=>t.selectedItem=null)}," x ")):ni("",!0),za(_e("div",dd,[oe(Ci,{square:"",outlined:"",modelValue:t.query,"onUpdate:modelValue":n[2]||(n[2]=d=>t.query=d),placeholder:"Start Typing...",onKeydown:[ct(t.up,["up"]),ct(t.down,["down"]),ct(t.selectItem,["enter"])],type:"text",ref:"input"},null,8,["modelValue","onKeydown"]),_e("div",hd,[_e("ul",null,[(De(!0),We(Ln,null,Ea(t.matches,(d,f)=>(De(),We("li",{key:f,class:Us({selected:t.selected==f}),onClick:p=>t.itemClicked(f),textContent:wt(d[t.filterby])},null,10,fd))),128))])],512)],512),[[Hs,t.visible]])])}var md=oi(ld,[["render",pd]]);var vd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",gd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function _d(t,n){for(var a=-1,l=t==null?0:t.length,s=0,c=[];++a<l;){var d=t[a];n(d,a,t)&&(c[s++]=d)}return c}var bl=_d;function bd(t){return function(n,a,l){for(var s=-1,c=Object(n),d=l(n),f=d.length;f--;){var p=d[t?f:++s];if(a(c[p],p,c)===!1)break}return n}}var yd=bd,xd=yd,wd=xd(),Sd=wd;function Td(t,n){for(var a=-1,l=Array(t);++a<t;)l[a]=n(a);return l}var Cd=Td,Pd=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,yl=Pd,kd=yl,Ld=typeof self=="object"&&self&&self.Object===Object&&self,Ad=kd||Ld||Function("return this")(),ai=Ad,Md=ai,zd=Md.Symbol,ko=zd,ts=ko,xl=Object.prototype,Ed=xl.hasOwnProperty,Od=xl.toString,xn=ts?ts.toStringTag:void 0;function Id(t){var n=Ed.call(t,xn),a=t[xn];try{t[xn]=void 0;var l=!0}catch{}var s=Od.call(t);return l&&(n?t[xn]=a:delete t[xn]),s}var Bd=Id,Rd=Object.prototype,qd=Rd.toString;function Dd(t){return qd.call(t)}var $d=Dd,is=ko,Fd=Bd,Nd=$d,Zd="[object Null]",Vd="[object Undefined]",ns=is?is.toStringTag:void 0;function Hd(t){return t==null?t===void 0?Vd:Zd:ns&&ns in Object(t)?Fd(t):Nd(t)}var zn=Hd;function Ud(t){return t!=null&&typeof t=="object"}var En=Ud,jd=zn,Wd=En,Gd="[object Arguments]";function Kd(t){return Wd(t)&&jd(t)==Gd}var Yd=Kd,os=Yd,Qd=En,wl=Object.prototype,Xd=wl.hasOwnProperty,Jd=wl.propertyIsEnumerable,eh=os(function(){return arguments}())?os:function(t){return Qd(t)&&Xd.call(t,"callee")&&!Jd.call(t,"callee")},Sl=eh,th=Array.isArray,ri=th,To={exports:{}};function ih(){return!1}var nh=ih;(function(t,n){var a=ai,l=nh,s=n&&!n.nodeType&&n,c=s&&!0&&t&&!t.nodeType&&t,d=c&&c.exports===s,f=d?a.Buffer:void 0,p=f?f.isBuffer:void 0,b=p||l;t.exports=b})(To,To.exports);var oh=9007199254740991,ah=/^(?:0|[1-9]\d*)$/;function rh(t,n){var a=typeof t;return n=n==null?oh:n,!!n&&(a=="number"||a!="symbol"&&ah.test(t))&&t>-1&&t%1==0&&t<n}var Tl=rh,sh=9007199254740991;function lh(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sh}var Ua=lh,uh=zn,ch=Ua,dh=En,hh="[object Arguments]",fh="[object Array]",ph="[object Boolean]",mh="[object Date]",vh="[object Error]",gh="[object Function]",_h="[object Map]",bh="[object Number]",yh="[object Object]",xh="[object RegExp]",wh="[object Set]",Sh="[object String]",Th="[object WeakMap]",Ch="[object ArrayBuffer]",Ph="[object DataView]",kh="[object Float32Array]",Lh="[object Float64Array]",Ah="[object Int8Array]",Mh="[object Int16Array]",zh="[object Int32Array]",Eh="[object Uint8Array]",Oh="[object Uint8ClampedArray]",Ih="[object Uint16Array]",Bh="[object Uint32Array]",Ve={};Ve[kh]=Ve[Lh]=Ve[Ah]=Ve[Mh]=Ve[zh]=Ve[Eh]=Ve[Oh]=Ve[Ih]=Ve[Bh]=!0;Ve[hh]=Ve[fh]=Ve[Ch]=Ve[ph]=Ve[Ph]=Ve[mh]=Ve[vh]=Ve[gh]=Ve[_h]=Ve[bh]=Ve[yh]=Ve[xh]=Ve[wh]=Ve[Sh]=Ve[Th]=!1;function Rh(t){return dh(t)&&ch(t.length)&&!!Ve[uh(t)]}var qh=Rh;function Dh(t){return function(n){return t(n)}}var $h=Dh,xa={exports:{}};(function(t,n){var a=yl,l=n&&!n.nodeType&&n,s=l&&!0&&t&&!t.nodeType&&t,c=s&&s.exports===l,d=c&&a.process,f=function(){try{var p=s&&s.require&&s.require("util").types;return p||d&&d.binding&&d.binding("util")}catch{}}();t.exports=f})(xa,xa.exports);var Fh=qh,Nh=$h,as=xa.exports,rs=as&&as.isTypedArray,Zh=rs?Nh(rs):Fh,Cl=Zh,Vh=Cd,Hh=Sl,Uh=ri,jh=To.exports,Wh=Tl,Gh=Cl,Kh=Object.prototype,Yh=Kh.hasOwnProperty;function Qh(t,n){var a=Uh(t),l=!a&&Hh(t),s=!a&&!l&&jh(t),c=!a&&!l&&!s&&Gh(t),d=a||l||s||c,f=d?Vh(t.length,String):[],p=f.length;for(var b in t)(n||Yh.call(t,b))&&!(d&&(b=="length"||s&&(b=="offset"||b=="parent")||c&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Wh(b,p)))&&f.push(b);return f}var Xh=Qh,Jh=Object.prototype;function ef(t){var n=t&&t.constructor,a=typeof n=="function"&&n.prototype||Jh;return t===a}var tf=ef;function nf(t,n){return function(a){return t(n(a))}}var of=nf,af=of,rf=af(Object.keys,Object),sf=rf,lf=tf,uf=sf,cf=Object.prototype,df=cf.hasOwnProperty;function hf(t){if(!lf(t))return uf(t);var n=[];for(var a in Object(t))df.call(t,a)&&a!="constructor"&&n.push(a);return n}var ff=hf;function pf(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var ja=pf,mf=zn,vf=ja,gf="[object AsyncFunction]",_f="[object Function]",bf="[object GeneratorFunction]",yf="[object Proxy]";function xf(t){if(!vf(t))return!1;var n=mf(t);return n==_f||n==bf||n==gf||n==yf}var Pl=xf,wf=Pl,Sf=Ua;function Tf(t){return t!=null&&Sf(t.length)&&!wf(t)}var kl=Tf,Cf=Xh,Pf=ff,kf=kl;function Lf(t){return kf(t)?Cf(t):Pf(t)}var Wa=Lf,Af=Sd,Mf=Wa;function zf(t,n){return t&&Af(t,n,Mf)}var Ef=zf,Of=kl;function If(t,n){return function(a,l){if(a==null)return a;if(!Of(a))return t(a,l);for(var s=a.length,c=n?s:-1,d=Object(a);(n?c--:++c<s)&&l(d[c],c,d)!==!1;);return a}}var Bf=If,Rf=Ef,qf=Bf,Df=qf(Rf),$f=Df,Ff=$f;function Nf(t,n){var a=[];return Ff(t,function(l,s,c){n(l,s,c)&&a.push(l)}),a}var Zf=Nf;function Vf(){this.__data__=[],this.size=0}var Hf=Vf;function Uf(t,n){return t===n||t!==t&&n!==n}var Ll=Uf,jf=Ll;function Wf(t,n){for(var a=t.length;a--;)if(jf(t[a][0],n))return a;return-1}var Lo=Wf,Gf=Lo,Kf=Array.prototype,Yf=Kf.splice;function Qf(t){var n=this.__data__,a=Gf(n,t);if(a<0)return!1;var l=n.length-1;return a==l?n.pop():Yf.call(n,a,1),--this.size,!0}var Xf=Qf,Jf=Lo;function ep(t){var n=this.__data__,a=Jf(n,t);return a<0?void 0:n[a][1]}var tp=ep,ip=Lo;function np(t){return ip(this.__data__,t)>-1}var op=np,ap=Lo;function rp(t,n){var a=this.__data__,l=ap(a,t);return l<0?(++this.size,a.push([t,n])):a[l][1]=n,this}var sp=rp,lp=Hf,up=Xf,cp=tp,dp=op,hp=sp;function Yi(t){var n=-1,a=t==null?0:t.length;for(this.clear();++n<a;){var l=t[n];this.set(l[0],l[1])}}Yi.prototype.clear=lp;Yi.prototype.delete=up;Yi.prototype.get=cp;Yi.prototype.has=dp;Yi.prototype.set=hp;var Ao=Yi,fp=Ao;function pp(){this.__data__=new fp,this.size=0}var mp=pp;function vp(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}var gp=vp;function _p(t){return this.__data__.get(t)}var bp=_p;function yp(t){return this.__data__.has(t)}var xp=yp,wp=ai,Sp=wp["__core-js_shared__"],Tp=Sp,da=Tp,ss=function(){var t=/[^.]+$/.exec(da&&da.keys&&da.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cp(t){return!!ss&&ss in t}var Pp=Cp,kp=Function.prototype,Lp=kp.toString;function Ap(t){if(t!=null){try{return Lp.call(t)}catch{}try{return t+""}catch{}}return""}var Al=Ap,Mp=Pl,zp=Pp,Ep=ja,Op=Al,Ip=/[\\^$.*+?()[\]{}|]/g,Bp=/^\[object .+?Constructor\]$/,Rp=Function.prototype,qp=Object.prototype,Dp=Rp.toString,$p=qp.hasOwnProperty,Fp=RegExp("^"+Dp.call($p).replace(Ip,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Np(t){if(!Ep(t)||zp(t))return!1;var n=Mp(t)?Fp:Bp;return n.test(Op(t))}var Zp=Np;function Vp(t,n){return t==null?void 0:t[n]}var Hp=Vp,Up=Zp,jp=Hp;function Wp(t,n){var a=jp(t,n);return Up(a)?a:void 0}var Qi=Wp,Gp=Qi,Kp=ai,Yp=Gp(Kp,"Map"),Ga=Yp,Qp=Qi,Xp=Qp(Object,"create"),Mo=Xp,ls=Mo;function Jp(){this.__data__=ls?ls(null):{},this.size=0}var em=Jp;function tm(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var im=tm,nm=Mo,om="__lodash_hash_undefined__",am=Object.prototype,rm=am.hasOwnProperty;function sm(t){var n=this.__data__;if(nm){var a=n[t];return a===om?void 0:a}return rm.call(n,t)?n[t]:void 0}var lm=sm,um=Mo,cm=Object.prototype,dm=cm.hasOwnProperty;function hm(t){var n=this.__data__;return um?n[t]!==void 0:dm.call(n,t)}var fm=hm,pm=Mo,mm="__lodash_hash_undefined__";function vm(t,n){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=pm&&n===void 0?mm:n,this}var gm=vm,_m=em,bm=im,ym=lm,xm=fm,wm=gm;function Xi(t){var n=-1,a=t==null?0:t.length;for(this.clear();++n<a;){var l=t[n];this.set(l[0],l[1])}}Xi.prototype.clear=_m;Xi.prototype.delete=bm;Xi.prototype.get=ym;Xi.prototype.has=xm;Xi.prototype.set=wm;var Sm=Xi,us=Sm,Tm=Ao,Cm=Ga;function Pm(){this.size=0,this.__data__={hash:new us,map:new(Cm||Tm),string:new us}}var km=Pm;function Lm(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}var Am=Lm,Mm=Am;function zm(t,n){var a=t.__data__;return Mm(n)?a[typeof n=="string"?"string":"hash"]:a.map}var zo=zm,Em=zo;function Om(t){var n=Em(this,t).delete(t);return this.size-=n?1:0,n}var Im=Om,Bm=zo;function Rm(t){return Bm(this,t).get(t)}var qm=Rm,Dm=zo;function $m(t){return Dm(this,t).has(t)}var Fm=$m,Nm=zo;function Zm(t,n){var a=Nm(this,t),l=a.size;return a.set(t,n),this.size+=a.size==l?0:1,this}var Vm=Zm,Hm=km,Um=Im,jm=qm,Wm=Fm,Gm=Vm;function Ji(t){var n=-1,a=t==null?0:t.length;for(this.clear();++n<a;){var l=t[n];this.set(l[0],l[1])}}Ji.prototype.clear=Hm;Ji.prototype.delete=Um;Ji.prototype.get=jm;Ji.prototype.has=Wm;Ji.prototype.set=Gm;var Ka=Ji,Km=Ao,Ym=Ga,Qm=Ka,Xm=200;function Jm(t,n){var a=this.__data__;if(a instanceof Km){var l=a.__data__;if(!Ym||l.length<Xm-1)return l.push([t,n]),this.size=++a.size,this;a=this.__data__=new Qm(l)}return a.set(t,n),this.size=a.size,this}var ev=Jm,tv=Ao,iv=mp,nv=gp,ov=bp,av=xp,rv=ev;function en(t){var n=this.__data__=new tv(t);this.size=n.size}en.prototype.clear=iv;en.prototype.delete=nv;en.prototype.get=ov;en.prototype.has=av;en.prototype.set=rv;var Ml=en,sv="__lodash_hash_undefined__";function lv(t){return this.__data__.set(t,sv),this}var uv=lv;function cv(t){return this.__data__.has(t)}var dv=cv,hv=Ka,fv=uv,pv=dv;function Co(t){var n=-1,a=t==null?0:t.length;for(this.__data__=new hv;++n<a;)this.add(t[n])}Co.prototype.add=Co.prototype.push=fv;Co.prototype.has=pv;var mv=Co;function vv(t,n){for(var a=-1,l=t==null?0:t.length;++a<l;)if(n(t[a],a,t))return!0;return!1}var gv=vv;function _v(t,n){return t.has(n)}var bv=_v,yv=mv,xv=gv,wv=bv,Sv=1,Tv=2;function Cv(t,n,a,l,s,c){var d=a&Sv,f=t.length,p=n.length;if(f!=p&&!(d&&p>f))return!1;var b=c.get(t),m=c.get(n);if(b&&m)return b==n&&m==t;var x=-1,T=!0,w=a&Tv?new yv:void 0;for(c.set(t,n),c.set(n,t);++x<f;){var A=t[x],z=n[x];if(l)var E=d?l(z,A,x,n,t,c):l(A,z,x,t,n,c);if(E!==void 0){if(E)continue;T=!1;break}if(w){if(!xv(n,function(J,B){if(!wv(w,B)&&(A===J||s(A,J,a,l,c)))return w.push(B)})){T=!1;break}}else if(!(A===z||s(A,z,a,l,c))){T=!1;break}}return c.delete(t),c.delete(n),T}var zl=Cv,Pv=ai,kv=Pv.Uint8Array,Lv=kv;function Av(t){var n=-1,a=Array(t.size);return t.forEach(function(l,s){a[++n]=[s,l]}),a}var Mv=Av;function zv(t){var n=-1,a=Array(t.size);return t.forEach(function(l){a[++n]=l}),a}var Ev=zv,cs=ko,ds=Lv,Ov=Ll,Iv=zl,Bv=Mv,Rv=Ev,qv=1,Dv=2,$v="[object Boolean]",Fv="[object Date]",Nv="[object Error]",Zv="[object Map]",Vv="[object Number]",Hv="[object RegExp]",Uv="[object Set]",jv="[object String]",Wv="[object Symbol]",Gv="[object ArrayBuffer]",Kv="[object DataView]",hs=cs?cs.prototype:void 0,ha=hs?hs.valueOf:void 0;function Yv(t,n,a,l,s,c,d){switch(a){case Kv:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case Gv:return!(t.byteLength!=n.byteLength||!c(new ds(t),new ds(n)));case $v:case Fv:case Vv:return Ov(+t,+n);case Nv:return t.name==n.name&&t.message==n.message;case Hv:case jv:return t==n+"";case Zv:var f=Bv;case Uv:var p=l&qv;if(f||(f=Rv),t.size!=n.size&&!p)return!1;var b=d.get(t);if(b)return b==n;l|=Dv,d.set(t,n);var m=Iv(f(t),f(n),l,s,c,d);return d.delete(t),m;case Wv:if(ha)return ha.call(t)==ha.call(n)}return!1}var Qv=Yv;function Xv(t,n){for(var a=-1,l=n.length,s=t.length;++a<l;)t[s+a]=n[a];return t}var Jv=Xv,eg=Jv,tg=ri;function ig(t,n,a){var l=n(t);return tg(t)?l:eg(l,a(t))}var ng=ig;function og(){return[]}var ag=og,rg=bl,sg=ag,lg=Object.prototype,ug=lg.propertyIsEnumerable,fs=Object.getOwnPropertySymbols,cg=fs?function(t){return t==null?[]:(t=Object(t),rg(fs(t),function(n){return ug.call(t,n)}))}:sg,dg=cg,hg=ng,fg=dg,pg=Wa;function mg(t){return hg(t,pg,fg)}var vg=mg,ps=vg,gg=1,_g=Object.prototype,bg=_g.hasOwnProperty;function yg(t,n,a,l,s,c){var d=a&gg,f=ps(t),p=f.length,b=ps(n),m=b.length;if(p!=m&&!d)return!1;for(var x=p;x--;){var T=f[x];if(!(d?T in n:bg.call(n,T)))return!1}var w=c.get(t),A=c.get(n);if(w&&A)return w==n&&A==t;var z=!0;c.set(t,n),c.set(n,t);for(var E=d;++x<p;){T=f[x];var J=t[T],B=n[T];if(l)var Y=d?l(B,J,T,n,t,c):l(J,B,T,t,n,c);if(!(Y===void 0?J===B||s(J,B,a,l,c):Y)){z=!1;break}E||(E=T=="constructor")}if(z&&!E){var R=t.constructor,Q=n.constructor;R!=Q&&"constructor"in t&&"constructor"in n&&!(typeof R=="function"&&R instanceof R&&typeof Q=="function"&&Q instanceof Q)&&(z=!1)}return c.delete(t),c.delete(n),z}var xg=yg,wg=Qi,Sg=ai,Tg=wg(Sg,"DataView"),Cg=Tg,Pg=Qi,kg=ai,Lg=Pg(kg,"Promise"),Ag=Lg,Mg=Qi,zg=ai,Eg=Mg(zg,"Set"),Og=Eg,Ig=Qi,Bg=ai,Rg=Ig(Bg,"WeakMap"),qg=Rg,wa=Cg,Sa=Ga,Ta=Ag,Ca=Og,Pa=qg,El=zn,tn=Al,ms="[object Map]",Dg="[object Object]",vs="[object Promise]",gs="[object Set]",_s="[object WeakMap]",bs="[object DataView]",$g=tn(wa),Fg=tn(Sa),Ng=tn(Ta),Zg=tn(Ca),Vg=tn(Pa),Si=El;(wa&&Si(new wa(new ArrayBuffer(1)))!=bs||Sa&&Si(new Sa)!=ms||Ta&&Si(Ta.resolve())!=vs||Ca&&Si(new Ca)!=gs||Pa&&Si(new Pa)!=_s)&&(Si=function(t){var n=El(t),a=n==Dg?t.constructor:void 0,l=a?tn(a):"";if(l)switch(l){case $g:return bs;case Fg:return ms;case Ng:return vs;case Zg:return gs;case Vg:return _s}return n});var Hg=Si,fa=Ml,Ug=zl,jg=Qv,Wg=xg,ys=Hg,xs=ri,ws=To.exports,Gg=Cl,Kg=1,Ss="[object Arguments]",Ts="[object Array]",no="[object Object]",Yg=Object.prototype,Cs=Yg.hasOwnProperty;function Qg(t,n,a,l,s,c){var d=xs(t),f=xs(n),p=d?Ts:ys(t),b=f?Ts:ys(n);p=p==Ss?no:p,b=b==Ss?no:b;var m=p==no,x=b==no,T=p==b;if(T&&ws(t)){if(!ws(n))return!1;d=!0,m=!1}if(T&&!m)return c||(c=new fa),d||Gg(t)?Ug(t,n,a,l,s,c):jg(t,n,p,a,l,s,c);if(!(a&Kg)){var w=m&&Cs.call(t,"__wrapped__"),A=x&&Cs.call(n,"__wrapped__");if(w||A){var z=w?t.value():t,E=A?n.value():n;return c||(c=new fa),s(z,E,a,l,c)}}return T?(c||(c=new fa),Wg(t,n,a,l,s,c)):!1}var Xg=Qg,Jg=Xg,Ps=En;function Ol(t,n,a,l,s){return t===n?!0:t==null||n==null||!Ps(t)&&!Ps(n)?t!==t&&n!==n:Jg(t,n,a,l,Ol,s)}var Il=Ol,e_=Ml,t_=Il,i_=1,n_=2;function o_(t,n,a,l){var s=a.length,c=s,d=!l;if(t==null)return!c;for(t=Object(t);s--;){var f=a[s];if(d&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++s<c;){f=a[s];var p=f[0],b=t[p],m=f[1];if(d&&f[2]){if(b===void 0&&!(p in t))return!1}else{var x=new e_;if(l)var T=l(b,m,p,t,n,x);if(!(T===void 0?t_(m,b,i_|n_,l,x):T))return!1}}return!0}var a_=o_,r_=ja;function s_(t){return t===t&&!r_(t)}var Bl=s_,l_=Bl,u_=Wa;function c_(t){for(var n=u_(t),a=n.length;a--;){var l=n[a],s=t[l];n[a]=[l,s,l_(s)]}return n}var d_=c_;function h_(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}var Rl=h_,f_=a_,p_=d_,m_=Rl;function v_(t){var n=p_(t);return n.length==1&&n[0][2]?m_(n[0][0],n[0][1]):function(a){return a===t||f_(a,t,n)}}var g_=v_,__=zn,b_=En,y_="[object Symbol]";function x_(t){return typeof t=="symbol"||b_(t)&&__(t)==y_}var Ya=x_,w_=ri,S_=Ya,T_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C_=/^\w*$/;function P_(t,n){if(w_(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||S_(t)?!0:C_.test(t)||!T_.test(t)||n!=null&&t in Object(n)}var Qa=P_,ql=Ka,k_="Expected a function";function Xa(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(k_);var a=function(){var l=arguments,s=n?n.apply(this,l):l[0],c=a.cache;if(c.has(s))return c.get(s);var d=t.apply(this,l);return a.cache=c.set(s,d)||c,d};return a.cache=new(Xa.Cache||ql),a}Xa.Cache=ql;var L_=Xa,A_=L_,M_=500;function z_(t){var n=A_(t,function(l){return a.size===M_&&a.clear(),l}),a=n.cache;return n}var E_=z_,O_=E_,I_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B_=/\\(\\)?/g,R_=O_(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(I_,function(a,l,s,c){n.push(s?c.replace(B_,"$1"):l||a)}),n}),q_=R_;function D_(t,n){for(var a=-1,l=t==null?0:t.length,s=Array(l);++a<l;)s[a]=n(t[a],a,t);return s}var $_=D_,ks=ko,F_=$_,N_=ri,Z_=Ya,V_=1/0,Ls=ks?ks.prototype:void 0,As=Ls?Ls.toString:void 0;function Dl(t){if(typeof t=="string")return t;if(N_(t))return F_(t,Dl)+"";if(Z_(t))return As?As.call(t):"";var n=t+"";return n=="0"&&1/t==-V_?"-0":n}var H_=Dl,U_=H_;function j_(t){return t==null?"":U_(t)}var W_=j_,G_=ri,K_=Qa,Y_=q_,Q_=W_;function X_(t,n){return G_(t)?t:K_(t,n)?[t]:Y_(Q_(t))}var $l=X_,J_=Ya,eb=1/0;function tb(t){if(typeof t=="string"||J_(t))return t;var n=t+"";return n=="0"&&1/t==-eb?"-0":n}var Eo=tb,ib=$l,nb=Eo;function ob(t,n){n=ib(n,t);for(var a=0,l=n.length;t!=null&&a<l;)t=t[nb(n[a++])];return a&&a==l?t:void 0}var Fl=ob,ab=Fl;function rb(t,n,a){var l=t==null?void 0:ab(t,n);return l===void 0?a:l}var sb=rb;function lb(t,n){return t!=null&&n in Object(t)}var ub=lb,cb=$l,db=Sl,hb=ri,fb=Tl,pb=Ua,mb=Eo;function vb(t,n,a){n=cb(n,t);for(var l=-1,s=n.length,c=!1;++l<s;){var d=mb(n[l]);if(!(c=t!=null&&a(t,d)))break;t=t[d]}return c||++l!=s?c:(s=t==null?0:t.length,!!s&&pb(s)&&fb(d,s)&&(hb(t)||db(t)))}var gb=vb,_b=ub,bb=gb;function yb(t,n){return t!=null&&bb(t,n,_b)}var xb=yb,wb=Il,Sb=sb,Tb=xb,Cb=Qa,Pb=Bl,kb=Rl,Lb=Eo,Ab=1,Mb=2;function zb(t,n){return Cb(t)&&Pb(n)?kb(Lb(t),n):function(a){var l=Sb(a,t);return l===void 0&&l===n?Tb(a,t):wb(n,l,Ab|Mb)}}var Eb=zb;function Ob(t){return t}var Ib=Ob;function Bb(t){return function(n){return n==null?void 0:n[t]}}var Rb=Bb,qb=Fl;function Db(t){return function(n){return qb(n,t)}}var $b=Db,Fb=Rb,Nb=$b,Zb=Qa,Vb=Eo;function Hb(t){return Zb(t)?Fb(Vb(t)):Nb(t)}var Ub=Hb,jb=g_,Wb=Eb,Gb=Ib,Kb=ri,Yb=Ub;function Qb(t){return typeof t=="function"?t:t==null?Gb:typeof t=="object"?Kb(t)?Wb(t[0],t[1]):jb(t):Yb(t)}var Xb=Qb,Jb=bl,ey=Zf,ty=Xb,iy=ri;function ny(t,n){var a=iy(t)?Jb:ey;return a(t,ty(n))}var oy=ny,ka=oy;class Nl{constructor(...n){xi(this,"parcelId","");xi(this,"address","");xi(this,"zipCode","");xi(this,"pricePerSqFt","");xi(this,"appraisedValue","");xi(this,"taxDistrict","");console.log("ARGS ",n),Object.assign(this,...n),console.log("FeatureProperties CONSTRUCTOR",this)}}Array.of(new Nl);const{mapState:ay,mapActions:ry,mapGetters:sy}=oc("map");var ly={name:"map",props:["searchText"],data(){let t=Gi.exports.icon(Object.assign({},Gi.exports.Icon.Default.prototype.options,{blueIconUrl:vd,shadowUrl:gd}));return{searchOptions:["City, State","Address","Zip Code"],selectedOption:"City, State",selectedAuto:[],autoAddress:[],rhcValue:0,tableDataType:Nl,selectedSearchOptionType:"",searchInputValue:"",icon:t,renderer:Gi.exports.canvas({padding:.5}),feature:{},zoom:10,searchToggle:!1,fileName:"Real Home Compare",tileLayer:{url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZXZhbmZyYWJlbGwiLCJhIjoiY2tqOTM1bzZoMWFnMDJycWd2eGJ4aTJ0MCJ9.r-KG-MMBYVUX3BGbvKLuLQ",options:{maxZoom:20,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiZXZhbmZyYWJlbGwiLCJhIjoiY2tqOTM1bzZoMWFnMDJycWd2eGJ4aTJ0MCJ9.r-KG-MMBYVUX3BGbvKLuLQ"}}}},components:{Autocomplete:md},mounted(){ho.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,a=[],l=0,s=n.length;for(;l<s;)a.push({id:l,name:n[l]}),l++;this.autoAddress=a}).catch(()=>{console.log("----ERROR----")}),console.log("getters",this.maxFeatures)},created(){this.callSelector()},methods:{axiosGetter(t){ho.get(t,{headers:{"x-rhc-projection":"TABLE"}}).then(n=>{this.geoData=n.data;for(let a=0;a<this.geoData.features.length;a++)if(this.excelData.push(this.geoData.features[a].properties),this.searchText==this.geoData.features[a].properties.address)this.propyData.unshift(this.geoData.features[a].properties);else{if(this.propyData.length>=150)continue;this.propyData.push(this.geoData.features[a].properties)}console.log(this.geoData),console.log(this.propyData.length),console.log(this.propyData),console.log(this.excelData.length),console.log(this.excelData)}).catch(()=>{console.log("----ERROR----")})},callSelector(){this.geoData={},this.propyData=[],this.rhcValue=0;let t="";this.selectedOption=="Address"?t=`https://rhc-backend.herokuapp.com/rhc/api/properties/address-radius?address=${this.searchText}`:this.selectedOption=="Zip Code"?t=`https://rhc-backend.herokuapp.com/rhc/api/properties/zipcode?zipcode=${this.searchText}`:t="https://rhc-backend.herokuapp.com/rhc/api/properties/city-state?city=Cincinnati&state=OH",console.log(t),this.axiosGetter(t)},onChange(t){console.log(t)},clearMap(){this.geoData={},this.propyData=[],this.excelData=[]},mapReady(t){console.log("MAP IS LOADED",t)},normalizedInputValue:function(t){let n=t.toString();return n.includes(",")&&(n=n.split(",")),n},getPropertyValue(t,n){return t[n]},_filter:ka,addPopups(t){return"Address: "+t.properties.address+"</br>RHC Value: "+t.properties.appraisedValue+"</br>$/SqFt: "+t.properties.pricePerSqFt+"</p>"},searchForProperties(t,n){this.selectedSearchOptionType=n,this.inputValue=t;const l=`getFeaturesBy${this.normalizedSelectedSearchOptionType}`;console.log("STRATEGY ",l),this[l](this.normalizedInputValue(t))},setFeatureFromTable(t){const n=this.features.find(a=>t.some(l=>a.properties.parcelId===l.parcelId));this.setSelectedFeature(n)},...ry({getFeaturesByZipCode:gn.FEATURES_BY_ZIPCODE,getFeaturesByCityState:gn.FEATURES_BY_CITY_AND_STATE,getFeaturesByAddress:gn.FEATURES_BY_ADDRESS,getFeaturesByRadius:gn.FEATURES_BY_RADIUS,setSelectedFeature:gn.FEATURE_SELECTED}),parcelLink:function(t){return"https://wedge.hcauditor.org/view/re/"+t+"/2021/summary"}},computed:{...sy(["maxFeatures","featuresByZipCode"]),...ay(["features","selectedFeature"]),geoData(){return this.$store.state.features},featuresWithProps:function(){return console.log("MAP DATA "),{...ka(this.truncatedData,t=>t.properties.zipCode!==null&&t.properties.zipCode!==""&&t.properties.pricePerSqFt!==null&&t.properties.pricePerSqFt!=="")}},tableData:function(){return console.log("TABLE DATA"),this.truncatedData.map(t=>t.properties)},truncatedData:function(){switch(console.log("SELECTED SEARCH OPTION",this.selectedSearchOptionType),this.selectedSearchOptionType){case"zipCode":return console.log("INPUT VALUE ",this.inputValue),Fr.take(this.featuresByZipCode(this.inputValue),100);default:return this.maxFeatures(100)}},normalizedSelectedSearchOptionType:function(){return Fr.upperFirst(this.selectedSearchOptionType.toString())}}};const uy={class:"map"};function cy(t,n,a,l,s,c){const d=Vt("l-tile-layer"),f=Vt("l-tooltip"),p=Vt("l-marker"),b=Vt("l-map");return De(),We("div",uy,[oe(b,{options:{preferCanvas:!0,boxZoom:!0},center:[39.2,-84.56],style:{height:"70vh"},zoom:t.zoom,rendererer:t.renderer,onReady:t.mapReady},{default:He(()=>[oe(d,{url:t.tileLayer.url,options:t.tileLayer.options},null,8,["url","options"]),t.geoData.length<=100?(De(!0),We(Ln,{key:0},Ea(t.geoData,m=>(De(),ro(p,{key:m.properties.parcelId,"lat-lng":m.geometry.coordinates,onClick:x=>t.setSelectedFeature(m)},{default:He(()=>[oe(f,{content:t.addPopups(m)},null,8,["content"])]),_:2},1032,["lat-lng","onClick"]))),128)):t.geoData.length>100?(De(),We(Ln,{key:1},[],64)):ni("",!0)]),_:1},8,["center","zoom","rendererer","onReady"])])}var dy=oi(ly,[["render",cy]]),hy={name:"search-bar",data(){return{autoAddress:[],coordList:[],excelData:[],features:[],geoData:{},hasReset:!1,map:null,searchOptions:["Address","Zip Code"],searchText:null,selectedFeature:[],selectedOption:"Zip Code",url:""}},components:{Autocomplete:td,Map:dy,MapTest:_l},mounted(){ho.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,a=[],l=0,s=n.length;for(;l<s;)a.push({id:l,name:n[l]}),l++;this.autoAddress=a}).catch(()=>{console.log("----ERROR----")})},methods:{...ac(["FEATURES_BY_ADDRESS","GEO_DATA_BY_CITY_STATE","FEATURES_BY_ZIPCODE","FEATURES_BY_CITY_AND_STATE","GEO_DATA_BY_ZIPCODE","GEO_DATA_BY_ADDRESS"]),async searchAddress(){this.rhcValue=0,this.getUrlAndSetFeatures(),this.closeDialog()},async updateMap(){switch(this.hasReset=!1,this.$store.state.features=[],this.geoData=[],this.getUrlAndSetFeatures(),this.selectedOption){case"Address":this.geoData=await this.GEO_DATA_BY_ADDRESS(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})).slice(0,100).reverse(),this.$emit("coordUpdate",this.coordList);break;case"City, State":this.geoData=await this.GEO_DATA_BY_CITY_STATE(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})),this.coordList=this.coordList.splice(0,250),this.$emit("coordUpdate",this.coordList);break;case"Zip Code":this.geoData=await this.GEO_DATA_BY_ZIPCODE(this.url),this.coordList=this.geoData.map((t,n)=>({coords:t.coordinates,id:n})).slice(0,100).reverse(),this.coordList=this.coordList.splice(0,250),this.$emit("coordUpdate",this.coordList);break}console.log("coordlist is now ",this.coordList)},getUrlAndSetFeatures(){if(this.selectedOption=="Address")this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/address-radius?address=${this.searchText}`,this.FEATURES_BY_ADDRESS(this.url);else if(this.selectedOption=="Zip Code")this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/zipcode?zipcode=${this.searchText}`,this.FEATURES_BY_ZIPCODE(this.url);else{let t=this.searchText.split(",")[0].trim(),n=this.searchText.split(",")[1].trim();this.url=`https://rhc-backend.herokuapp.com/rhc/api/properties/city-state?city=${t}&state=${n}`,this.FEATURES_BY_CITY_AND_STATE(this.url)}},closeDialog(){this.$emit("closeDialog",{tableData:this.tableData,searchType:this.selectedOption})},onChange(t){console.log(t)},resetMap(){this.coordList=[{coords:[So.LAT,So.LONG],id:0}],this.hasReset=!0,this.geoData={},this.excelData=[]},toggleOptions(){this.searchText=null},normalizedInputValue:function(t){let n=t.toString();return n.includes(",")&&(n=n.split(",")),n}}};const fy={class:"searchbar"},py={class:"searchbar-searchFields"},my={class:"inputs"},vy={class:"inputs"},gy={key:0},_y={key:1},by={key:2},yy={class:"btn_actions"},xy={class:"searchbar-map"};function wy(t,n,a,l,s,c){const d=Vt("map-test");return De(),We("div",fy,[_e("div",py,[_e("div",my,[oe(wo,{square:"",outlined:"",modelValue:t.selectedOption,"onUpdate:modelValue":n[0]||(n[0]=f=>t.selectedOption=f),onChange:t.toggleOptions,options:t.searchOptions,label:"Search By"},null,8,["modelValue","onChange","options"])]),_e("div",vy,[t.selectedOption==="Address"?(De(),We("div",gy,[oe(Ci,{square:"",outlined:"",modelValue:t.searchText,"onUpdate:modelValue":n[1]||(n[1]=f=>t.searchText=f),onKeypress:ct(t.searchAddress,["enter"])},null,8,["modelValue","onKeypress"])])):t.selectedOption==="Zip Code"?(De(),We("div",_y,[oe(Ci,{square:"",outlined:"",modelValue:t.searchText,"onUpdate:modelValue":n[2]||(n[2]=f=>t.searchText=f),placeholder:"By Zip Code",onKeypress:ct(t.searchAddress,["enter"]),label:"Zip Code"},null,8,["modelValue","onKeypress"])])):t.selectedOption==="City, State"?(De(),We("div",by,[oe(Ci,{square:"",outlined:"",label:"City, State",modelValue:t.searchText,"onUpdate:modelValue":n[3]||(n[3]=f=>t.searchText=f),onKeypress:ct(t.searchAddress,["enter"])},null,8,["modelValue","onKeypress"])])):ni("",!0)]),_e("div",yy,[oe(St,{id:"search-btn",round:"",color:"black",icon:"my_location",onClick:t.updateMap},null,8,["onClick"]),oe(St,{flattened:"",color:"primary",label:"Reset Map",onClick:t.resetMap},null,8,["onClick"])])]),_e("div",xy,[oe(d,{latlong:t.coordList,hasReset:t.hasReset},null,8,["latlong","hasReset"])]),oe(St,{id:"search-btn",flattened:"",color:"primary",label:"Search",size:"1rem",onClick:t.searchAddress},null,8,["onClick"])])}var Sy=oi(hy,[["render",wy]]),Ty={name:"summary",props:[],data(){return{}},computed:{average(){const t=this.$store.state.features.reduce((n,a)=>a.rhcPsf+n,0)/this.$store.state.features.length;return parseInt(t)||0},max(){const t=this.$store.state.features.map(n=>n.rhcPsf&&n.rhcPsf>0?n.rhcPsf:this.average);return Math.max(...t)||0},min(){const t=this.$store.state.features.map(n=>n.rhcPsf&&n.rhcPsf>0?n.rhcPsf:this.average);return Math.min(...t)||0}}};const Cy={class:"summary"},Py={class:"summary-min"},ky=_e("h3",{class:"heading"},"Min",-1),Ly=_e("h4",null,"per sq ft",-1),Ay={class:"summary-average"},My=_e("h3",{class:"heading"},"Average",-1),zy=_e("h4",null,"per sq ft",-1),Ey={class:"summary-max"},Oy=_e("h3",{class:"heading"},"Max",-1),Iy=_e("h4",null,"per sq ft",-1),By=_e("h4",{class:"tooltip"},"Numbers based on square mile radius",-1);function Ry(t,n,a,l,s,c){return De(),We(Ln,null,[_e("div",Cy,[_e("div",Py,[ky,Ly,_e("span",null,"$"+wt(t.min),1)]),_e("div",Ay,[My,zy,_e("span",null,"$"+wt(t.average),1)]),_e("div",Ey,[Oy,Iy,_e("span",null,"$"+wt(t.max),1)])]),By],64)}var qy=oi(Ty,[["render",Ry]]),Dy=Ke({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(t,{slots:n,emit:a}){const l=et(),{proxy:{$q:s}}=l,c=d=>{a("click",d)};return()=>{if(t.props===void 0)return S("th",{class:t.autoWidth===!0?"q-table--col-auto-width":"",onClick:c},Lt(n.default));let d,f;const p=l.vnode.key;if(p){if(d=t.props.colsMap[p],d===void 0)return}else d=t.props.col;if(d.sortable===!0){const m=d.align==="right"?"unshift":"push";f=Fs(n.default,[]),f[m](S(fi,{class:d.__iconClass,name:s.iconSet.table.arrowUp}))}else f=Lt(n.default);const b={class:d.__thClass+(t.autoWidth===!0?" q-table--col-auto-width":""),style:d.headerStyle,onClick:m=>{d.sortable===!0&&t.props.sort(d),c(m)}};return S("th",b,f)}}});const $y={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},pa={xs:2,sm:4,md:8,lg:16,xl:24};var Fy=Ke({name:"QSeparator",props:{...It,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const n=et(),a=Bt(t,n.proxy.$q),l=_(()=>t.vertical===!0?"vertical":"horizontal"),s=_(()=>` q-separator--${l.value}`),c=_(()=>t.inset!==!1?`${s.value}-${$y[t.inset]}`:""),d=_(()=>`q-separator${s.value}${c.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(a.value===!0?" q-separator--dark":"")),f=_(()=>{const p={};if(t.size!==void 0&&(p[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const b=t.spaced===!0?`${pa.md}px`:t.spaced in pa?`${pa[t.spaced]}px`:t.spaced,m=t.vertical===!0?["Left","Right"]:["Top","Bottom"];p[`margin${m[0]}`]=p[`margin${m[1]}`]=b}return p});return()=>S("hr",{class:d.value,style:f.value,"aria-orientation":l.value})}}),Ny=Ke({name:"QList",props:{...It,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(t,{slots:n}){const a=et(),l=Bt(t,a.proxy.$q),s=_(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>S("div",{class:s.value},Lt(n.default))}});const Zy=["horizontal","vertical","cell","none"];var Vy=Ke({name:"QMarkupTable",props:{...It,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:t=>Zy.includes(t)}},setup(t,{slots:n}){const a=et(),l=Bt(t,a.proxy.$q),s=_(()=>`q-markup-table q-table__container q-table__card q-table--${t.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(t.dense===!0?" q-table--dense":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")+(t.square===!0?" q-table--square":"")+(t.wrapCells===!1?" q-table--no-wrap":""));return()=>S("div",{class:s.value},[S("table",{class:"q-table"},Lt(n.default))])}});function Zl(t,n){return S("div",t,[S("table",{class:"q-table"},n)])}const Hy={list:Ny,table:Vy},Uy=["list","table","__qtable"];var jy=Ke({name:"QVirtualScroll",props:{...pl,type:{type:String,default:"list",validator:t=>Uy.includes(t)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(t,{slots:n,attrs:a}){let l;const s=ae(null),c=_(()=>t.itemsSize>=0&&t.itemsFn!==void 0?parseInt(t.itemsSize,10):Array.isArray(t.items)?t.items.length:0),{virtualScrollSliceRange:d,localResetVirtualScroll:f,padVirtualScroll:p,onVirtualScrollEvt:b}=ml({virtualScrollLength:c,getVirtualScrollTarget:A,getVirtualScrollEl:w}),m=_(()=>{if(c.value===0)return[];const B=(Y,R)=>({index:d.value.from+R,item:Y});return t.itemsFn===void 0?t.items.slice(d.value.from,d.value.to).map(B):t.itemsFn(d.value.from,d.value.to-d.value.from).map(B)}),x=_(()=>"q-virtual-scroll q-virtual-scroll"+(t.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(t.scrollTarget!==void 0?"":" scroll")),T=_(()=>t.scrollTarget!==void 0?{}:{tabindex:0});ze(c,()=>{f()}),ze(()=>t.scrollTarget,()=>{E(),z()});function w(){return s.value.$el||s.value}function A(){return l}function z(){l=Ba(w(),t.scrollTarget),l.addEventListener("scroll",b,kt.passive)}function E(){l!==void 0&&(l.removeEventListener("scroll",b,kt.passive),l=void 0)}function J(){let B=p(t.type==="list"?"div":"tbody",m.value.map(n.default));return n.before!==void 0&&(B=n.before().concat(B)),Mn(n.after,B)}return Ma(()=>{f()}),Po(()=>{z()}),Vs(()=>{z()}),Zs(()=>{E()}),vt(()=>{E()}),()=>{if(n.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return t.type==="__qtable"?Zl({ref:s,class:"q-table__middle "+x.value},J()):S(Hy[t.type],{...a,ref:s,class:[a.class,x.value],...T.value},J)}}});const Wy={xs:2,sm:4,md:6,lg:10,xl:14};function Ms(t,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-t},1,1)`:`scale3d(${t},1,1)`}}var Gy=Ke({name:"QLinearProgress",props:{...It,...La,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(t,{slots:n}){const{proxy:a}=et(),l=Bt(t,a.$q),s=Aa(t,Wy),c=_(()=>t.indeterminate===!0||t.query===!0),d=_(()=>t.reverse!==t.query),f=_(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${t.animationSpeed}ms`})),p=_(()=>"q-linear-progress"+(t.color!==void 0?` text-${t.color}`:"")+(t.reverse===!0||t.query===!0?" q-linear-progress--reverse":"")+(t.rounded===!0?" rounded-borders":"")),b=_(()=>Ms(t.buffer!==void 0?t.buffer:1,d.value,a.$q)),m=_(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${t.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${l.value===!0?"dark":"light"}`+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),x=_(()=>Ms(c.value===!0?1:t.value,d.value,a.$q)),T=_(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${t.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${c.value===!0?"in":""}determinate`),w=_(()=>({width:`${t.value*100}%`})),A=_(()=>`q-linear-progress__stripe absolute-${t.reverse===!0?"right":"left"}`);return()=>{const z=[S("div",{class:m.value,style:b.value}),S("div",{class:T.value,style:x.value})];return t.stripe===!0&&c.value===!1&&z.push(S("div",{class:A.value,style:w.value})),S("div",{class:p.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t.indeterminate===!0?void 0:t.value},Mn(n.default,z))}}});function Ky(t,n){const a=ae(null),l=_(()=>t.disable!==!0?null:S("span",{ref:a,class:"no-outline",tabindex:-1}));function s(c){const d=n.value;c!==void 0&&c.type.indexOf("key")===0?d!==null&&document.activeElement!==d&&d.contains(document.activeElement)===!0&&d.focus():a.value!==null&&(c===void 0||d!==null&&d.contains(c.target)===!0)&&a.value.focus()}return{refocusTargetEl:l,refocusTarget:s}}var Yy={xs:30,sm:35,md:40,lg:50,xl:60};const Qy={...It,...La,...Ia,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Xy=["update:modelValue"];function Jy(t,n){const{props:a,slots:l,emit:s,proxy:c}=et(),{$q:d}=c,f=Bt(a,d),p=ae(null),{refocusTargetEl:b,refocusTarget:m}=Ky(a,p),x=Aa(a,Yy),T=_(()=>a.val!==void 0&&Array.isArray(a.modelValue)),w=_(()=>{const q=Ni(a.val);return T.value===!0?a.modelValue.findIndex(ie=>Ni(ie)===q):-1}),A=_(()=>T.value===!0?w.value>-1:Ni(a.modelValue)===Ni(a.trueValue)),z=_(()=>T.value===!0?w.value===-1:Ni(a.modelValue)===Ni(a.falseValue)),E=_(()=>A.value===!1&&z.value===!1),J=_(()=>a.disable===!0?-1:a.tabindex||0),B=_(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(a.disable===!0?" disabled":"")+(f.value===!0?` q-${t}--dark`:"")+(a.dense===!0?` q-${t}--dense`:"")+(a.leftLabel===!0?" reverse":"")),Y=_(()=>{const q=A.value===!0?"truthy":z.value===!0?"falsy":"indet",ie=a.color!==void 0&&(a.keepColor===!0||(t==="toggle"?A.value===!0:z.value!==!0))?` text-${a.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${q}${ie}`}),R=_(()=>{const q={type:"checkbox"};return a.name!==void 0&&Object.assign(q,{"^checked":A.value===!0?"checked":void 0,name:a.name,value:T.value===!0?a.val:a.trueValue}),q}),Q=Ys(R),ve=_(()=>{const q={tabindex:J.value,role:"checkbox","aria-label":a.label,"aria-checked":E.value===!0?"mixed":A.value===!0?"true":"false"};return a.disable===!0&&(q["aria-disabled"]="true"),q});function Ae(q){q!==void 0&&(ut(q),m(q)),a.disable!==!0&&s("update:modelValue",be(),q)}function be(){if(T.value===!0){if(A.value===!0){const q=a.modelValue.slice();return q.splice(w.value,1),q}return a.modelValue.concat([a.val])}if(A.value===!0){if(a.toggleOrder!=="ft"||a.toggleIndeterminate===!1)return a.falseValue}else if(z.value===!0){if(a.toggleOrder==="ft"||a.toggleIndeterminate===!1)return a.trueValue}else return a.toggleOrder!=="ft"?a.trueValue:a.falseValue;return a.indeterminateValue}function qe(q){(q.keyCode===13||q.keyCode===32)&&ut(q)}function ye(q){(q.keyCode===13||q.keyCode===32)&&Ae(q)}const ne=n(A,E);return Object.assign(c,{toggle:Ae}),()=>{const q=ne();a.disable!==!0&&Q(q,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const ie=[S("div",{class:Y.value,style:x.value},q)];b.value!==null&&ie.push(b.value);const re=a.label!==void 0?Mn(l.default,[a.label]):Lt(l.default);return re!==void 0&&ie.push(S("div",{class:`q-${t}__label q-anchor--skip`},re)),S("div",{ref:p,class:B.value,...ve.value,onClick:Ae,onKeydown:qe,onKeyup:ye},ie)}}const e0=S("div",{key:"svg",class:"q-checkbox__bg absolute"},[S("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[S("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),S("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var ma=Ke({name:"QCheckbox",props:Qy,emits:Xy,setup(t){function n(a,l){const s=_(()=>(a.value===!0?t.checkedIcon:l.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>s.value!==null?[S("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[S(fi,{class:"q-checkbox__icon",name:s.value})])]:[e0]}return Jy("checkbox",n)}});let wn=0;const t0={fullscreen:Boolean,noRouteFullscreenExit:Boolean},i0=["update:fullscreen","fullscreen"];function n0(){const t=et(),{props:n,emit:a,proxy:l}=t;let s,c,d;const f=ae(!1);Rs(t)===!0&&ze(()=>l.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&m()}),ze(()=>n.fullscreen,x=>{f.value!==x&&p()}),ze(f,x=>{a("update:fullscreen",x),a("fullscreen",x)});function p(){f.value===!0?m():b()}function b(){f.value!==!0&&(f.value=!0,d=l.$el.parentNode,d.replaceChild(c,l.$el),document.body.appendChild(l.$el),wn++,wn===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:m},co.add(s))}function m(){f.value===!0&&(s!==void 0&&(co.remove(s),s=void 0),d.replaceChild(l.$el,c),f.value=!1,wn=Math.max(0,wn-1),wn===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return Ma(()=>{c=document.createElement("span")}),Po(()=>{n.fullscreen===!0&&b()}),vt(m),Object.assign(l,{toggleFullscreen:p,setFullscreen:b,exitFullscreen:m}),{inFullscreen:f,toggleFullscreen:p}}function o0(t,n){return new Date(t)-new Date(n)}const a0={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:t=>t==="ad"||t==="da",default:"ad"}};function r0(t,n,a,l){const s=_(()=>{const{sortBy:f}=n.value;return f&&a.value.find(p=>p.name===f)||null}),c=_(()=>t.sortMethod!==void 0?t.sortMethod:(f,p,b)=>{const m=a.value.find(w=>w.name===p);if(m===void 0||m.field===void 0)return f;const x=b===!0?-1:1,T=typeof m.field=="function"?w=>m.field(w):w=>w[m.field];return f.sort((w,A)=>{let z=T(w),E=T(A);return z==null?-1*x:E==null?1*x:m.sort!==void 0?m.sort(z,E,w,A)*x:fo(z)===!0&&fo(E)===!0?(z-E)*x:Nr(z)===!0&&Nr(E)===!0?o0(z,E)*x:typeof z=="boolean"&&typeof E=="boolean"?(z-E)*x:([z,E]=[z,E].map(J=>(J+"").toLocaleString().toLowerCase()),z<E?-1*x:z===E?0:x)})});function d(f){let p=t.columnSortOrder;if(so(f)===!0)f.sortOrder&&(p=f.sortOrder),f=f.name;else{const x=a.value.find(T=>T.name===f);x!==void 0&&x.sortOrder&&(p=x.sortOrder)}let{sortBy:b,descending:m}=n.value;b!==f?(b=f,m=p==="da"):t.binaryStateSort===!0?m=!m:m===!0?p==="ad"?b=null:m=!1:p==="ad"?m=!0:b=null,l({sortBy:b,descending:m,page:1})}return{columnToSort:s,computedSortMethod:c,sort:d}}const s0={filter:[String,Object],filterMethod:Function};function l0(t,n){const a=_(()=>t.filterMethod!==void 0?t.filterMethod:(l,s,c,d)=>{const f=s?s.toLowerCase():"";return l.filter(p=>c.some(b=>{const m=d(b,p)+"";return(m==="undefined"||m==="null"?"":m.toLowerCase()).indexOf(f)!==-1}))});return ze(()=>t.filter,()=>{st(()=>{n({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function u0(t,n){for(const a in n)if(n[a]!==t[a])return!1;return!0}function zs(t){return t.page<1&&(t.page=1),t.rowsPerPage!==void 0&&t.rowsPerPage<1&&(t.rowsPerPage=0),t}const c0={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function d0(t,n){const{props:a,emit:l}=t,s=ae(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length>0?a.rowsPerPageOptions[0]:5},a.pagination)),c=_(()=>{const m=a["onUpdate:pagination"]!==void 0?{...s.value,...a.pagination}:s.value;return zs(m)}),d=_(()=>c.value.rowsNumber!==void 0);function f(m){p({pagination:m,filter:a.filter})}function p(m={}){st(()=>{l("request",{pagination:m.pagination||c.value,filter:m.filter||a.filter,getCellValue:n})})}function b(m,x){const T=zs({...c.value,...m});if(u0(c.value,T)===!0){d.value===!0&&x===!0&&f(T);return}if(d.value===!0){f(T);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?l("update:pagination",T):s.value=T}return{innerPagination:s,computedPagination:c,isServerSide:d,requestServerInteraction:p,setPagination:b}}function h0(t,n,a,l,s,c){const{props:d,emit:f,proxy:{$q:p}}=t,b=_(()=>l.value===!0?a.value.rowsNumber||0:c.value),m=_(()=>{const{page:R,rowsPerPage:Q}=a.value;return(R-1)*Q}),x=_(()=>{const{page:R,rowsPerPage:Q}=a.value;return R*Q}),T=_(()=>a.value.page===1),w=_(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/a.value.rowsPerPage))),A=_(()=>x.value===0?!0:a.value.page>=w.value),z=_(()=>(d.rowsPerPageOptions.includes(n.value.rowsPerPage)?d.rowsPerPageOptions:[n.value.rowsPerPage].concat(d.rowsPerPageOptions)).map(Q=>({label:Q===0?p.lang.table.allRows:""+Q,value:Q})));ze(w,(R,Q)=>{if(R===Q)return;const ve=a.value.page;R&&!ve?s({page:1}):R<ve&&s({page:R})});function E(){s({page:1})}function J(){const{page:R}=a.value;R>1&&s({page:R-1})}function B(){const{page:R,rowsPerPage:Q}=a.value;x.value>0&&R*Q<b.value&&s({page:R+1})}function Y(){s({page:w.value})}return d["onUpdate:pagination"]!==void 0&&f("update:pagination",{...a.value}),{firstRowIndex:m,lastRowIndex:x,isFirstPage:T,isLastPage:A,pagesNumber:w,computedRowsPerPageOptions:z,computedRowsNumber:b,firstPage:E,prevPage:J,nextPage:B,lastPage:Y}}const f0={selection:{type:String,default:"none",validator:t=>["single","multiple","none"].includes(t)},selected:{type:Array,default:()=>[]}},p0=["update:selected","selection"];function m0(t,n,a,l){const s=_(()=>{const A={};return t.selected.map(l.value).forEach(z=>{A[z]=!0}),A}),c=_(()=>t.selection!=="none"),d=_(()=>t.selection==="single"),f=_(()=>t.selection==="multiple"),p=_(()=>a.value.length>0&&a.value.every(A=>s.value[l.value(A)]===!0)),b=_(()=>p.value!==!0&&a.value.some(A=>s.value[l.value(A)]===!0)),m=_(()=>t.selected.length);function x(A){return s.value[A]===!0}function T(){n("update:selected",[])}function w(A,z,E,J){n("selection",{rows:z,added:E,keys:A,evt:J});const B=d.value===!0?E===!0?z:[]:E===!0?t.selected.concat(z):t.selected.filter(Y=>A.includes(l.value(Y))===!1);n("update:selected",B)}return{hasSelectionMode:c,singleSelection:d,multipleSelection:f,allRowsSelected:p,someRowsSelected:b,rowsSelectedNumber:m,isRowSelected:x,clearSelection:T,updateSelection:w}}function Es(t){return Array.isArray(t)?t.slice():[]}const v0={expanded:Array},g0=["update:expanded"];function _0(t,n){const a=ae(Es(t.expanded));ze(()=>t.expanded,d=>{a.value=Es(d)});function l(d){return a.value.includes(d)}function s(d){t.expanded!==void 0?n("update:expanded",d):a.value=d}function c(d,f){const p=a.value.slice(),b=p.indexOf(d);f===!0?b===-1&&(p.push(d),s(p)):b!==-1&&(p.splice(b,1),s(p))}return{isRowExpanded:l,setExpanded:s,updateExpanded:c}}const b0={visibleColumns:Array};function y0(t,n,a){const l=_(()=>{if(t.columns!==void 0)return t.columns;const f=t.rows[0];return f!==void 0?Object.keys(f).map(p=>({name:p,label:p.toUpperCase(),field:p,align:fo(f[p])?"right":"left",sortable:!0})):[]}),s=_(()=>{const{sortBy:f,descending:p}=n.value;return(t.visibleColumns!==void 0?l.value.filter(m=>m.required===!0||t.visibleColumns.includes(m.name)===!0):l.value).map(m=>{const x=m.align||"right",T=`text-${x}`;return{...m,align:x,__iconClass:`q-table__sort-icon q-table__sort-icon--${x}`,__thClass:T+(m.headerClasses!==void 0?" "+m.headerClasses:"")+(m.sortable===!0?" sortable":"")+(m.name===f?` sorted ${p===!0?"sort-desc":""}`:""),__tdStyle:m.style!==void 0?typeof m.style!="function"?()=>m.style:m.style:()=>null,__tdClass:m.classes!==void 0?typeof m.classes!="function"?()=>T+" "+m.classes:w=>T+" "+m.classes(w):()=>T}})}),c=_(()=>{const f={};return s.value.forEach(p=>{f[p.name]=p}),f}),d=_(()=>t.tableColspan!==void 0?t.tableColspan:s.value.length+(a.value===!0?1:0));return{colList:l,computedCols:s,computedColsMap:c,computedColspan:d}}const oo="q-table__bottom row items-center",Vl={};fl.forEach(t=>{Vl[t]={}});var x0=Ke({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Vl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...It,...t0,...b0,...s0,...c0,...v0,...f0,...a0},emits:["request","virtual-scroll",...i0,...g0,...p0],setup(t,{slots:n,emit:a}){const l=et(),{proxy:{$q:s}}=l,c=Bt(t,s),{inFullscreen:d,toggleFullscreen:f}=n0(),p=_(()=>typeof t.rowKey=="function"?t.rowKey:P=>P[t.rowKey]),b=ae(null),m=ae(null),x=_(()=>t.grid!==!0&&t.virtualScroll===!0),T=_(()=>" q-table__card"+(c.value===!0?" q-table__card--dark q-dark":"")+(t.square===!0?" q-table--square":"")+(t.flat===!0?" q-table--flat":"")+(t.bordered===!0?" q-table--bordered":"")),w=_(()=>`q-table__container q-table--${t.separator}-separator column no-wrap`+(t.grid===!0?" q-table--grid":T.value)+(c.value===!0?" q-table--dark":"")+(t.dense===!0?" q-table--dense":"")+(t.wrapCells===!1?" q-table--no-wrap":"")+(d.value===!0?" fullscreen scroll":"")),A=_(()=>w.value+(t.loading===!0?" q-table--loading":""));ze(()=>t.tableStyle+t.tableClass+t.tableHeaderStyle+t.tableHeaderClass+w.value,()=>{x.value===!0&&m.value!==null&&m.value.reset()});const{innerPagination:z,computedPagination:E,isServerSide:J,requestServerInteraction:B,setPagination:Y}=d0(l,bt),{computedFilterMethod:R}=l0(t,Y),{isRowExpanded:Q,setExpanded:ve,updateExpanded:Ae}=_0(t,a),be=_(()=>{let P=t.rows;if(J.value===!0||P.length===0)return P;const{sortBy:j,descending:te}=E.value;return t.filter&&(P=R.value(P,t.filter,M.value,bt)),H.value!==null&&(P=ee.value(t.rows===P?P.slice():P,j,te)),P}),qe=_(()=>be.value.length),ye=_(()=>{let P=be.value;if(J.value===!0)return P;const{rowsPerPage:j}=E.value;return j!==0&&(G.value===0&&t.rows!==P?P.length>pe.value&&(P=P.slice(0,pe.value)):P=P.slice(G.value,pe.value)),P}),{hasSelectionMode:ne,singleSelection:q,multipleSelection:ie,allRowsSelected:re,someRowsSelected:de,rowsSelectedNumber:se,isRowSelected:xe,clearSelection:$,updateSelection:Pe}=m0(t,a,ye,p),{colList:k,computedCols:M,computedColsMap:V,computedColspan:W}=y0(t,E,ne),{columnToSort:H,computedSortMethod:ee,sort:F}=r0(t,E,k,Y),{firstRowIndex:G,lastRowIndex:pe,isFirstPage:D,isLastPage:K,pagesNumber:Ie,computedRowsPerPageOptions:Qe,computedRowsNumber:Be,firstPage:gt,prevPage:ot,nextPage:nt,lastPage:lt}=h0(l,z,E,J,Y,qe),dt=_(()=>ye.value.length===0),it=_(()=>{const P={};return fl.forEach(j=>{P[j]=t[j]}),P.virtualScrollItemSize===void 0&&(P.virtualScrollItemSize=t.dense===!0?28:48),P});function Ne(){x.value===!0&&m.value.reset()}function ht(){if(t.grid===!0)return Mi();const P=t.hideHeader!==!0?we:null;if(x.value===!0){const te=n["top-row"],ce=n["bottom-row"],he={default:Ze=>Mt(Ze.item,n.body,Ze.index)};if(te!==void 0){const Ze=S("tbody",te({cols:M.value}));he.before=P===null?()=>Ze:()=>[P()].concat(Ze)}else P!==null&&(he.before=P);return ce!==void 0&&(he.after=()=>S("tbody",ce({cols:M.value}))),S(jy,{ref:m,class:t.tableClass,style:t.tableStyle,...it.value,scrollTarget:t.virtualScrollTarget,items:ye.value,type:"__qtable",tableColspan:W.value,onVirtualScroll:si},he)}const j=[jt()];return P!==null&&j.unshift(P()),Zl({class:["q-table__middle scroll",t.tableClass],style:t.tableStyle},j)}function At(P,j){if(m.value!==null){m.value.scrollTo(P,j);return}P=parseInt(P,10);const te=b.value.querySelector(`tbody tr:nth-of-type(${P+1})`);if(te!==null){const ce=b.value.querySelector(".q-table__middle.scroll"),{offsetTop:he}=te,Ze=he<ce.scrollTop?"decrease":"increase";ce.scrollTop=he,a("virtual-scroll",{index:P,from:0,to:z.value.rowsPerPage-1,direction:Ze})}}function si(P){a("virtual-scroll",P)}function Ut(){return[S(Gy,{class:"q-table__linear-progress",color:t.color,dark:c.value,indeterminate:!0,trackColor:"transparent"})]}function Mt(P,j,te){const ce=p.value(P),he=xe(ce);if(j!==void 0)return j(Tt({key:ce,row:P,pageIndex:te,__trClass:he?"selected":""}));const Ze=n["body-cell"],$e=M.value.map(Z=>{const Wt=n[`body-cell-${Z.name}`],Gt=Wt!==void 0?Wt:Ze;return Gt!==void 0?Gt(ft({key:ce,row:P,pageIndex:te,col:Z})):S("td",{class:Z.__tdClass(P),style:Z.__tdStyle(P)},bt(Z,P))});if(ne.value===!0){const Z=n["body-selection"],Wt=Z!==void 0?Z(Ct({key:ce,row:P,pageIndex:te})):[S(ma,{modelValue:he,color:t.color,dark:c.value,dense:t.dense,"onUpdate:modelValue":(Gt,zi)=>{Pe([ce],[P],Gt,zi)}})];$e.unshift(S("td",{class:"q-table--col-auto-width"},Wt))}const Ge={key:ce,class:{selected:he}};return t.onRowClick!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onClick=Z=>{a("RowClick",Z,P,te)}),t.onRowDblclick!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onDblclick=Z=>{a("RowDblclick",Z,P,te)}),t.onRowContextmenu!==void 0&&(Ge.class["cursor-pointer"]=!0,Ge.onContextmenu=Z=>{a("RowContextmenu",Z,P,te)}),S("tr",Ge,$e)}function jt(){const P=n.body,j=n["top-row"],te=n["bottom-row"];let ce=ye.value.map((he,Ze)=>Mt(he,P,Ze));return j!==void 0&&(ce=j({cols:M.value}).concat(ce)),te!==void 0&&(ce=ce.concat(te({cols:M.value}))),S("tbody",ce)}function Tt(P){return _t(P),P.cols=P.cols.map(j=>{const te={...j};return _n(te,"value",()=>bt(j,P.row)),te}),P}function ft(P){return _t(P),_n(P,"value",()=>bt(P.col,P.row)),P}function Ct(P){return _t(P),P}function _t(P){Object.assign(P,{cols:M.value,colsMap:V.value,sort:F,rowIndex:G.value+P.pageIndex,color:t.color,dark:c.value,dense:t.dense}),ne.value===!0&&_n(P,"selected",()=>xe(P.key),(j,te)=>{Pe([P.key],[P.row],j,te)}),_n(P,"expand",()=>Q(P.key),j=>{Ae(P.key,j)})}function bt(P,j){const te=typeof P.field=="function"?P.field(j):j[P.field];return P.format!==void 0?P.format(te,j):te}const pt=_(()=>({pagination:E.value,pagesNumber:Ie.value,isFirstPage:D.value,isLastPage:K.value,firstPage:gt,prevPage:ot,nextPage:nt,lastPage:lt,inFullscreen:d.value,toggleFullscreen:f}));function O(){const P=n.top,j=n["top-left"],te=n["top-right"],ce=n["top-selection"],he=ne.value===!0&&ce!==void 0&&se.value>0,Ze="q-table__top relative-position row items-center";if(P!==void 0)return S("div",{class:Ze},[P(pt.value)]);let $e;if(he===!0?$e=ce(pt.value).slice():($e=[],j!==void 0?$e.push(S("div",{class:"q-table-control"},[j(pt.value)])):t.title&&$e.push(S("div",{class:"q-table__control"},[S("div",{class:["q-table__title",t.titleClass]},t.title)]))),te!==void 0&&($e.push(S("div",{class:"q-table__separator col"})),$e.push(S("div",{class:"q-table__control"},[te(pt.value)]))),$e.length!==0)return S("div",{class:Ze},$e)}const ue=_(()=>de.value===!0?null:re.value);function we(){const P=Me();return t.loading===!0&&n.loading===void 0&&P.push(S("tr",{class:"q-table__progress"},[S("th",{class:"relative-position",colspan:W.value},Ut())])),S("thead",P)}function Me(){const P=n.header,j=n["header-cell"];if(P!==void 0)return P(Ee({header:!0})).slice();const te=M.value.map(ce=>{const he=n[`header-cell-${ce.name}`],Ze=he!==void 0?he:j,$e=Ee({col:ce});return Ze!==void 0?Ze($e):S(Dy,{key:ce.name,props:$e},()=>ce.label)});if(q.value===!0&&t.grid!==!0)te.unshift(S("th",{class:"q-table--col-auto-width"}," "));else if(ie.value===!0){const ce=n["header-selection"],he=ce!==void 0?ce(Ee({})):[S(ma,{color:t.color,modelValue:ue.value,dark:c.value,dense:t.dense,"onUpdate:modelValue":at})];te.unshift(S("th",{class:"q-table--col-auto-width"},he))}return[S("tr",{class:t.tableHeaderClass,style:t.tableHeaderStyle},te)]}function Ee(P){return Object.assign(P,{cols:M.value,sort:F,colsMap:V.value,color:t.color,dark:c.value,dense:t.dense}),ie.value===!0&&_n(P,"selected",()=>ue.value,at),P}function at(P){de.value===!0&&(P=!1),Pe(ye.value.map(p.value),ye.value,P)}const yt=_(()=>{const P=[t.iconFirstPage||s.iconSet.table.firstPage,t.iconPrevPage||s.iconSet.table.prevPage,t.iconNextPage||s.iconSet.table.nextPage,t.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?P.reverse():P});function Rt(){if(t.hideBottom===!0)return;if(dt.value===!0){if(t.hideNoData===!0)return;const te=t.loading===!0?t.loadingLabel||s.lang.table.loading:t.filter?t.noResultsLabel||s.lang.table.noResults:t.noDataLabel||s.lang.table.noData,ce=n["no-data"],he=ce!==void 0?[ce({message:te,icon:s.iconSet.table.warning,filter:t.filter})]:[S(fi,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),te];return S("div",{class:oo+" q-table__bottom--nodata"},he)}const P=n.bottom;if(P!==void 0)return S("div",{class:oo},[P(pt.value)]);const j=t.hideSelectedBanner!==!0&&ne.value===!0&&se.value>0?[S("div",{class:"q-table__control"},[S("div",[(t.selectedRowsLabel||s.lang.table.selectedRecords)(se.value)])])]:[];if(t.hidePagination!==!0)return S("div",{class:oo+" justify-end"},pi(j));if(j.length>0)return S("div",{class:oo},j)}function Ai(P){Y({page:1,rowsPerPage:P.value})}function pi(P){let j;const{rowsPerPage:te}=E.value,ce=t.paginationLabel||s.lang.table.pagination,he=n.pagination,Ze=t.rowsPerPageOptions.length>1;if(P.push(S("div",{class:"q-table__separator col"})),Ze===!0&&P.push(S("div",{class:"q-table__control"},[S("span",{class:"q-table__bottom-item"},[t.rowsPerPageLabel||s.lang.table.recordsPerPage]),S(wo,{class:"q-table__select inline q-table__bottom-item",color:t.color,modelValue:te,options:Qe.value,displayValue:te===0?s.lang.table.allRows:te,dark:c.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Ai})])),he!==void 0)j=he(pt.value);else if(j=[S("span",te!==0?{class:"q-table__bottom-item"}:{},[te?ce(G.value+1,Math.min(pe.value,Be.value),Be.value):ce(1,qe.value,Be.value)])],te!==0&&Ie.value>1){const $e={color:t.color,round:!0,dense:!0,flat:!0};t.dense===!0&&($e.size="sm"),Ie.value>2&&j.push(S(St,{key:"pgFirst",...$e,icon:yt.value[0],disable:D.value,onClick:gt})),j.push(S(St,{key:"pgPrev",...$e,icon:yt.value[1],disable:D.value,onClick:ot}),S(St,{key:"pgNext",...$e,icon:yt.value[2],disable:K.value,onClick:nt})),Ie.value>2&&j.push(S(St,{key:"pgLast",...$e,icon:yt.value[3],disable:K.value,onClick:lt}))}return P.push(S("div",{class:"q-table__control"},j)),P}function nn(){const P=t.gridHeader===!0?[S("table",{class:"q-table"},[we()])]:t.loading===!0&&n.loading===void 0?Ut():void 0;return S("div",{class:"q-table__middle"},P)}function Mi(){const P=n.item!==void 0?n.item:j=>{const te=j.cols.map(he=>S("div",{class:"q-table__grid-item-row"},[S("div",{class:"q-table__grid-item-title"},[he.label]),S("div",{class:"q-table__grid-item-value"},[he.value])]));if(ne.value===!0){const he=n["body-selection"],Ze=he!==void 0?he(j):[S(ma,{modelValue:j.selected,color:t.color,dark:c.value,dense:t.dense,"onUpdate:modelValue":($e,Ge)=>{Pe([j.key],[j.row],$e,Ge)}})];te.unshift(S("div",{class:"q-table__grid-item-row"},Ze),S(Fy,{dark:c.value}))}const ce={class:["q-table__grid-item-card"+T.value,t.cardClass],style:t.cardStyle};return(t.onRowClick!==void 0||t.onRowDblclick!==void 0)&&(ce.class[0]+=" cursor-pointer",t.onRowClick!==void 0&&(ce.onClick=he=>{a("RowClick",he,j.row,j.pageIndex)}),t.onRowDblclick!==void 0&&(ce.onDblclick=he=>{a("RowDblclick",he,j.row,j.pageIndex)})),S("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(j.selected===!0?" q-table__grid-item--selected":"")},[S("div",ce,te)])};return S("div",{class:["q-table__grid-content row",t.cardContainerClass],style:t.cardContainerStyle},ye.value.map((j,te)=>P(Tt({key:p.value(j),row:j,pageIndex:te}))))}return Object.assign(l.proxy,{requestServerInteraction:B,setPagination:Y,firstPage:gt,prevPage:ot,nextPage:nt,lastPage:lt,isRowSelected:xe,clearSelection:$,isRowExpanded:Q,setExpanded:ve,sort:F,resetVirtualScroll:Ne,scrollTo:At,getCellValue:bt}),rc(l.proxy,{filteredSortedRows:()=>be.value,computedRows:()=>ye.value,computedRowsNumber:()=>Be.value}),()=>{const P=[O()],j={ref:b,class:A.value};return t.grid===!0?P.push(nn()):Object.assign(j,{class:[j.class,t.cardClass],style:t.cardStyle}),P.push(ht(),Rt()),t.loading===!0&&n.loading!==void 0&&P.push(n.loading()),S("div",j,P)}}});const w0=["top","middle","bottom"];var va=Ke({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>w0.includes(t)}},setup(t,{slots:n}){const a=_(()=>t.align!==void 0?{verticalAlign:t.align}:null),l=_(()=>{const s=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(s!==void 0?` text-${s}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>S("div",{class:l.value,style:a.value,role:"alert","aria-label":t.label},Mn(n.default,t.label!==void 0?[t.label]:[]))}});const Ja={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},S0=Object.keys(Ja);Ja.all=!0;function Os(t){const n={};for(const a of S0)t[a]===!0&&(n[a]=!0);return Object.keys(n).length===0?Ja:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}function Is(t,n){return n.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof n.handler=="function"&&t.target.nodeName.toUpperCase()!=="INPUT"&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(n.uid)===-1)}function ga(t,n,a){const l=kn(t);let s,c=l.left-n.event.x,d=l.top-n.event.y,f=Math.abs(c),p=Math.abs(d);const b=n.direction;b.horizontal===!0&&b.vertical!==!0?s=c<0?"left":"right":b.horizontal!==!0&&b.vertical===!0?s=d<0?"up":"down":b.up===!0&&d<0?(s="up",f>p&&(b.left===!0&&c<0?s="left":b.right===!0&&c>0&&(s="right"))):b.down===!0&&d>0?(s="down",f>p&&(b.left===!0&&c<0?s="left":b.right===!0&&c>0&&(s="right"))):b.left===!0&&c<0?(s="left",f<p&&(b.up===!0&&d<0?s="up":b.down===!0&&d>0&&(s="down"))):b.right===!0&&c>0&&(s="right",f<p&&(b.up===!0&&d<0?s="up":b.down===!0&&d>0&&(s="down")));let m=!1;if(s===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};s=n.event.lastDir,m=!0,s==="left"||s==="right"?(l.left-=c,f=0,c=0):(l.top-=d,p=0,d=0)}return{synthetic:m,payload:{evt:t,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:l,direction:s,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:f,y:p},offset:{x:c,y:d},delta:{x:l.left-n.event.lastX,y:l.top-n.event.lastY}}}}let T0=0;var C0=Ds({name:"touch-pan",beforeMount(t,{value:n,modifiers:a}){if(a.mouse!==!0&&mt.has.touch!==!0)return;function l(c,d){a.mouse===!0&&d===!0?ut(c):(a.stop===!0&&ii(c),a.prevent===!0&&Ti(c))}const s={uid:"qvtp_"+T0++,handler:n,modifiers:a,direction:Os(a),noop:Ns,mouseStart(c){Is(c,s)&&sc(c)&&(hi(s,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),s.start(c,!0))},touchStart(c){if(Is(c,s)){const d=c.target;hi(s,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","passiveCapture"],[d,"touchend","end","passiveCapture"]]),s.start(c)}},start(c,d){if(mt.is.firefox===!0&&aa(t,!0),s.lastEvt=c,d===!0||a.stop===!0){if(s.direction.all!==!0&&(d!==!0||s.modifiers.mouseAllDir!==!0)){const b=c.type.indexOf("mouse")>-1?new MouseEvent(c.type,c):new TouchEvent(c.type,c);c.defaultPrevented===!0&&Ti(b),c.cancelBubble===!0&&ii(b),Object.assign(b,{qKeyEvent:c.qKeyEvent,qClickOutside:c.qClickOutside,qAnchorHandled:c.qAnchorHandled,qClonedBy:c.qClonedBy===void 0?[s.uid]:c.qClonedBy.concat(s.uid)}),s.initialEvent={target:c.target,event:b}}ii(c)}const{left:f,top:p}=kn(c);s.event={x:f,y:p,time:Date.now(),mouse:d===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:f,lastY:p}},move(c){if(s.event===void 0)return;const d=kn(c),f=d.left-s.event.x,p=d.top-s.event.y;if(f===0&&p===0)return;s.lastEvt=c;const b=s.event.mouse===!0,m=()=>{l(c,b),a.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),b===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),po(),s.styleCleanup=w=>{if(s.styleCleanup=void 0,a.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),b===!0){const A=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{A(),w()},50):A()}else w!==void 0&&w()}};if(s.event.detected===!0){s.event.isFirst!==!0&&l(c,s.event.mouse);const{payload:w,synthetic:A}=ga(c,s,!1);w!==void 0&&(s.handler(w)===!1?s.end(c):(s.styleCleanup===void 0&&s.event.isFirst===!0&&m(),s.event.lastX=w.position.left,s.event.lastY=w.position.top,s.event.lastDir=A===!0?void 0:w.direction,s.event.isFirst=!1));return}if(s.direction.all===!0||b===!0&&s.modifiers.mouseAllDir===!0){m(),s.event.detected=!0,s.move(c);return}const x=Math.abs(f),T=Math.abs(p);x!==T&&(s.direction.horizontal===!0&&x>T||s.direction.vertical===!0&&x<T||s.direction.up===!0&&x<T&&p<0||s.direction.down===!0&&x<T&&p>0||s.direction.left===!0&&x>T&&f<0||s.direction.right===!0&&x>T&&f>0?(s.event.detected=!0,s.move(c)):s.end(c,!0))},end(c,d){if(s.event!==void 0){if(Hi(s,"temp"),mt.is.firefox===!0&&aa(t,!1),d===!0)s.styleCleanup!==void 0&&s.styleCleanup(),s.event.detected!==!0&&s.initialEvent!==void 0&&s.initialEvent.target.dispatchEvent(s.initialEvent.event);else if(s.event.detected===!0){s.event.isFirst===!0&&s.handler(ga(c===void 0?s.lastEvt:c,s).payload);const{payload:f}=ga(c===void 0?s.lastEvt:c,s,!0),p=()=>{s.handler(f)};s.styleCleanup!==void 0?s.styleCleanup(p):p()}s.event=void 0,s.initialEvent=void 0,s.lastEvt=void 0}}};t.__qtouchpan=s,a.mouse===!0&&hi(s,"main",[[t,"mousedown","mouseStart",`passive${a.mouseCapture===!0?"Capture":""}`]]),mt.has.touch===!0&&hi(s,"main",[[t,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,n){const a=t.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=Os(n.modifiers))},beforeUnmount(t){const n=t.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Hi(n,"main"),Hi(n,"temp"),mt.is.firefox===!0&&aa(t,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete t.__qtouchpan)}});const Bs="q-slider__marker-labels",P0=t=>({value:t}),k0=({marker:t})=>S("div",{key:t.value,style:t.style,class:t.classes},t.label),Hl=[34,37,40,33,39,38],L0={...It,...Ia,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},A0=["pan","update:modelValue","change"];function M0({updateValue:t,updatePosition:n,getDragging:a,formAttrs:l}){const{props:s,emit:c,slots:d,proxy:{$q:f}}=et(),p=Bt(s,f),b=Ys(l),m=ae(!1),x=ae(!1),T=ae(!1),w=ae(!1),A=_(()=>s.vertical===!0?"--v":"--h"),z=_(()=>"-"+(s.switchLabelSide===!0?"switched":"standard")),E=_(()=>s.vertical===!0?s.reverse===!0:s.reverse!==(f.lang.rtl===!0)),J=_(()=>isNaN(s.innerMin)===!0||s.innerMin<s.min?s.min:s.innerMin),B=_(()=>isNaN(s.innerMax)===!0||s.innerMax>s.max?s.max:s.innerMax),Y=_(()=>s.disable!==!0&&s.readonly!==!0&&J.value<B.value),R=_(()=>(String(s.step).trim().split(".")[1]||"").length),Q=_(()=>s.step===0?1:s.step),ve=_(()=>Y.value===!0?s.tabindex||0:-1),Ae=_(()=>s.max-s.min),be=_(()=>B.value-J.value),qe=_(()=>Ie(J.value)),ye=_(()=>Ie(B.value)),ne=_(()=>s.vertical===!0?E.value===!0?"bottom":"top":E.value===!0?"right":"left"),q=_(()=>s.vertical===!0?"height":"width"),ie=_(()=>s.vertical===!0?"width":"height"),re=_(()=>s.vertical===!0?"vertical":"horizontal"),de=_(()=>{const O={role:"slider","aria-valuemin":J.value,"aria-valuemax":B.value,"aria-orientation":re.value,"data-step":s.step};return s.disable===!0?O["aria-disabled"]="true":s.readonly===!0&&(O["aria-readonly"]="true"),O}),se=_(()=>`q-slider q-slider${A.value} q-slider--${m.value===!0?"":"in"}active inline no-wrap `+(s.vertical===!0?"row":"column")+(s.disable===!0?" disabled":" q-slider--enabled"+(Y.value===!0?" q-slider--editable":""))+(T.value==="both"?" q-slider--focus":"")+(s.label||s.labelAlways===!0?" q-slider--label":"")+(s.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(s.dense===!0?" q-slider--dense q-slider--dense"+A.value:""));function xe(O){const ue="q-slider__"+O;return`${ue} ${ue}${A.value} ${ue}${A.value}${z.value}`}function $(O){const ue="q-slider__"+O;return`${ue} ${ue}${A.value}`}const Pe=_(()=>{const O=s.selectionColor||s.color;return"q-slider__selection absolute"+(O!==void 0?` text-${O}`:"")}),k=_(()=>$("markers")+" absolute overflow-hidden"),M=_(()=>$("track-container")),V=_(()=>xe("pin")),W=_(()=>xe("label")),H=_(()=>xe("text-container")),ee=_(()=>xe("marker-labels-container")+(s.markerLabelsClass!==void 0?` ${s.markerLabelsClass}`:"")),F=_(()=>"q-slider__track relative-position no-outline"+(s.trackColor!==void 0?` bg-${s.trackColor}`:"")),G=_(()=>{const O={[ie.value]:s.trackSize};return s.trackImg!==void 0&&(O.backgroundImage=`url(${s.trackImg}) !important`),O}),pe=_(()=>"q-slider__inner absolute"+(s.innerTrackColor!==void 0?` bg-${s.innerTrackColor}`:"")),D=_(()=>{const O={[ne.value]:`${100*qe.value}%`,[q.value]:`${100*(ye.value-qe.value)}%`};return s.innerTrackImg!==void 0&&(O.backgroundImage=`url(${s.innerTrackImg}) !important`),O});function K(O){const{min:ue,max:we,step:Me}=s;let Ee=ue+O*(we-ue);if(Me>0){const at=(Ee-ue)%Me;Ee+=(Math.abs(at)>=Me/2?(at<0?-1:1)*Me:0)-at}return R.value>0&&(Ee=parseFloat(Ee.toFixed(R.value))),Zt(Ee,J.value,B.value)}function Ie(O){return Ae.value===0?0:(O-s.min)/Ae.value}function Qe(O,ue){const we=kn(O),Me=s.vertical===!0?Zt((we.top-ue.top)/ue.height,0,1):Zt((we.left-ue.left)/ue.width,0,1);return Zt(E.value===!0?1-Me:Me,qe.value,ye.value)}const Be=_(()=>fo(s.markers)===!0?s.markers:Q.value),gt=_(()=>{const O=[],ue=Be.value,we=s.max;let Me=s.min;do O.push(Me),Me+=ue;while(Me<we);return O.push(we),O}),ot=_(()=>{const O=` ${Bs}${A.value}-`;return Bs+`${O}${s.switchMarkerLabelsSide===!0?"switched":"standard"}${O}${E.value===!0?"rtl":"ltr"}`}),nt=_(()=>s.markerLabels===!1?null:it(s.markerLabels).map((O,ue)=>({index:ue,value:O.value,label:O.label||O.value,classes:ot.value+(O.classes!==void 0?" "+O.classes:""),style:{...Ne(O.value),...O.style||{}}}))),lt=_(()=>({markerList:nt.value,markerMap:ht.value,classes:ot.value,getStyle:Ne})),dt=_(()=>{if(be.value!==0){const O=100*Be.value/be.value;return{...D.value,backgroundSize:s.vertical===!0?`2px ${O}%`:`${O}% 2px`}}return null});function it(O){if(O===!1)return null;if(O===!0)return gt.value.map(P0);if(typeof O=="function")return gt.value.map(we=>{const Me=O(we);return so(Me)===!0?{...Me,value:we}:{value:we,label:Me}});const ue=({value:we})=>we>=s.min&&we<=s.max;return Array.isArray(O)===!0?O.map(we=>so(we)===!0?we:{value:we}).filter(ue):Object.keys(O).map(we=>{const Me=O[we],Ee=Number(we);return so(Me)===!0?{...Me,value:Ee}:{value:Ee,label:Me}}).filter(ue)}function Ne(O){return{[ne.value]:`${100*(O-s.min)/Ae.value}%`}}const ht=_(()=>{if(s.markerLabels===!1)return null;const O={};return nt.value.forEach(ue=>{O[ue.value]=ue}),O});function At(){if(d["marker-label-group"]!==void 0)return d["marker-label-group"](lt.value);const O=d["marker-label"]||k0;return nt.value.map(ue=>O({marker:ue,...lt.value}))}const si=_(()=>[[C0,Ut,void 0,{[re.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ut(O){O.isFinal===!0?(w.value!==void 0&&(n(O.evt),O.touch===!0&&t(!0),w.value=void 0,c("pan","end")),m.value=!1,T.value=!1):O.isFirst===!0?(w.value=a(O.evt),n(O.evt),t(),m.value=!0,c("pan","start")):(n(O.evt),t())}function Mt(){T.value=!1}function jt(O){n(O,a(O)),t(),x.value=!0,m.value=!0,document.addEventListener("mouseup",Tt,!0)}function Tt(){x.value=!1,m.value=!1,t(!0),Mt(),document.removeEventListener("mouseup",Tt,!0)}function ft(O){n(O,a(O)),t(!0)}function Ct(O){Hl.includes(O.keyCode)&&t(!0)}function _t(O){if(s.vertical===!0)return null;const ue=f.lang.rtl!==s.reverse?1-O:O;return{transform:`translateX(calc(${2*ue-1} * ${s.thumbSize} / 2 + ${50-100*ue}%))`}}function bt(O){const ue=_(()=>x.value===!1&&(T.value===O.focusValue||T.value==="both")?" q-slider--focus":""),we=_(()=>`q-slider__thumb q-slider__thumb${A.value} q-slider__thumb${A.value}-${E.value===!0?"rtl":"ltr"} absolute non-selectable`+ue.value+(O.thumbColor.value!==void 0?` text-${O.thumbColor.value}`:"")),Me=_(()=>({width:s.thumbSize,height:s.thumbSize,[ne.value]:`${100*O.ratio.value}%`,zIndex:T.value===O.focusValue?2:void 0})),Ee=_(()=>O.labelColor.value!==void 0?` text-${O.labelColor.value}`:""),at=_(()=>_t(O.ratio.value)),yt=_(()=>"q-slider__text"+(O.labelTextColor.value!==void 0?` text-${O.labelTextColor.value}`:""));return()=>{const Rt=[S("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[S("path",{d:s.thumbPath})]),S("div",{class:"q-slider__focus-ring fit"})];return(s.label===!0||s.labelAlways===!0)&&(Rt.push(S("div",{class:V.value+" absolute fit no-pointer-events"+Ee.value},[S("div",{class:W.value,style:{minWidth:s.thumbSize}},[S("div",{class:H.value,style:at.value},[S("span",{class:yt.value},O.label.value)])])])),s.name!==void 0&&s.disable!==!0&&b(Rt,"push")),S("div",{class:we.value,style:Me.value,...O.getNodeData()},Rt)}}function pt(O,ue,we,Me){const Ee=[];s.innerTrackColor!=="transparent"&&Ee.push(S("div",{key:"inner",class:pe.value,style:D.value})),s.selectionColor!=="transparent"&&Ee.push(S("div",{key:"selection",class:Pe.value,style:O.value})),s.markers!==!1&&Ee.push(S("div",{key:"marker",class:k.value,style:dt.value})),Me(Ee);const at=[$s("div",{key:"trackC",class:M.value,tabindex:ue.value,...we.value},[S("div",{class:F.value,style:G.value},Ee)],"slide",Y.value,()=>si.value)];if(s.markerLabels!==!1){const yt=s.switchMarkerLabelsSide===!0?"unshift":"push";at[yt](S("div",{key:"markerL",class:ee.value},At()))}return at}return vt(()=>{document.removeEventListener("mouseup",Tt,!0)}),{state:{active:m,focus:T,preventFocus:x,dragging:w,editable:Y,classes:se,tabindex:ve,attributes:de,step:Q,decimals:R,trackLen:Ae,innerMin:J,innerMinRatio:qe,innerMax:B,innerMaxRatio:ye,positionProp:ne,sizeProp:q,isReversed:E},methods:{onActivate:jt,onMobileClick:ft,onBlur:Mt,onKeyup:Ct,getContent:pt,getThumbRenderFn:bt,convertRatioToModel:K,convertModelToRatio:Ie,getDraggingRatio:Qe}}}const di={MIN:0,RANGE:1,MAX:2};var _a=Ke({name:"QRange",props:{...L0,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:t=>"min"in t&&"max"in t},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:A0,setup(t,{emit:n}){const{proxy:{$q:a}}=et(),{state:l,methods:s}=M0({updateValue:be,updatePosition:ye,getDragging:qe,formAttrs:_(()=>({type:"hidden",name:t.name,value:`${t.modelValue.min}|${t.modelValue.max}`}))}),c=ae(null),d=ae(0),f=ae(0),p=ae({min:0,max:0});function b(){p.value.min=t.modelValue.min===null?l.innerMin.value:Zt(t.modelValue.min,l.innerMin.value,l.innerMax.value),p.value.max=t.modelValue.max===null?l.innerMax.value:Zt(t.modelValue.max,l.innerMin.value,l.innerMax.value)}ze(()=>`${t.modelValue.min}|${t.modelValue.max}|${l.innerMin.value}|${l.innerMax.value}`,b),b();const m=_(()=>s.convertModelToRatio(p.value.min)),x=_(()=>s.convertModelToRatio(p.value.max)),T=_(()=>l.active.value===!0?d.value:m.value),w=_(()=>l.active.value===!0?f.value:x.value),A=_(()=>{const q={[l.positionProp.value]:`${100*T.value}%`,[l.sizeProp.value]:`${100*(w.value-T.value)}%`};return t.selectionImg!==void 0&&(q.backgroundImage=`url(${t.selectionImg}) !important`),q}),z=_(()=>{if(l.editable.value!==!0)return{};if(a.platform.is.mobile===!0)return{onClick:s.onMobileClick};const q={onMousedown:s.onActivate};return(t.dragRange===!0||t.dragOnlyRange===!0)&&Object.assign(q,{onFocus:()=>{l.focus.value="both"},onBlur:s.onBlur,onKeydown:ne,onKeyup:s.onKeyup}),q});function E(q){return a.platform.is.mobile!==!0&&l.editable.value===!0&&t.dragOnlyRange!==!0?{onFocus:()=>{l.focus.value=q},onBlur:s.onBlur,onKeydown:ne,onKeyup:s.onKeyup}:{}}const J=_(()=>t.dragOnlyRange!==!0?l.tabindex.value:null),B=_(()=>a.platform.is.mobile!==!0&&(t.dragRange||t.dragOnlyRange===!0)?l.tabindex.value:null),Y=ae(null),R=_(()=>E("min")),Q=s.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:Y,key:"tmin",...R.value,tabindex:J.value}),ratio:T,label:_(()=>t.leftLabelValue!==void 0?t.leftLabelValue:p.value.min),thumbColor:_(()=>t.leftThumbColor||t.thumbColor||t.color),labelColor:_(()=>t.leftLabelColor||t.labelColor),labelTextColor:_(()=>t.leftLabelTextColor||t.labelTextColor)}),ve=_(()=>E("max")),Ae=s.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...ve.value,key:"tmax",tabindex:J.value}),ratio:w,label:_(()=>t.rightLabelValue!==void 0?t.rightLabelValue:p.value.max),thumbColor:_(()=>t.rightThumbColor||t.thumbColor||t.color),labelColor:_(()=>t.rightLabelColor||t.labelColor),labelTextColor:_(()=>t.rightLabelTextColor||t.labelTextColor)});function be(q){(p.value.min!==t.modelValue.min||p.value.max!==t.modelValue.max)&&n("update:modelValue",{...p.value}),q===!0&&n("change",{...p.value})}function qe(q){const{left:ie,top:re,width:de,height:se}=c.value.getBoundingClientRect(),xe=t.dragOnlyRange===!0?0:t.vertical===!0?Y.value.offsetHeight/(2*se):Y.value.offsetWidth/(2*de),$={left:ie,top:re,width:de,height:se,valueMin:p.value.min,valueMax:p.value.max,ratioMin:m.value,ratioMax:x.value},Pe=s.getDraggingRatio(q,$);return t.dragOnlyRange!==!0&&Pe<$.ratioMin+xe?$.type=di.MIN:t.dragOnlyRange===!0||Pe<$.ratioMax-xe?t.dragRange===!0||t.dragOnlyRange===!0?($.type=di.RANGE,Object.assign($,{offsetRatio:Pe,offsetModel:s.convertRatioToModel(Pe),rangeValue:$.valueMax-$.valueMin,rangeRatio:$.ratioMax-$.ratioMin})):$.type=$.ratioMax-Pe<Pe-$.ratioMin?di.MAX:di.MIN:$.type=di.MAX,$}function ye(q,ie=l.dragging.value){let re;const de=s.getDraggingRatio(q,ie),se=s.convertRatioToModel(de);switch(ie.type){case di.MIN:de<=ie.ratioMax?(re={minR:de,maxR:ie.ratioMax,min:se,max:ie.valueMax},l.focus.value="min"):(re={minR:ie.ratioMax,maxR:de,min:ie.valueMax,max:se},l.focus.value="max");break;case di.MAX:de>=ie.ratioMin?(re={minR:ie.ratioMin,maxR:de,min:ie.valueMin,max:se},l.focus.value="max"):(re={minR:de,maxR:ie.ratioMin,min:se,max:ie.valueMin},l.focus.value="min");break;case di.RANGE:const xe=de-ie.offsetRatio,$=Zt(ie.ratioMin+xe,0,1-ie.rangeRatio),Pe=se-ie.offsetModel,k=Zt(ie.valueMin+Pe,t.min,t.max-ie.rangeValue);re={minR:$,maxR:$+ie.rangeRatio,min:parseFloat(k.toFixed(l.decimals.value)),max:parseFloat((k+ie.rangeValue).toFixed(l.decimals.value))},l.focus.value="both";break}p.value=p.value.min===null||p.value.max===null?{min:re.min||t.min,max:re.max||t.max}:{min:re.min,max:re.max},t.snap!==!0||t.step===0?(d.value=re.minR,f.value=re.maxR):(d.value=s.convertModelToRatio(p.value.min),f.value=s.convertModelToRatio(p.value.max))}function ne(q){if(!Hl.includes(q.keyCode))return;ut(q);const ie=([34,33].includes(q.keyCode)?10:1)*l.step.value,re=([34,37,40].includes(q.keyCode)?-1:1)*(l.isReversed.value===!0?-1:1)*ie;if(l.focus.value==="both"){const de=p.value.max-p.value.min,se=Zt(parseFloat((p.value.min+re).toFixed(l.decimals.value)),l.innerMin.value,l.innerMax.value-de);p.value={min:se,max:parseFloat((se+de).toFixed(l.decimals.value))}}else{if(l.focus.value===!1)return;{const de=l.focus.value;p.value={...p.value,[de]:Zt(parseFloat((p.value[de]+re).toFixed(l.decimals.value)),de==="min"?l.innerMin.value:p.value.min,de==="max"?l.innerMax.value:p.value.max)}}}be()}return()=>{const q=s.getContent(A,B,z,ie=>{ie.push(Q(),Ae())});return S("div",{ref:c,class:"q-range "+l.classes.value+(t.modelValue.min===null||t.modelValue.max===null?" q-slider--no-value":""),...l.attributes.value,"aria-valuenow":t.modelValue.min+"|"+t.modelValue.max},q)}}}),z0=Ke({name:"QCardActions",props:{...lc,vertical:Boolean},setup(t,{slots:n}){const a=uc(t),l=_(()=>`q-card__actions ${a.value} q-card__actions--${t.vertical===!0?"vert column":"horiz row"}`);return()=>S("div",{class:l.value},Lt(n.default))}}),E0={name:"table-filters",data(){return{numBathRange:[1,2,3,4,5],numRange:[1,2,3,4,5,6,7,8]}},methods:{},computed:{filters(){return this.$store.state.filters}}};const O0={class:"table-filters"},I0=_e("div",{class:"text-h6"},"Filter Options",-1),B0=_e("label",{class:"label label-1"},"Finished Sq. Foot:",-1),R0={class:"q-pa-sm"},q0=_e("label",{class:"label label-1"},"Price Per Sq. Foot:",-1),D0={class:"q-pa-sm"},$0=_e("label",{class:"label label-1"},"Last Sale Amount:",-1),F0={class:"q-pa-sm"},N0=_e("label",{class:"label"},"# of Beds",-1),Z0=_e("label",{class:"label"},"# of Bathrooms",-1);function V0(t,n,a,l,s,c){return De(),We("div",O0,[oe(Qs,{style:{width:"500px",height:"auto"}},{default:He(()=>[oe(wi,{class:"bg-primary text-white q-mb-lg"},{default:He(()=>[I0]),_:1}),oe(wi,{class:"sqftRange no-wrap"},{default:He(()=>[B0,_e("div",R0,[oe(va,{color:"secondary"},{default:He(()=>[Ui(wt(t.filters.finishedSquareFtRange.min)+" to "+wt(t.filters.finishedSquareFtRange.max),1)]),_:1}),oe(_a,{modelValue:t.filters.finishedSquareFtRange,"onUpdate:modelValue":n[0]||(n[0]=d=>t.filters.finishedSquareFtRange=d),min:0,max:9500,step:10},null,8,["modelValue"])])]),_:1}),oe(wi,{class:"sqftRange no-wrap"},{default:He(()=>[q0,_e("div",D0,[oe(va,{color:"secondary"},{default:He(()=>[Ui(wt(t.filters.squareFtRange.min)+" to "+wt(t.filters.squareFtRange.max),1)]),_:1}),oe(_a,{modelValue:t.filters.squareFtRange,"onUpdate:modelValue":n[1]||(n[1]=d=>t.filters.squareFtRange=d),min:0,max:500,step:1},null,8,["modelValue"])])]),_:1}),oe(wi,{class:"lastPriceRange no-wrap"},{default:He(()=>[$0,_e("div",F0,[oe(va,{color:"secondary"},{default:He(()=>[Ui(wt(t.filters.lastPriceRange.min)+" to "+wt(t.filters.lastPriceRange.max),1)]),_:1}),oe(_a,{modelValue:t.filters.lastPriceRange,"onUpdate:modelValue":n[2]||(n[2]=d=>t.filters.lastPriceRange=d),min:2e4,max:1e6,step:1e4},null,8,["modelValue"])])]),_:1}),oe(wi,{class:"beds no-wrap"},{default:He(()=>[N0,oe(wo,{square:"",outlined:"",modelValue:t.filters.numOfBeds,"onUpdate:modelValue":n[3]||(n[3]=d=>t.filters.numOfBeds=d),options:t.numRange,label:"Beds"},null,8,["modelValue","options"])]),_:1}),oe(wi,{class:"bathrooms no-wrap"},{default:He(()=>[Z0,oe(wo,{square:"",outlined:"",modelValue:t.filters.numOfBathrooms,"onUpdate:modelValue":n[4]||(n[4]=d=>t.filters.numOfBathrooms=d),options:t.numBathRange,label:"Bathrooms"},null,8,["modelValue","options"])]),_:1}),oe(z0,{class:"q-mt-md actions"},{default:He(()=>[oe(St,{label:"Apply",color:"blue",onClick:n[5]||(n[5]=d=>t.$emit("update:filters",t.filters))}),oe(St,{label:"Clear",color:"black",onClick:n[6]||(n[6]=d=>t.$emit("clear:filters"))})]),_:1})]),_:1})])}var Ul=oi(E0,[["render",V0]]),H0={name:"table",data(){return{filterDialog:!1,maximizedToggle:!1,columns:[{name:"address",required:!0,label:"Address",align:"left",field:t=>t.address,format:t=>`${t}`,sortable:!0},{name:"finishedSqFt",label:"Finished SqFt",field:t=>t.finishedSqFt,format:t=>`${t}`,sortable:!0},{name:"rhcPsf",label:"RHC Price per SqFt",field:t=>t.rhcPsf,sortable:!0},{name:"lastSaleAmount",label:"Last Sale Amount",field:"lastSaleAmount",format:t=>"$"+t.toLocaleString("en-Us"),sortable:!0},{name:"lastSaleDate",label:"Last Sale Date",field:"lastSaleDate",sortable:!0},{name:"appraisalSale",label:"Appraisal Sale Amount",field:t=>t.appraisalSale,format:t=>"$"+t.toLocaleString("en-Us"),sortable:!0},{name:"appraisalDate",label:"Last Appraisal Date",field:"appraisalDate",sortable:!0},{label:"Zip Code",field:"zipCode"},{name:"bedrooms",label:"BedRooms",field:t=>t.bedrooms,sortable:!0},{name:"fullBath",label:"Baths",field:t=>t.fullBath,sortable:!0},{label:"Auditor Link",field:"parcelId",dataFormat:this.parcelLink}],excelData:[],filteredFeatures:this.$store.state.features,searchText:null,sheet:{}}},components:{TableFilters:Ul},mounted(){ho.get("https://rhc-backend.herokuapp.com/rhc/api/properties/address").then(t=>{let n=t.data,a=[],l=0,s=n.length;for(;l<s;)a.push({id:l,name:n[l]}),l++;this.autoAddress=a}).catch(()=>{console.log("----ERROR----")})},methods:{clearFilters(){this.filteredFeatures=this.$store.state.features,this.filterDialog=!1},customSort(t,n,a){const l=[...t];return n&&l.sort((s,c)=>{const d=a?c:s,f=a?s:c;return n==="name"?d[n]>f[n]?1:d[n]<f[n]?-1:0:parseFloat(d[n])-parseFloat(f[n])}),l},exportAsExcel(){},highLighter(t){if(this.searchText==t)return"featured-row"},setFeatureFromTable(t){const n=this.features.find(a=>t.some(l=>a.properties.parcelId===l.parcelId));this.setSelectedFeature(n)},parcelLink:function(t){return"https://wedge.hcauditor.org/view/re/"+t+"/2021/summary"},getPropertyValue(t,n){return t[n]},updateTable(t){this.filterDialog=!1,t.dateRange.from.split("/");const[n,a,l]=t.dateRange.to.split("/"),s=`${n}-${l}-${a}`,c=new Date(s);this.filteredFeatures=this.$store.state.features.filter(d=>(console.log("date",c),d.bedrooms===t.numOfBeds&&d.fullBath===t.numOfBathrooms&&d.lastSaleAmount>=t.lastPriceRange.min&&d.lastSaleAmount<=t.lastPriceRange.max&&d.rhcPsf>=t.squareFtRange.min&&d.finishedSqFt>=t.finishedSquareFtRange.min&&d.finishedSqFt<=t.finishedSquareFtRange.max))},_filter:ka},computed:{tableData(){return this.filteredFeatures}}};const U0={class:"result-table"},j0={class:"result-table_btns"},W0={class:"table_btns_search"};function G0(t,n,a,l,s,c){const d=Vt("TableFilters");return De(),We("div",U0,[oe(fi,{name:"fas fa-filter",color:"secondary",size:"1.5rem",style:{float:"left","margin-bottom":"1rem"},class:"filter-icon",onClick:n[0]||(n[0]=f=>t.filterDialog=!t.filterDialog)}),oe(Va,{class:"search-popup",dark:!0,modelValue:t.filterDialog,"onUpdate:modelValue":n[1]||(n[1]=f=>t.filterDialog=f),maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:He(()=>[oe(d,{"onUpdate:filters":t.updateTable,"onClear:filters":t.clearFilters},null,8,["onUpdate:filters","onClear:filters"])]),_:1},8,["modelValue","maximized"]),oe(x0,{class:"my-sticky-header-table",title:"Results",rows:t.tableData,columns:t.columns,"rows-per-page-options":[10],"row-key":t.name,pagination:t.pagination,"onUpdate:pagination":n[2]||(n[2]=f=>t.pagination=f),flat:"",bordered:""},null,8,["rows","columns","row-key","pagination"]),_e("div",j0,[_e("div",W0,[oe(St,{flattened:"",color:"primary",size:t.md,label:"Search",onClick:n[3]||(n[3]=f=>t.$emit("openSearch"))},null,8,["size"])])])])}var K0=oi(H0,[["render",G0]]),Y0={name:"dashboard",data(){return{coords:[],dialog:!0,maximizedToggle:!1,searchType:null,tableData:[]}},components:{MapTest:_l,SearchBar:Sy,Summary:qy,Table:K0,TableFilters:Ul},methods:{handleSearchRequest(t){this.dialog=!1,this.tableData=t.tableData,this.searchType=t.searchType},updateMarkers(t){console.log("updateMarkers",t),this.coords=t}}};const Q0={class:"dashboard"},X0=Ui("Minimize"),J0=Ui("Maximize"),ex=Ui("Close"),tx={key:0};function ix(t,n,a,l,s,c){const d=Vt("search-bar"),f=Vt("Summary"),p=Vt("Table"),b=Vt("map-test");return De(),We("div",Q0,[oe(Va,{class:"search-popup",modelValue:t.dialog,"onUpdate:modelValue":n[3]||(n[3]=m=>t.dialog=m),persistent:"","full-width":"",maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},{default:He(()=>[oe(Qs,null,{default:He(()=>[oe(Pc,{class:"bg-primary"},{default:He(()=>[oe(bc),oe(St,{dense:"",flat:"",icon:"minimize",onClick:n[0]||(n[0]=m=>t.maximizedToggle=!1),disable:!t.maximizedToggle},{default:He(()=>[t.maximizedToggle?(De(),ro(ra,{key:0,class:"bg-black text-white"},{default:He(()=>[X0]),_:1})):ni("",!0)]),_:1},8,["disable"]),oe(St,{dense:"",flat:"",icon:"crop_square",onClick:n[1]||(n[1]=m=>t.maximizedToggle=!0),disable:t.maximizedToggle},{default:He(()=>[t.maximizedToggle?ni("",!0):(De(),ro(ra,{key:0,class:"bg-black text-white"},{default:He(()=>[J0]),_:1}))]),_:1},8,["disable"]),za((De(),ro(St,{dense:"",flat:"",icon:"close"},{default:He(()=>[oe(ra,{class:"bg-black text-white"},{default:He(()=>[ex]),_:1})]),_:1})),[[Rc]])]),_:1}),oe(wi,{class:"q-pt-none q-mt-lg"},{default:He(()=>[oe(d,{onCloseDialog:t.handleSearchRequest,onCoordUpdate:n[2]||(n[2]=m=>t.updateMarkers(m))},null,8,["onCloseDialog"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),t.dialog?ni("",!0):(De(),We("div",tx,[oe(f),oe(p,{propyData:"tableData",selectedSearchOptionType:"searchType",onOpenSearch:n[4]||(n[4]=m=>t.dialog=!0)}),oe(b,{class:"dashboard-map",latlong:t.coords},null,8,["latlong"])]))])}var sx=oi(Y0,[["render",ix]]);export{sx as default};
